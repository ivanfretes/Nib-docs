(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"6BZX":function(e,t,n){"use strict";(function(e){function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n("17x9"),i=r(o),a=n("q1tI"),s=r(a),l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function u(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var d=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},f=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(t){}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();function h(e){function t(e,t,r){var o=t.trim().split(h);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=n(e,t[s],r).trim();break;default:var l=s=0;for(t=[];s<i;++s)for(var c=0;c<a;++c)t[l++]=n(e[c]+" ",o[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,i){var a=e+";",s=2*t+3*n+4*i;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===T||2===T&&o(l,1)?"-webkit-"+l+l:l}if(0===T||2===T&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(M,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return d.test(a)?a.replace(u,":-webkit-")+a.replace(u,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(b,"tb");break;case 232:l=a.replace(b,"tb-rl");break;case 220:l=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(C,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(C,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,i).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),L(2!==t?r:r.replace(x,"$1"),n,t)}function i(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(k," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,o,i,a,s,c,p){for(var u,d=0,f=t;d<R;++d)switch(u=D[d].call(l,e,f,n,r,o,i,a,s,c,p)){case void 0:case!1:case!0:case null:break;default:f=u}if(f!==t)return f}function s(e){return void 0!==(e=e.prefix)&&(L=null,e?"function"!=typeof e?T=1:(T=2,L=e):T=0),s}function l(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<R){var l=a(-1,n,s,s,O,E,0,0,0,0);void 0!==l&&"string"==typeof l&&(n=l)}var u=function e(n,s,l,u,d){for(var f,h,m,b,k,C=0,x=0,S=0,M=0,D=0,L=0,F=m=f=0,z=0,I=0,$=0,B=0,_=l.length,j=_-1,W="",V="",q="",H="";z<_;){if(h=l.charCodeAt(z),z===j&&0!==x+M+S+C&&(0!==x&&(h=47===x?10:47),M=S=C=0,_++,j++),0===x+M+S+C){if(z===j&&(0<I&&(W=W.replace(p,"")),0<W.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:W+=l.charAt(z)}h=59}switch(h){case 123:for(f=(W=W.trim()).charCodeAt(0),m=1,B=++z;z<_;){switch(h=l.charCodeAt(z)){case 123:m++;break;case 125:m--;break;case 47:switch(h=l.charCodeAt(z+1)){case 42:case 47:e:{for(F=z+1;F<j;++F)switch(l.charCodeAt(F)){case 47:if(42===h&&42===l.charCodeAt(F-1)&&z+2!==F){z=F+1;break e}break;case 10:if(47===h){z=F+1;break e}}z=F}}break;case 91:h++;case 40:h++;case 34:case 39:for(;z++<j&&l.charCodeAt(z)!==h;);}if(0===m)break;z++}switch(m=l.substring(B,z),0===f&&(f=(W=W.replace(c,"").trim()).charCodeAt(0)),f){case 64:switch(0<I&&(W=W.replace(p,"")),h=W.charCodeAt(1)){case 100:case 109:case 115:case 45:I=s;break;default:I=N}if(B=(m=e(s,I,m,h,d+1)).length,0<R&&(k=a(3,m,I=t(N,W,$),s,O,E,B,h,d,u),W=I.join(""),void 0!==k&&0===(B=(m=k.trim()).length)&&(h=0,m="")),0<B)switch(h){case 115:W=W.replace(w,i);case 100:case 109:case 45:m=W+"{"+m+"}";break;case 107:m=(W=W.replace(v,"$1 $2"))+"{"+m+"}",m=1===T||2===T&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=W+m,112===u&&(V+=m,m="")}else m="";break;default:m=e(s,t(s,W,$),m,u,d+1)}q+=m,m=$=I=F=f=0,W="",h=l.charCodeAt(++z);break;case 125:case 59:if(1<(B=(W=(0<I?W.replace(p,""):W).trim()).length))switch(0===F&&(f=W.charCodeAt(0),45===f||96<f&&123>f)&&(B=(W=W.replace(" ",":")).length),0<R&&void 0!==(k=a(1,W,s,n,O,E,V.length,u,d,u))&&0===(B=(W=k.trim()).length)&&(W="\0\0"),f=W.charCodeAt(0),h=W.charCodeAt(1),f){case 0:break;case 64:if(105===h||99===h){H+=W+l.charAt(z);break}default:58!==W.charCodeAt(B-1)&&(V+=r(W,f,h,W.charCodeAt(2)))}$=I=F=f=0,W="",h=l.charCodeAt(++z)}}switch(h){case 13:case 10:47===x?x=0:0===1+f&&107!==u&&0<W.length&&(I=1,W+="\0"),0<R*P&&a(0,W,s,n,O,E,V.length,u,d,u),E=1,O++;break;case 59:case 125:if(0===x+M+S+C){E++;break}default:switch(E++,b=l.charAt(z),h){case 9:case 32:if(0===M+C+x)switch(D){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===M+x+C&&(I=$=1,b="\f"+b);break;case 108:if(0===M+x+C+A&&0<F)switch(z-F){case 2:112===D&&58===l.charCodeAt(z-3)&&(A=D);case 8:111===L&&(A=L)}break;case 58:0===M+x+C&&(F=z);break;case 44:0===x+S+M+C&&(I=1,b+="\r");break;case 34:case 39:0===x&&(M=M===h?0:0===M?h:M);break;case 91:0===M+x+S&&C++;break;case 93:0===M+x+S&&C--;break;case 41:0===M+x+C&&S--;break;case 40:if(0===M+x+C){if(0===f)switch(2*D+3*L){case 533:break;default:f=1}S++}break;case 64:0===x+S+M+C+F+m&&(m=1);break;case 42:case 47:if(!(0<M+C+S))switch(x){case 0:switch(2*h+3*l.charCodeAt(z+1)){case 235:x=47;break;case 220:B=z,x=42}break;case 42:47===h&&42===D&&B+2!==z&&(33===l.charCodeAt(B+2)&&(V+=l.substring(B,z+1)),b="",x=0)}}0===x&&(W+=b)}L=D,D=h,z++}if(0<(B=V.length)){if(I=s,0<R&&void 0!==(k=a(2,V,I,n,O,E,B,u,d,u))&&0===(V=k).length)return H+V+q;if(V=I.join(",")+"{"+V+"}",0!=T*A){switch(2!==T||o(V,2)||(A=0),A){case 111:V=V.replace(y,":-moz-$1")+V;break;case 112:V=V.replace(g,"::-webkit-input-$1")+V.replace(g,"::-moz-$1")+V.replace(g,":-ms-input-$1")+V}A=0}}return H+V+q}(N,s,n,0,0);return 0<R&&void 0!==(l=a(-2,u,s,s,O,E,u.length,0,0,0))&&(u=l),A=0,E=O=1,u}var c=/^\0+/g,p=/[\0\r\f]/g,u=/: */g,d=/zoo|gra/,f=/([,: ])(transform)/g,h=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,C=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,M=/([^-])(image-set\()/,E=1,O=1,A=0,T=1,N=[],D=[],R=0,L=null,P=0;return l.use=function e(t){switch(t){case void 0:case null:R=D.length=0;break;default:if("function"==typeof t)D[R++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else P=0|!!t}return e},l.set=s,void 0!==e&&s(e),l}var m=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};function v(e){e&&g.current.insert(e+"}")}var g={current:null},y=function(e,t,n,r,o,i,a,s,l,c){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return g.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+"/*|*/";break;case 3:switch(s){case 102:case 112:return g.current.insert(n[0]+t),"";default:return t+(0===c?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(v)}};function b(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var w=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+r,o,e.sheet,!0),o=o.next}while(void 0!==o)}},k={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function C(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var x=/[A-Z]|^ms/g,S=/_EMO_([^_]+?)_([^]*?)_EMO_/g,M=function(e){return 45===e.charCodeAt(1)},E=function(e){return null!=e&&"boolean"!=typeof e},O=C((function(e){return M(e)?e:e.replace(x,"-$&").toLowerCase()})),A=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(S,(function(e,t,n){return N={name:t,styles:n,next:N},t}))}return 1===k[e]||M(e)||"number"!=typeof t||0===t?t:t+"px"};function T(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return N={name:n.name,styles:n.styles,next:N},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)N={name:o.name,styles:o.styles,next:N},o=o.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=T(e,t,n[o],!1);else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":E(a)&&(r+=O(i)+":"+A(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=T(e,t,a,!1);switch(i){case"animation":case"animationName":r+=O(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var l=0;l<a.length;l++)E(a[l])&&(r+=O(i)+":"+A(i,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=N,a=n(e);return N=i,T(e,t,a,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var N,D=/label:\s*([^\s;\n{]+)\s*;/g,R=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";N=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=T(n,t,i,!1)):o+=i[0];for(var a=1;a<e.length;a++)o+=T(n,t,e[a],46===o.charCodeAt(o.length-1)),r&&(o+=i[a]);D.lastIndex=0;for(var s,l="";null!==(s=D.exec(o));)l+="-"+s[1];return{name:function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l,styles:o,next:N}};function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return R(t)}var P=a.createContext("undefined"!=typeof HTMLElement?function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new h(t);var o,i={};o=e.container||document.head;var a,s=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(s,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){i[e]=!0})),e.parentNode!==o&&o.appendChild(e)})),r.use(e.stylisPlugins)(y),a=function(e,t,n,o){var i=t.name;g.current=n,r(e,t.styles),o&&(l.inserted[i]=!0)};var l={key:n,sheet:new f({key:n,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:i,registered:{},insert:a};return l}():null),F=a.createContext({}),z=(P.Provider,function(e){return a.forwardRef((function(t,n){return a.createElement(P.Consumer,null,(function(r){return e(t,r,n)}))}))}),I="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",$=Object.prototype.hasOwnProperty,B=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"==typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var i=t[I],s=[o],l="";"string"==typeof t.className?l=b(e.registered,s,t.className):null!=t.className&&(l=t.className+" ");var c=R(s);w(e,c,"string"==typeof i),l+=e.key+"-"+c.name;var p={};for(var u in t)!$.call(t,u)||"css"===u||u===I||(p[u]=t[u]);return p.ref=r,p.className=l,a.createElement(i,p)},_=z((function(e,t,n){return"function"==typeof e.css?a.createElement(F.Consumer,null,(function(r){return B(t,e,r,n)})):B(t,e,null,n)})),j=function(){var e=L.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},W=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function V(e,t,n){var r=[],o=b(e,r,n);return r.length<2?n:o+t(r)}var q=z((function(e,t){return a.createElement(F.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=R(n,t.registered);return w(t,o,!1),t.key+"-"+o.name},o={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return V(t.registered,r,W(n))},theme:n},i=e.children(o);return!0,i}))}));function H(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function K(e,t){return e(t={exports:{}},t.exports),t.exports}var J=K((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t})),U="function"==typeof Symbol&&Symbol.for,X=U?Symbol.for("react.element"):60103,Z=U?Symbol.for("react.portal"):60106,G=U?Symbol.for("react.fragment"):60107,Y=U?Symbol.for("react.strict_mode"):60108,Q=U?Symbol.for("react.profiler"):60114,ee=U?Symbol.for("react.provider"):60109,te=U?Symbol.for("react.context"):60110,ne=U?Symbol.for("react.async_mode"):60111,re=U?Symbol.for("react.concurrent_mode"):60111,oe=U?Symbol.for("react.forward_ref"):60112,ie=U?Symbol.for("react.suspense"):60113,ae=U?Symbol.for("react.suspense_list"):60120,se=U?Symbol.for("react.memo"):60115,le=U?Symbol.for("react.lazy"):60116,ce=U?Symbol.for("react.block"):60121,pe=U?Symbol.for("react.fundamental"):60117,ue=U?Symbol.for("react.responder"):60118,de=U?Symbol.for("react.scope"):60119;function fe(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case X:switch(e=e.type){case ne:case re:case G:case Q:case Y:case ie:return e;default:switch(e=e&&e.$$typeof){case te:case oe:case le:case se:case ee:return e;default:return t}}case Z:return t}}}function he(e){return fe(e)===re}var me={AsyncMode:ne,ConcurrentMode:re,ContextConsumer:te,ContextProvider:ee,Element:X,ForwardRef:oe,Fragment:G,Lazy:le,Memo:se,Portal:Z,Profiler:Q,StrictMode:Y,Suspense:ie,isAsyncMode:function(e){return he(e)||fe(e)===ne},isConcurrentMode:he,isContextConsumer:function(e){return fe(e)===te},isContextProvider:function(e){return fe(e)===ee},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===X},isForwardRef:function(e){return fe(e)===oe},isFragment:function(e){return fe(e)===G},isLazy:function(e){return fe(e)===le},isMemo:function(e){return fe(e)===se},isPortal:function(e){return fe(e)===Z},isProfiler:function(e){return fe(e)===Q},isStrictMode:function(e){return fe(e)===Y},isSuspense:function(e){return fe(e)===ie},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===G||e===re||e===Q||e===Y||e===ie||e===ae||"object"==typeof e&&null!==e&&(e.$$typeof===le||e.$$typeof===se||e.$$typeof===ee||e.$$typeof===te||e.$$typeof===oe||e.$$typeof===pe||e.$$typeof===ue||e.$$typeof===de||e.$$typeof===ce)},typeOf:fe},ve=K((function(e,t){})),ge=(ve.AsyncMode,ve.ConcurrentMode,ve.ContextConsumer,ve.ContextProvider,ve.Element,ve.ForwardRef,ve.Fragment,ve.Lazy,ve.Memo,ve.Portal,ve.Profiler,ve.StrictMode,ve.Suspense,ve.isAsyncMode,ve.isConcurrentMode,ve.isContextConsumer,ve.isContextProvider,ve.isElement,ve.isForwardRef,ve.isFragment,ve.isLazy,ve.isMemo,ve.isPortal,ve.isProfiler,ve.isStrictMode,ve.isSuspense,ve.isValidElementType,ve.typeOf,K((function(e){e.exports=me}))),ye={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},be={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},we={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ke={};function Ce(e){return ge.isMemo(e)?we:ke[e.$$typeof]||ye}ke[ge.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ke[ge.Memo]=we;var xe=Object.defineProperty,Se=Object.getOwnPropertyNames,Me=Object.getOwnPropertySymbols,Ee=Object.getOwnPropertyDescriptor,Oe=Object.getPrototypeOf,Ae=Object.prototype,Te=function e(t,n,r){if("string"!=typeof n){if(Ae){var o=Oe(n);o&&o!==Ae&&e(t,o,r)}var i=Se(n);Me&&(i=i.concat(Me(n)));for(var a=Ce(t),s=Ce(n),l=0;l<i.length;++l){var c=i[l];if(!(be[c]||r&&r[c]||s&&s[c]||a&&a[c])){var p=Ee(n,c);try{xe(t,c,p)}catch(e){}}}}return t};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var De=m((function(e){return m((function(t){return function(e,t){return"function"==typeof t?t(e):function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)}(e,t)}))})),Re=function(e){return a.createElement(F.Consumer,null,(function(t){return e.theme!==t&&(t=De(t)(e.theme)),a.createElement(F.Provider,{value:t},e.children)}))};function Le(e){var t=e.displayName||e.name||"Component",n=a.forwardRef((function(t,n){return a.createElement(F.Consumer,null,(function(r){return a.createElement(e,J({theme:r,ref:n},t))}))}));return n.displayName="WithTheme("+t+")",Te(n,e)}var Pe={color:{border:{primary:"#e0e0e0",secondary:"#757575"},highlight:{primary:"#2962ff",secondary:"#2962ff1a"},disabled:{primary:"#bdbdbd",secondary:"#bdbdbd80"},text:{primary:"#212121",secondary:"#424242",light:"#757575"},backgroundHighlight:{primary:"#fff9c4",secondary:"#ffeb3b"},textHighlight:{primary:"#212121"},background:{primary:"#FFFFFF",secondary:"#efefef",light:"#fcfcfc"},opaque:"#00000080",blurMarker:"rgb(220,220,220)",error:{primary:"#ff1744"}},fontSize:{extraLarge:"20px",large:"16px",medium:"14px",small:"12px"},fontWeight:{medium:"normal"},borderRadius:{small:"2px",large:"4px"},border:{primary:"1px solid #e0e0e0"},boxShadow:{primary:"#cdcdcdbf 0px 2px 4px -2px, #cdcdcdbf 0px 0px 1px",secondary:"rgb(235, 236, 240) 0px 1px 0px"}},Fe={wrapper:function(){},editor:function(){},toolbar:{top:function(){},inline:function(){}},separator:function(){},spinner:function(){},select:{wrapper:function(){},label:function(){},menu:function(){},option:function(){}},popup:{wrapper:function(){},arrowTop:function(){},arrowBottom:function(){}},modal:{wrapper:function(){},title:function(){},header:function(){},main:function(){}},input:{wrapper:function(){},input:function(){}},icon:function(){},button:{toolbar:function(){},primary:function(){}},table:{table:function(){},cellMenu:{wrapper:function(){},icon:function(){},option:function(){}}}},ze=function(e,t){if(void 0===t)return e;var n={};return Object.keys(e).forEach((function(r){"object"==typeof e[r]?n[r]=ze(e[r],t[r]):n[r]=void 0===t[r]?e[r]:t[r]})),n},Ie=function(e){var t=e.children,n=e.theme,r=e.styleConfig,o=function(){var e=ze(Fe,r);return e.constants=ze(Pe,n),e},i=a.useState(o()),s=i[0],l=i[1];return a.useEffect((function(){l(o())}),[n,r]),a.createElement(Re,{theme:s},t)},$e={plugins:{options:"block inline color link blockquote list image help",color:{colors:["#212121","#e0e0e0","#6a1b9a","#0d47a1","#1b5e20","#c62828","#ffeb3b"]}},toolbar:{options:"top",top:{options:"block inline color link blockquote list image history help",block:{options:"p h1 h2 h3 h4 h5 h6",grouped:!0},inline:{options:"strong em underline strike subsup code"}},inline:{options:"block inline link list image",block:{options:"p h1 h2 h3",grouped:!1},inline:{options:"strong em underline"}}}},Be=a.createContext(void 0),_e=function(e){var t=e.config,n=e.licenseKey,r=void 0===n?"":n,o=e.children,i=a.useState({listeners:[],addListener:function(e){this.listeners.push(e)},removeListener:function(e){var t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)},dispatch:function(e){this.listeners.forEach((function(t){t(e)}))}})[0],s=ze($e,t);return a.createElement(Be.Provider,{value:{config:s,dispatcher:i,licenseKey:r}},o)},je=(Be.Consumer,function(){return c({},a.useContext(Be))}),We=a.createContext({pmstate:void 0}),Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pmstate:void 0},t.updateView=function(e){t.setState({pmstate:{pmview:e}})},t}return function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.context.dispatcher.addListener(this.updateView)},t.prototype.componentWillUnmount=function(){this.context.dispatcher.removeListener(this.updateView)},t.prototype.render=function(){var e=this.state.pmstate,t=this.props.children;return a.createElement(We.Provider,{value:{pmstate:e}},t)},t.contextType=Be,t}(a.PureComponent),qe=(We.Consumer,function(){return c({},a.useContext(We))}),He=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Ke=Object.prototype.toString;function Je(e){return"[object Array]"===Ke.call(e)}function Ue(e){return void 0===e}function Xe(e){return null!==e&&"object"==typeof e}function Ze(e){return"[object Function]"===Ke.call(e)}function Ge(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Je(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var Ye={isArray:Je,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Ke.call(e)},isBuffer:function(e){return null!==e&&!Ue(e)&&null!==e.constructor&&!Ue(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Xe,isUndefined:Ue,isDate:function(e){return"[object Date]"===Ke.call(e)},isFile:function(e){return"[object File]"===Ke.call(e)},isBlob:function(e){return"[object Blob]"===Ke.call(e)},isFunction:Ze,isStream:function(e){return Xe(e)&&Ze(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:Ge,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)Ge(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)Ge(arguments[r],n);return t},extend:function(e,t,n){return Ge(t,(function(t,r){e[r]=n&&"function"==typeof t?He(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function Qe(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var et=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(Ye.isURLSearchParams(t))r=t.toString();else{var o=[];Ye.forEach(t,(function(e,t){null!=e&&(Ye.isArray(e)?t+="[]":e=[e],Ye.forEach(e,(function(e){Ye.isDate(e)?e=e.toISOString():Ye.isObject(e)&&(e=JSON.stringify(e)),o.push(Qe(t)+"="+Qe(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function tt(){this.handlers=[]}tt.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},tt.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},tt.prototype.forEach=function(e){Ye.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var nt=tt,rt=function(e,t,n){return Ye.forEach(n,(function(n){e=n(e,t)})),e},ot=function(e){return!(!e||!e.__CANCEL__)},it=function(e,t){Ye.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},at=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)},st=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],lt=Ye.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Ye.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},ct=Ye.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),Ye.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Ye.isString(r)&&a.push("path="+r),Ye.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},pt={"Content-Type":"application/x-www-form-urlencoded"};function ut(e,t){!Ye.isUndefined(e)&&Ye.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var dt,ft={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(dt=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers;Ye.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password||"";o.Authorization="Basic "+btoa(a+":"+s)}var l,c,p=(l=e.baseURL,c=e.url,l&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(l,c):c);if(i.open(e.method.toUpperCase(),et(p,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in i?function(e){var t,n,r,o={};return e?(Ye.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=Ye.trim(e.substr(0,r)).toLowerCase(),n=Ye.trim(e.substr(r+1)),t){if(o[t]&&st.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}(i.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:r,config:e,request:i};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(at("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,o),i=null}},i.onabort=function(){i&&(n(at("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(at("Network Error",e,null,i)),i=null},i.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(at(t,e,"ECONNABORTED",i)),i=null},Ye.isStandardBrowserEnv()){var u=ct,d=(e.withCredentials||lt(p))&&e.xsrfCookieName?u.read(e.xsrfCookieName):void 0;d&&(o[e.xsrfHeaderName]=d)}if("setRequestHeader"in i&&Ye.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),Ye.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),n(e),i=null)})),void 0===r&&(r=null),i.send(r)}))}),dt),transformRequest:[function(e,t){return it(t,"Accept"),it(t,"Content-Type"),Ye.isFormData(e)||Ye.isArrayBuffer(e)||Ye.isBuffer(e)||Ye.isStream(e)||Ye.isFile(e)||Ye.isBlob(e)?e:Ye.isArrayBufferView(e)?e.buffer:Ye.isURLSearchParams(e)?(ut(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Ye.isObject(e)?(ut(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ye.forEach(["delete","get","head"],(function(e){ft.headers[e]={}})),Ye.forEach(["post","put","patch"],(function(e){ft.headers[e]=Ye.merge(pt)}));var ht=ft;function mt(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var vt=function(e){return mt(e),e.headers=e.headers||{},e.data=rt(e.data,e.headers,e.transformRequest),e.headers=Ye.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Ye.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||ht.adapter)(e).then((function(t){return mt(e),t.data=rt(t.data,t.headers,e.transformResponse),t}),(function(t){return ot(t)||(mt(e),t&&t.response&&(t.response.data=rt(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},gt=function(e,t){t=t||{};var n={},r=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];Ye.forEach(r,(function(e){void 0!==t[e]&&(n[e]=t[e])})),Ye.forEach(o,(function(r){Ye.isObject(t[r])?n[r]=Ye.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:Ye.isObject(e[r])?n[r]=Ye.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),Ye.forEach(i,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var a=r.concat(o).concat(i),s=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return Ye.forEach(s,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n};function yt(e){this.defaults=e,this.interceptors={request:new nt,response:new nt}}yt.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=gt(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[vt,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},yt.prototype.getUri=function(e){return e=gt(this.defaults,e),et(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Ye.forEach(["delete","get","head","options"],(function(e){yt.prototype[e]=function(t,n){return this.request(Ye.merge(n||{},{method:e,url:t}))}})),Ye.forEach(["post","put","patch"],(function(e){yt.prototype[e]=function(t,n,r){return this.request(Ye.merge(r||{},{method:e,url:t,data:n}))}}));var bt=yt;function wt(e){this.message=e}wt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},wt.prototype.__CANCEL__=!0;var kt=wt;function Ct(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new kt(e),t(n.reason))}))}Ct.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ct.source=function(){var e;return{token:new Ct((function(t){e=t})),cancel:e}};var xt=Ct;function St(e){var t=new bt(e),n=He(bt.prototype.request,t);return Ye.extend(n,bt.prototype,t),Ye.extend(n,t),n}var Mt=St(ht);Mt.Axios=bt,Mt.create=function(e){return St(gt(Mt.defaults,e))},Mt.Cancel=kt,Mt.CancelToken=xt,Mt.isCancel=ot,Mt.all=function(e){return Promise.all(e)},Mt.spread=function(e){return function(t){return e.apply(null,t)}};var Et=Mt,Ot=Mt;Et.default=Ot;var At=Et,Tt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Nt=C((function(e){return Tt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Dt=function(e){return"theme"!==e&&"innerRef"!==e},Rt=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?Nt:Dt};function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft=function e(t,n){var r,o,i;void 0!==n&&(r=n.label,i=n.target,o=t.__emotion_forwardProp&&n.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&n.shouldForwardProp(e)}:n.shouldForwardProp);var s=t.__emotion_real===t,l=s&&t.__emotion_base||t;"function"!=typeof o&&s&&(o=t.__emotion_forwardProp);var c=o||Rt(l),p=!c("as");return function(){var u=arguments,d=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==u[0]||void 0===u[0].raw)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,h=1;h<f;h++)d.push(u[h],u[0][h])}var m=z((function(e,t,n){return a.createElement(F.Consumer,null,(function(r){var s=p&&e.as||l,u="",f=[],h=e;if(null==e.theme){for(var m in h={},e)h[m]=e[m];h.theme=r}"string"==typeof e.className?u=b(t.registered,f,e.className):null!=e.className&&(u=e.className+" ");var v=R(d.concat(f),t.registered,h);w(t,v,"string"==typeof s),u+=t.key+"-"+v.name,void 0!==i&&(u+=" "+i);var g=p&&void 0===o?Rt(s):c,y={};for(var k in e)p&&"as"===k||g(k)&&(y[k]=e[k]);return y.className=u,y.ref=n||e.innerRef,a.createElement(s,y)}))}));return m.displayName=void 0!==r?r:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=l,m.__emotion_styles=d,m.__emotion_forwardProp=o,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,void 0!==r?Pt({},n||{},{},r):n).apply(void 0,d)},m}},zt=Ft.bind();function It(e){this.content=e}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){zt[e]=zt(e)})),It.prototype={constructor:It,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new It(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new It(n)},addToStart:function(e,t){return new It([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new It(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new It(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=It.from(e)).size?new It(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=It.from(e)).size?new It(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=It.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},It.from=function(e){if(e instanceof It)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new It(t)};var $t=It,Bt=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},_t={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Bt.prototype.nodesBetween=function(e,t,n,r,o){void 0===r&&(r=0);for(var i=0,a=0;a<t;i++){var s=this.content[i],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,o,i)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,e-c),Math.min(s.content.size,t-c),n,r+c)}a=l}},Bt.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},Bt.prototype.textBetween=function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(a,s){a.isText?(o+=a.text.slice(Math.max(e,s)-s,t-s),i=!n):a.isLeaf&&r?(o+=r,i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o},Bt.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new Bt(r,this.size+e.size)},Bt.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var o=0,i=0;i<t;o++){var a=this.content[o],s=i+a.nodeSize;s>e&&((i<e||s>t)&&(a=a.isText?a.cut(Math.max(0,e-i),Math.min(a.text.length,t-i)):a.cut(Math.max(0,e-i-1),Math.min(a.content.size,t-i-1))),n.push(a),r+=a.nodeSize),i=s}return new Bt(n,r)},Bt.prototype.cutByIndex=function(e,t){return e==t?Bt.empty:0==e&&t==this.content.length?this:new Bt(this.content.slice(e,t))},Bt.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new Bt(r,o)},Bt.prototype.addToStart=function(e){return new Bt([e].concat(this.content),this.size+e.nodeSize)},Bt.prototype.addToEnd=function(e){return new Bt(this.content.concat(e),this.size+e.nodeSize)},Bt.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},_t.firstChild.get=function(){return this.content.length?this.content[0]:null},_t.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},_t.childCount.get=function(){return this.content.length},Bt.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},Bt.prototype.maybeChild=function(e){return this.content[e]},Bt.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}},Bt.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),function e(t,n,r){for(var o=0;;o++){if(o==t.childCount||o==n.childCount)return t.childCount==n.childCount?null:r;var i=t.child(o),a=n.child(o);if(i!=a){if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(var s=0;i.text[s]==a.text[s];s++)r++;return r}if(i.content.size||a.content.size){var l=e(i.content,a.content,r+1);if(null!=l)return l}r+=i.nodeSize}else r+=i.nodeSize}}(this,e,t)},Bt.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),function e(t,n,r,o){for(var i=t.childCount,a=n.childCount;;){if(0==i||0==a)return i==a?null:{a:r,b:o};var s=t.child(--i),l=n.child(--a),c=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:r,b:o};if(s.isText&&s.text!=l.text){for(var p=0,u=Math.min(s.text.length,l.text.length);p<u&&s.text[s.text.length-p-1]==l.text[l.text.length-p-1];)p++,r--,o--;return{a:r,b:o}}if(s.content.size||l.content.size){var d=e(s.content,l.content,r-1,o-1);if(d)return d}r-=c,o-=c}else r-=c,o-=c}}(this,e,t,n)},Bt.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return Wt(0,e);if(e==this.size)return Wt(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?Wt(n+1,o):Wt(n,r);r=o}},Bt.prototype.toString=function(){return"<"+this.toStringInner()+">"},Bt.prototype.toStringInner=function(){return this.content.join(", ")},Bt.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},Bt.fromJSON=function(e,t){if(!t)return Bt.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Bt(t.map(e.nodeFromJSON))},Bt.fromArray=function(e){if(!e.length)return Bt.empty;for(var t,n=0,r=0;r<e.length;r++){var o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new Bt(t||e,n)},Bt.from=function(e){if(!e)return Bt.empty;if(e instanceof Bt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Bt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(Bt.prototype,_t);var jt={index:0,offset:0};function Wt(e,t){return jt.index=e,jt.offset=t,jt}function Vt(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!Vt(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!Vt(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}Bt.empty=new Bt([],0);var qt=function(e,t){this.type=e,this.attrs=t};function Ht(e){var t=Error.call(this,e);return t.__proto__=Ht.prototype,t}qt.prototype.addToSet=function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t},qt.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},qt.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},qt.prototype.eq=function(e){return this==e||this.type==e.type&&Vt(this.attrs,e.attrs)},qt.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},qt.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},qt.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},qt.setFrom=function(e){if(!e||0==e.length)return qt.none;if(e instanceof qt)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},qt.none=[],Ht.prototype=Object.create(Error.prototype),Ht.prototype.constructor=Ht,Ht.prototype.name="ReplaceError";var Kt=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},Jt={size:{configurable:!0}};function Ut(e,t){if(!t.type.compatibleContent(e.type))throw new Ht("Cannot join "+t.type.name+" onto "+e.type.name)}function Xt(e,t,n){var r=e.node(n);return Ut(r,t.node(n)),r}function Zt(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Gt(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Zt(e.nodeAfter,r),i++));for(var s=i;s<a;s++)Zt(o.child(s),r);t&&t.depth==n&&t.textOffset&&Zt(t.nodeBefore,r)}function Yt(e,t){if(!e.type.validContent(t))throw new Ht("Invalid content for node "+e.type.name);return e.copy(t)}function Qt(e,t,n){var r=[];return Gt(null,e,n,r),e.depth>n&&Zt(Yt(Xt(e,t,n+1),Qt(e,t,n+1)),r),Gt(t,null,n,r),new Bt(r)}Jt.size.get=function(){return this.content.size-this.openStart-this.openEnd},Kt.prototype.insertAt=function(e,t){var n=function e(t,n,r,o){var i=t.findIndex(n),a=i.index,s=i.offset,l=t.maybeChild(a);if(s==n||l.isText)return o&&!o.canReplace(a,a,r)?null:t.cut(0,n).append(r).append(t.cut(n));var c=e(l.content,n-s-1,r);return c&&t.replaceChild(a,l.copy(c))}(this.content,e+this.openStart,t,null);return n&&new Kt(n,this.openStart,this.openEnd)},Kt.prototype.removeBetween=function(e,t){return new Kt(function e(t,n,r){var o=t.findIndex(n),i=o.index,a=o.offset,s=t.maybeChild(i),l=t.findIndex(r),c=l.index,p=l.offset;if(a==n||s.isText){if(p!=r&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(r))}if(i!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(e(s.content,n-a-1,r-a-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},Kt.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},Kt.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},Kt.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},Kt.fromJSON=function(e,t){if(!t)return Kt.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Kt(Bt.fromJSON(e,t.content),t.openStart||0,t.openEnd||0)},Kt.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new Kt(e,n,r)},Object.defineProperties(Kt.prototype,Jt),Kt.empty=new Kt(Bt.empty,0,0);var en=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},tn={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};en.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},tn.parent.get=function(){return this.node(this.depth)},tn.doc.get=function(){return this.node(0)},en.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},en.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},en.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},en.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},en.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},en.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},en.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},tn.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},tn.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},tn.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},en.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return qt.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},en.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},en.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},en.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new an(this,e,n)},en.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},en.prototype.max=function(e){return e.pos>this.pos?e:this},en.prototype.min=function(e){return e.pos<this.pos?e:this},en.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},en.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,o=t,i=e;;){var a=i.content.findIndex(o),s=a.index,l=a.offset,c=o-l;if(n.push(i,s,r+l),!c)break;if((i=i.child(s)).isText)break;o=c-1,r+=l+1}return new en(t,n,o)},en.resolveCached=function(e,t){for(var n=0;n<nn.length;n++){var r=nn[n];if(r.pos==t&&r.doc==e)return r}var o=nn[rn]=en.resolve(e,t);return rn=(rn+1)%on,o},Object.defineProperties(en.prototype,tn);var nn=[],rn=0,on=12,an=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},sn={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};sn.start.get=function(){return this.$from.before(this.depth+1)},sn.end.get=function(){return this.$to.after(this.depth+1)},sn.parent.get=function(){return this.$from.node(this.depth)},sn.startIndex.get=function(){return this.$from.index(this.depth)},sn.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(an.prototype,sn);var ln=Object.create(null),cn=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||Bt.empty,this.marks=r||qt.none},pn={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};pn.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},pn.childCount.get=function(){return this.content.childCount},cn.prototype.child=function(e){return this.content.child(e)},cn.prototype.maybeChild=function(e){return this.content.maybeChild(e)},cn.prototype.forEach=function(e){this.content.forEach(e)},cn.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this)},cn.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},pn.textContent.get=function(){return this.textBetween(0,this.content.size,"")},cn.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},pn.firstChild.get=function(){return this.content.firstChild},pn.lastChild.get=function(){return this.content.lastChild},cn.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},cn.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},cn.prototype.hasMarkup=function(e,t,n){return this.type==e&&Vt(this.attrs,t||e.defaultAttrs||ln)&&qt.sameSet(this.marks,n||qt.none)},cn.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},cn.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},cn.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},cn.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return Kt.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),s=r.node(i).content.cut(r.pos-a,o.pos-a);return new Kt(s,r.depth-i,o.depth-i)},cn.prototype.replace=function(e,t,n){return function(e,t,n){if(n.openStart>e.depth)throw new Ht("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Ht("Inconsistent open depths");return function e(t,n,r,o){var i=t.index(o),a=t.node(o);if(i==n.index(o)&&o<t.depth-r.openStart){var s=e(t,n,r,o+1);return a.copy(a.content.replaceChild(i,s))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=o||n.depth!=o){var l=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),o=n-1;o>=0;o--)r=t.node(o).copy(Bt.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(r,t);return Yt(a,function e(t,n,r,o,i){var a=t.depth>i&&Xt(t,n,i+1),s=o.depth>i&&Xt(r,o,i+1),l=[];return Gt(null,t,i,l),a&&s&&n.index(i)==r.index(i)?(Ut(a,s),Zt(Yt(a,e(t,n,r,o,i+1)),l)):(a&&Zt(Yt(a,Qt(t,n,i+1)),l),Gt(n,r,i,l),s&&Zt(Yt(s,Qt(r,o,i+1)),l)),Gt(o,null,i,l),new Bt(l)}(t,l.start,l.end,n,o))}var c=t.parent,p=c.content;return Yt(c,p.cut(0,t.parentOffset).append(r.content).append(p.cut(n.parentOffset)))}return Yt(a,Qt(t,n,o))}(e,t,n,0)}(this.resolve(e),this.resolve(t),n)},cn.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(!(t=t.maybeChild(r)))return null;if(o==e||t.isText)return t;e-=o+1}},cn.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},cn.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},cn.prototype.resolve=function(e){return en.resolveCached(this,e)},cn.prototype.resolveNoCache=function(e){return en.resolve(this,e)},cn.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},pn.isBlock.get=function(){return this.type.isBlock},pn.isTextblock.get=function(){return this.type.isTextblock},pn.inlineContent.get=function(){return this.type.inlineContent},pn.isInline.get=function(){return this.type.isInline},pn.isText.get=function(){return this.type.isText},pn.isLeaf.get=function(){return this.type.isLeaf},pn.isAtom.get=function(){return this.type.isAtom},cn.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),dn(this.marks,e)},cn.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},cn.prototype.canReplace=function(e,t,n,r,o){void 0===n&&(n=Bt.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(e).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(var s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},cn.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd},cn.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},cn.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(e){return e.check()}))},cn.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},cn.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=Bt.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(cn.prototype,pn);var un=function(e){function t(t,n,r,o){if(e.call(this,t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):dn(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(cn);function dn(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var fn=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},hn={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};fn.parse=function(e,t){var n=new mn(e,t);if(null==n.next)return fn.empty;var r=gn(n);n.next&&n.err("Unexpected trailing text");var o=function(e){var t=Object.create(null);return function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var i=o.indexOf(n),a=i>-1&&o[i+1];xn(e,r).forEach((function(e){a||o.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var i=t[r.join(",")]=new fn(r.indexOf(e.length-1)>-1),a=0;a<o.length;a+=2){var s=o[a+1].sort(Cn);i.next.push(o[a],t[s.join(",")]||n(s))}return i}(xn(e,0))}(function(e){var t=[[]];return o(function e(t,i){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(e(n,i))}),[]);if("seq"==t.type)for(var a=0;;a++){var s=e(t.exprs[a],i);if(a==t.exprs.length-1)return s;o(s,i=n())}else{if("star"==t.type){var l=n();return r(i,l),o(e(t.expr,l),l),[r(l)]}if("plus"==t.type){var c=n();return o(e(t.expr,i),c),o(e(t.expr,c),c),[r(c)]}if("opt"==t.type)return[r(i)].concat(e(t.expr,i));if("range"==t.type){for(var p=i,u=0;u<t.min;u++){var d=n();o(e(t.expr,p),d),p=d}if(-1==t.max)o(e(t.expr,p),p);else for(var f=t.min;f<t.max;f++){var h=n();r(p,h),o(e(t.expr,p),h),p=h}return[r(p)]}if("name"==t.type)return[r(i,null,t.value)]}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}}(r));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],s=0;s<o.next.length;s+=2){var l=o.next[s],c=o.next[s+1];a.push(l.name),!i||l.isText||l.hasRequiredAttrs()||(i=!1),-1==r.indexOf(c)&&r.push(c)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},fn.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},fn.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r},hn.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},hn.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},fn.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},fn.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=[this];return function o(i,a){var s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return Bt.from(a.map((function(e){return e.createAndFill()})));for(var l=0;l<i.next.length;l+=2){var c=i.next[l],p=i.next[l+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==r.indexOf(p)){r.push(p);var u=o(p,a.concat(c));if(u)return u}}}(this,[])},fn.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},fn.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var s=0;s<o.next.length;s+=2){var l=o.next[s];l.isLeaf||l.hasRequiredAttrs()||l.name in t||r.type&&!o.next[s+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),t[l.name]=!0)}}},hn.edgeCount.get=function(){return this.next.length>>1},fn.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},fn.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)-1==e.indexOf(n.next[r])&&t(n.next[r])}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r})).join("\n")},Object.defineProperties(fn.prototype,hn),fn.empty=new fn(!0);var mn=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},vn={next:{configurable:!0}};function gn(e){var t=[];do{t.push(yn(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function yn(e){var t=[];do{t.push(bn(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function bn(e){for(var t=function(e){if(e.eat("(")){var t=gn(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&o.push(a)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=kn(e,t)}return t}function wn(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function kn(e,t){var n=wn(e),r=n;return e.eat(",")&&(r="}"!=e.next?wn(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Cn(e,t){return t-e}function xn(e,t){var n=[];return function t(r){var o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],s=a.term,l=a.to;s||-1!=n.indexOf(l)||t(l)}}(t),n.sort(Cn)}function Sn(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Mn(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function En(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new Tn(e[n]);return t}vn.next.get=function(){return this.tokens[this.pos]},mn.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},mn.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(mn.prototype,vn);var On=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=En(n.attrs),this.defaultAttrs=Sn(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},An={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};An.isInline.get=function(){return!this.isBlock},An.isTextblock.get=function(){return this.isBlock&&this.inlineContent},An.isLeaf.get=function(){return this.contentMatch==fn.empty},An.isAtom.get=function(){return this.isLeaf||this.spec.atom},On.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},On.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},On.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:Mn(this.attrs,e)},On.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new cn(this,this.computeAttrs(e),Bt.from(t),qt.setFrom(n))},On.prototype.createChecked=function(e,t,n){if(t=Bt.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new cn(this,this.computeAttrs(e),t,qt.setFrom(n))},On.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=Bt.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(Bt.empty,!0);return o?new cn(this,e,t.append(o),qt.setFrom(n)):null},On.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},On.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},On.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},On.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:qt.empty:e},On.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new On(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(On.prototype,An);var Tn=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},Nn={isRequired:{configurable:!0}};Nn.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(Tn.prototype,Nn);var Dn=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=En(r.attrs),this.rank=t,this.excluded=null;var o=Sn(this.attrs);this.instance=o&&new qt(this,o)};Dn.prototype.create=function(e){return!e&&this.instance?this.instance:new qt(this,Mn(this.attrs,e))},Dn.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,o){return n[e]=new Dn(e,r++,t,o)})),n},Dn.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e},Dn.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},Dn.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var Rn=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=$t.from(e.nodes),this.spec.marks=$t.from(e.marks),this.nodes=On.compile(this.spec.nodes,this),this.marks=Dn.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],i=o.spec.content||"",a=o.spec.marks;o.contentMatch=n[i]||(n[i]=fn.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==a?null:a?Ln(this,a.split(" ")):""!=a&&o.inlineContent?null:[]}for(var s in this.marks){var l=this.marks[s],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:Ln(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Ln(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var s in e.marks){var l=e.marks[s];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}Rn.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof On))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},Rn.prototype.text=function(e,t){var n=this.nodes.text;return new un(n,n.defaultAttrs,e,qt.setFrom(t))},Rn.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},Rn.prototype.nodeFromJSON=function(e){return cn.fromJSON(this,e)},Rn.prototype.markFromJSON=function(e){return qt.fromJSON(this,e)},Rn.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var Pn=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};Pn.prototype.parse=function(e,t){void 0===t&&(t={});var n=new _n(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},Pn.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new _n(this,t,!0);return n.addAll(e,null,t.from,t.to),Kt.maxOpen(n.finish())},Pn.prototype.matchTag=function(e,t){for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(Wn(e,r.tag)&&(void 0===r.namespace||e.namespaceURI==r.namespace)&&(!r.context||t.matchesContext(r.context))){if(r.getAttrs){var o=r.getAttrs(e);if(!1===o)continue;r.attrs=o}return r}}},Pn.prototype.matchStyle=function(e,t,n){for(var r=0;r<this.styles.length;r++){var o=this.styles[r];if(!(0!=o.style.indexOf(e)||o.context&&!n.matchesContext(o.context)||o.style.length>e.length&&(61!=o.style.charCodeAt(e.length)||o.style.slice(e.length+1)!=t))){if(o.getAttrs){var i=o.getAttrs(t);if(!1===i)continue;o.attrs=i}return o}}},Pn.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r];if((null==o.priority?50:o.priority)<n)break}t.splice(r,0,e)}var r,o=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=Vn(e)),e.mark=t}))};for(var i in e.marks)o(i);for(var a in e.nodes)r=void 0,(r=e.nodes[a].spec.parseDOM)&&r.forEach((function(e){n(e=Vn(e)),e.node=a}));return t},Pn.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new Pn(e,Pn.schemaRules(e)))};var Fn={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},zn={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},In={ol:!0,ul:!0};function $n(e){return(e?1:0)|("full"===e?2:0)}var Bn=function(e,t,n,r,o,i,a){this.type=e,this.attrs=t,this.solid=o,this.match=i||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=qt.none,this.pendingMarks=r};Bn.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(Bt.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},Bn.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var r=Bt.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Bt.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},Bn.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):qn(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}};var _n=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,o=t.topNode,i=$n(t.preserveWhitespace)|(n?4:0);r=o?new Bn(o.type,o.attrs,qt.none,qt.none,!0,t.topMatch||o.type.contentMatch,i):new Bn(n?null:e.schema.topNodeType,null,qt.none,qt.none,!0,null,i),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},jn={top:{configurable:!0},currentPos:{configurable:!0}};function Wn(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Vn(e){var t={};for(var n in e)t[n]=e[n];return t}function qn(e,t){var n=t.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(e)){var i=[],a=function(e){i.push(e);for(var n=0;n<e.edgeCount;n++){var r=e.edge(n),o=r.type,s=r.next;if(o==t)return!0;if(i.indexOf(s)<0&&a(s))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}jn.top.get=function(){return this.nodes[this.open]},_n.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){for(var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},_n.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)2&n.options||(t=t.replace(/\r?\n|\r/g," "));else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},_n.prototype.addElement=function(e){var t=e.nodeName.toLowerCase();In.hasOwnProperty(t)&&this.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&In.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var n=this.options.ruleFromNode&&this.options.ruleFromNode(e)||this.parser.matchTag(e,this);if(n?n.ignore:zn.hasOwnProperty(t))this.findInside(e);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(e=n.skip);var r,o=this.top,i=this.needsBlock;if(Fn.hasOwnProperty(t))r=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),r&&this.sync(o),this.needsBlock=i}else this.addElementByRule(e,n)},_n.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},_n.prototype.readStyles=function(e){for(var t=qt.none,n=0;n<e.length;n+=2){var r=this.parser.matchStyle(e[n],e[n+1],this);if(r){if(r.ignore)return null;t=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(t)}}return t},_n.prototype.addElementByRule=function(e,t){var n,r,o,i=this;t.node?(r=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(r.create(t.attrs))||this.leafFallback(e):n=this.enter(r,t.attrs,t.preserveWhitespace):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));var a=this.top;if(r&&r.isLeaf)this.findInside(e);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return i.insertNode(e)}));else{var s=t.contentElement;"string"==typeof s?s=e.querySelector(s):"function"==typeof s&&(s=s(e)),s||(s=e),this.findAround(e,s,!0),this.addAll(s,n)}n&&(this.sync(a),this.open--),o&&this.removePendingMark(o,a)},_n.prototype.addAll=function(e,t,n,r){for(var o=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i),t&&Fn.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},_n.prototype.findPlace=function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},_n.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1},_n.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},_n.prototype.enterInner=function(e,t,n,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var i=null==r?-5&o.options:$n(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new Bn(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},_n.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},_n.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},_n.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},jn.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e},_n.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},_n.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},_n.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)},_n.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},_n.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=function(e,s){for(;e>=0;e--){var l=n[e];if(""==l){if(e==n.length-1||0==e)continue;for(;s>=i;s--)if(a(e-1,s))return!0;return!1}var c=s>0||0==s&&o?t.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0};return a(n.length-1,this.open)},_n.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},_n.prototype.addPendingMark=function(e){this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},_n.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1?r.pendingMarks=e.removeFromSet(r.pendingMarks):r.activeMarks=e.removeFromSet(r.activeMarks),r==t)break}},Object.defineProperties(_n.prototype,jn);var Hn=function(e,t){this.nodes=e||{},this.marks=t||{}};function Kn(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Jn(e){return e.document||window.document}Hn.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=Jn(t).createDocumentFragment());var o=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<e.marks.length;){var s=e.marks[a];if(r.marks[s.type.name]){if(!s.eq(i[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)o=i.pop(),i.pop();for(;a<e.marks.length;){var l=e.marks[a++],c=r.serializeMark(l,e.isInline,t);c&&(i.push(l,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(r.serializeNode(e,t))})),n},Hn.prototype.serializeNode=function(e,t){void 0===t&&(t={});var n=Hn.renderSpec(Jn(t),this.nodes[e.type.name](e)),r=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return r},Hn.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n=this.serializeNode(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},Hn.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&Hn.renderSpec(Jn(n),r(e,t))},Hn.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};var r=t[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,a=n?e.createElementNS(n,r):e.createElement(r),s=t[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var c in l=2,s)if(null!=s[c]){var p=c.indexOf(" ");p>0?a.setAttributeNS(c.slice(0,p),c.slice(p+1),s[c]):a.setAttribute(c,s[c])}for(var u=l;u<t.length;u++){var d=t[u];if(0===d){if(u<t.length-1||u>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var f=Hn.renderSpec(e,d,n),h=f.dom,m=f.contentDOM;if(a.appendChild(h),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:a,contentDOM:i}},Hn.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new Hn(this.nodesFromSchema(e),this.marksFromSchema(e)))},Hn.nodesFromSchema=function(e){var t=Kn(e.nodes);return t.text||(t.text=function(e){return e.text}),t},Hn.marksFromSchema=function(e){return Kn(e.marks)};var Un=Object.freeze({__proto__:null,ContentMatch:fn,DOMParser:Pn,DOMSerializer:Hn,Fragment:Bt,Mark:qt,MarkType:Dn,Node:cn,NodeRange:an,NodeType:On,ReplaceError:Ht,ResolvedPos:en,Schema:Rn,Slice:Kt}),Xn=Math.pow(2,16);function Zn(e,t){return e+t*Xn}function Gn(e){return 65535&e}var Yn=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},Qn=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};Qn.prototype.recover=function(e){var t=0,n=Gn(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/Xn}(e)},Qn.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},Qn.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},Qn.prototype._map=function(e,t,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?r:0);if(s>e)break;var l=this.ranges[a+o],c=this.ranges[a+i],p=s+l;if(e<=p){var u=s+r+((l?e==s?-1:e==p?1:t:t)<0?0:c);if(n)return u;var d=e==(t<0?s:p)?null:Zn(a/3,e-s);return new Yn(u,t<0?e!=s:e!=p,d)}r+=c-l}return n?e+r:new Yn(e+r)},Qn.prototype.touches=function(e,t){for(var n=0,r=Gn(t),o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?n:0);if(s>e)break;var l=this.ranges[a+o];if(e<=s+l&&a==3*r)return!0;n+=this.ranges[a+i]-l}return!1},Qn.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),o+=c-l}},Qn.prototype.invert=function(){return new Qn(this.ranges,!this.inverted)},Qn.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},Qn.offset=function(e){return 0==e?Qn.empty:new Qn(e<0?[0,-e,0]:[0,0,e])},Qn.empty=new Qn([]);var er=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function tr(e){var t=Error.call(this,e);return t.__proto__=tr.prototype,t}er.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new er(this.maps,this.mirror,e,t)},er.prototype.copy=function(){return new er(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},er.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},er.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},er.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},er.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},er.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},er.prototype.invert=function(){var e=new er;return e.appendMappingInverted(this),e},er.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},er.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},er.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,e=this.maps[a].recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return n?e:new Yn(e,r)},tr.prototype=Object.create(Error.prototype),tr.prototype.constructor=tr,tr.prototype.name="TransformError";var nr=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new er},rr={before:{configurable:!0},docChanged:{configurable:!0}};function or(){throw new Error("Override me")}rr.before.get=function(){return this.docs.length?this.docs[0]:this.doc},nr.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new tr(t.failed);return this},nr.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},rr.docChanged.get=function(){return this.steps.length>0},nr.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(nr.prototype,rr);var ir=Object.create(null),ar=function(){};ar.prototype.apply=function(e){return or()},ar.prototype.getMap=function(){return Qn.empty},ar.prototype.invert=function(e){return or()},ar.prototype.map=function(e){return or()},ar.prototype.merge=function(e){return null},ar.prototype.toJSON=function(){return or()},ar.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=ir[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},ar.jsonID=function(e,t){if(e in ir)throw new RangeError("Duplicate use of step JSON ID "+e);return ir[e]=t,t.prototype.jsonID=e,t};var sr=function(e,t){this.doc=e,this.failed=t};sr.ok=function(e){return new sr(e,null)},sr.fail=function(e){return new sr(null,e)},sr.fromReplace=function(e,t,n,r){try{return sr.ok(e.replace(t,n,r))}catch(e){if(e instanceof Ht)return sr.fail(e.message);throw e}};var lr=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&pr(e,this.from,this.to)?sr.fail("Structure replace would overwrite content"):sr.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new Qn([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?Kt.empty:new Kt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var r=this.slice.size+e.slice.size==0?Kt.empty:new Kt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,Kt.fromJSON(e,n.slice),!!n.structure)},t}(ar);ar.jsonID("replace",lr);var cr=function(e){function t(t,n,r,o,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(pr(e,this.from,this.gapFrom)||pr(e,this.gapTo,this.to)))return sr.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return sr.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?sr.fromReplace(e,this.from,this.to,n):sr.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new Qn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,Kt.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(ar);function pr(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function ur(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function dr(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!ur(r,o,i))break}}function fr(e,t,n,r){void 0===r&&(r=e);var o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,l=r;s&&l<o;l++)s=s.matchType(n.child(l).type);return s&&s.validEnd?a:null}(r,t);return i?o.map(hr).concat({type:t,attrs:n}).concat(i.map(hr)):null}function hr(e){return{type:e,attrs:null}}function mr(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function vr(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}function gr(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(l>0?1:0);if(1==a?r.node(s).canReplace(c,c,o):r.node(s).contentMatchAt(c).findWrapping(o.firstChild.type))return 0==l?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function yr(e,t,n){for(var r=[],o=0;o<e.childCount;o++){var i=e.child(o);i.content.size&&(i=i.copy(yr(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return Bt.fromArray(r)}ar.jsonID("replaceAround",cr),nr.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,o=e.depth,i=n.before(o+1),a=r.after(o+1),s=i,l=a,c=Bt.empty,p=0,u=o,d=!1;u>t;u--)d||n.index(u)>0?(d=!0,c=Bt.from(n.node(u).copy(c)),p++):s--;for(var f=Bt.empty,h=0,m=o,v=!1;m>t;m--)v||r.after(m+1)<r.end(m)?(v=!0,f=Bt.from(r.node(m).copy(f)),h++):l++;return this.step(new cr(s,l,i,a,new Kt(c.append(f),p,h),c.size-p,!0))},nr.prototype.wrap=function(e,t){for(var n=Bt.empty,r=t.length-1;r>=0;r--)n=Bt.from(t[r].type.create(t[r].attrs,n));var o=e.start,i=e.end;return this.step(new cr(o,i,o,i,new Kt(n,0,0),t.length,!0))},nr.prototype.setBlockType=function(e,t,n,r){var o=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(t),n)){o.clearIncompatible(o.mapping.slice(i).map(t,1),n);var a=o.mapping.slice(i),s=a.map(t,1),l=a.map(t+e.nodeSize,1);return o.step(new cr(s,l,s+1,l-1,new Kt(Bt.from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},nr.prototype.setNodeMarkup=function(e,t,n,r){var o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);var i=t.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(e,e+o.nodeSize,i);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new cr(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Kt(Bt.from(i),0,0),1,!0))},nr.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),o=Bt.empty,i=Bt.empty,a=r.depth,s=r.depth-t,l=t-1;a>s;a--,l--){o=Bt.from(r.node(a).copy(o));var c=n&&n[l];i=Bt.from(c?c.type.create(c.attrs,i):r.node(a).copy(i))}return this.step(new lr(e,e,new Kt(o.append(i),t,t),!0))},nr.prototype.join=function(e,t){void 0===t&&(t=1);var n=new lr(e-t,e+t,Kt.empty,!0);return this.step(n)};var br=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new Kt(yr(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return sr.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new wr(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(ar);ar.jsonID("addMark",br);var wr=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new Kt(yr(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return sr.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new br(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(ar);function kr(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=Kt.empty),t==n&&!r.size)return null;var o=e.resolve(t),i=e.resolve(n);return Cr(o,i,r)?new lr(t,n,r):new xr(o,i,r).fit()}function Cr(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}ar.jsonID("removeMark",wr),nr.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(r,l,c){if(r.isInline){var p=r.marks;if(!n.isInSet(p)&&c.type.allowsMarkType(n.type)){for(var u=Math.max(l,e),d=Math.min(l+r.nodeSize,t),f=n.addToSet(p),h=0;h<p.length;h++)p[h].isInSet(f)||(a&&a.to==u&&a.mark.eq(p[h])?a.to=d:o.push(a=new wr(u,d,p[h])));s&&s.to==u?s.to=d:i.push(s=new br(u,d,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},nr.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(e,t,(function(r,a){if(r.isInline){i++;var s=null;if(n instanceof Dn){var l=n.isInSet(r.marks);l&&(s=[l])}else n?n.isInSet(r.marks)&&(s=[n]):s=r.marks;if(s&&s.length)for(var c=Math.min(a+r.nodeSize,t),p=0;p<s.length;p++){for(var u=s[p],d=void 0,f=0;f<o.length;f++){var h=o[f];h.step==i-1&&u.eq(o[f].style)&&(d=h)}d?(d.to=c,d.step=i):o.push({style:u,from:Math.max(a,e),to:c,step:i})}}})),o.forEach((function(e){return r.step(new wr(e.from,e.to,e.style))})),this},nr.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),o=[],i=e+1,a=0;a<r.childCount;a++){var s=r.child(a),l=i+s.nodeSize,c=n.matchType(s.type,s.attrs);if(c){n=c;for(var p=0;p<s.marks.length;p++)t.allowsMarkType(s.marks[p].type)||this.step(new wr(i,l,s.marks[p]))}else o.push(new lr(i,l,Kt.empty));i=l}if(!n.validEnd){var u=n.fillBefore(Bt.empty,!0);this.replace(i,i,new Kt(u,0,0))}for(var d=o.length-1;d>=0;d--)this.step(o[d]);return this},nr.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=Kt.empty);var r=kr(this.doc,e,t,n);return r&&this.step(r),this},nr.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new Kt(Bt.from(n),0,0))},nr.prototype.delete=function(e,t){return this.replace(e,t,Kt.empty)},nr.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var xr=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r=0;r<=e.depth;r++){var o=e.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(r))})}this.placed=Bt.empty;for(var i=e.depth;i>0;i--)this.placed=Bt.from(e.node(i).copy(this.placed))},Sr={depth:{configurable:!0}};function Mr(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(Mr(e.firstChild.content,t-1,n)))}function Er(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Er(e.lastChild.content,t-1,n)))}function Or(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function Ar(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,Ar(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Bt.empty,!0)))),e.copy(r)}function Tr(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function Nr(e,t,n,r,o){if(t<n){var i=e.firstChild;e=e.replaceChild(0,i.copy(Nr(i.content,t+1,n,r,i)))}if(t>r){var a=o.contentMatchAt(0),s=a.fillBefore(e).append(e);e=s.append(a.matchFragment(s).fillBefore(Bt.empty,!0))}return e}function Dr(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}Sr.depth.get=function(){return this.frontier.length-1},xr.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;for(var i=this.placed,a=r.depth,s=o.depth;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;var l=new Kt(i,a,s);return t>-1?new cr(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new lr(r.pos,o.pos,l):void 0},xr.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,r=(t?(n=Or(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var i=this.frontier[o],a=i.type,s=i.match,l=void 0,c=void 0;if(1==e&&(r?s.matchType(r.type)||(c=s.fillBefore(Bt.from(r),!1)):a.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:o,parent:n,inject:c};if(2==e&&r&&(l=s.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:o,parent:n,wrap:l};if(n&&s.matchType(n.type))break}},xr.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=Or(t,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new Kt(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)},xr.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=Or(t,n);if(o.childCount<=1&&n>0){var i=t.size-n<=n+o.size;this.unplaced=new Kt(Mr(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Kt(Mr(t,n,1),n,r)},xr.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,o=e.inject,i=e.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var a=0;a<i.length;a++)this.openFrontierNode(i[a]);var s=this.unplaced,l=r?r.content:s.content,c=s.openStart-t,p=0,u=[],d=this.frontier[n],f=d.match,h=d.type;if(o){for(var m=0;m<o.childCount;m++)u.push(o.child(m));f=f.matchFragment(o)}for(var v=l.size+t-(s.content.size-s.openEnd);p<l.childCount;){var g=l.child(p),y=f.matchType(g.type);if(!y)break;(++p>1||0==c||g.content.size)&&(f=y,u.push(Ar(g.mark(h.allowedMarks(g.marks)),1==p?c:0,p==l.childCount?v:-1)))}var b=p==l.childCount;b||(v=-1),b&&v<0&&r&&r.type==this.frontier[this.depth].type?this.closeFrontierNode():this.frontier[n].match=f;for(var w=0,k=l;w<v;w++){var C=k.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),k=C.content}this.unplaced=b?0==t?Kt.empty:new Kt(Mr(s.content,t-1,1),t-1,v<0?s.openEnd:t-1):new Kt(Mr(s.content,t,p),s.openStart,s.openEnd),this.placed=Er(this.placed,n,Bt.from(u))},xr.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Tr(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},xr.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=Tr(e,t,o,r,i);if(a){for(var s=t-1;s>=0;s--){var l=this.frontier[s],c=l.match,p=Tr(e,s,l.type,c,!0);if(!p||p.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}},xr.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Er(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},xr.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Er(this.placed,this.depth,Bt.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},xr.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(Bt.empty,!0);e.childCount&&(this.placed=Er(this.placed,this.frontier.length,e))},Object.defineProperties(xr.prototype,Sr),nr.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),o=this.doc.resolve(t);if(Cr(r,o,n))return this.step(new lr(e,t,n));var i=Dr(r,this.doc.resolve(t));0==i[i.length-1]&&i.pop();var a=-(r.depth+1);i.unshift(a);for(var s=r.depth,l=r.pos-1;s>0;s--,l--){var c=r.node(s).type.spec;if(c.defining||c.isolating)break;i.indexOf(s)>-1?a=s:r.before(s)==l&&i.splice(1,0,-s)}for(var p=i.indexOf(a),u=[],d=n.openStart,f=n.content,h=0;;h++){var m=f.firstChild;if(u.push(m),h==n.openStart)break;f=m.content}d>0&&u[d-1].type.spec.defining&&r.node(p).type!=u[d-1].type?d-=1:d>=2&&u[d-1].isTextblock&&u[d-2].type.spec.defining&&r.node(p).type!=u[d-2].type&&(d-=2);for(var v=n.openStart;v>=0;v--){var g=(v+d+1)%(n.openStart+1),y=u[g];if(y)for(var b=0;b<i.length;b++){var w=i[(b+p)%i.length],k=!0;w<0&&(k=!1,w=-w);var C=r.node(w-1),x=r.index(w-1);if(C.canReplaceWith(x,x,y.type,y.marks))return this.replace(r.before(w),k?o.after(w):t,new Kt(Nr(n.content,0,n.openStart,g),g,n.openEnd))}}for(var S=this.steps.length,M=i.length-1;M>=0&&(this.replace(e,t,n),!(this.steps.length>S));M--){var E=i[M];M<0||(e=r.before(E),t=o.after(E))}return this},nr.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=vr(this.doc,e,n.type);null!=r&&(e=t=r)}return this.replaceRange(e,t,new Kt(Bt.from(n),0,0))},nr.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=Dr(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&r.end(l)-t!=r.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)};var Rr=Object.freeze({__proto__:null,AddMarkStep:br,MapResult:Yn,Mapping:er,RemoveMarkStep:wr,ReplaceAroundStep:cr,ReplaceStep:lr,Step:ar,StepMap:Qn,StepResult:sr,Transform:nr,TransformError:tr,canJoin:function(e,t){var n=e.resolve(t),r=n.index();return mr(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)},canSplit:function(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,l=n-2;s>i;s--,l--){var c=o.node(s),p=o.index(s);if(c.type.spec.isolating)return!1;var u=c.content.cutByIndex(p,c.childCount),d=r&&r[l]||c;if(d!=c&&(u=u.replaceChild(0,d.type.create(d.attrs))),!c.canReplace(p+1,c.childCount)||!d.type.validContent(u))return!1}var f=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(f,f,h?h.type:o.node(i+1).type)},dropPoint:gr,findWrapping:fr,insertPoint:vr,joinPoint:function(e,t,n){void 0===n&&(n=-1);for(var r=e.resolve(t),o=r.depth;;o--){var i=void 0,a=void 0,s=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),s++,a=r.node(o).maybeChild(s)):(i=r.node(o).maybeChild(s-1),a=r.node(o+1)),i&&!i.isTextblock&&mr(i,a)&&r.node(o).canReplace(s,s+1))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}},liftTarget:dr,replaceStep:kr}),Lr=Object.create(null),Pr=function(e,t,n){this.ranges=n||[new zr(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},Fr={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Fr.anchor.get=function(){return this.$anchor.pos},Fr.head.get=function(){return this.$head.pos},Fr.from.get=function(){return this.$from.pos},Fr.to.get=function(){return this.$to.pos},Fr.$from.get=function(){return this.ranges[0].$from},Fr.$to.get=function(){return this.ranges[0].$to},Fr.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},Pr.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},Pr.prototype.replace=function(e,t){void 0===t&&(t=Kt.empty);for(var n=t.content.lastChild,r=null,o=0;o<t.openEnd;o++)r=n,n=n.lastChild;for(var i=e.steps.length,a=this.ranges,s=0;s<a.length;s++){var l=a[s],c=l.$from,p=l.$to,u=e.mapping.slice(i);e.replaceRange(u.map(c.pos),u.map(p.pos),s?Kt.empty:t),0==s&&qr(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},Pr.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,l=e.mapping.slice(n),c=l.map(a.pos),p=l.map(s.pos);o?e.deleteRange(c,p):(e.replaceRangeWith(c,p,t),qr(e,n,t.isInline?-1:1))}},Pr.findFrom=function(e,t,n){var r=e.parent.inlineContent?new Ir(e):Vr(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?Vr(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):Vr(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}},Pr.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new jr(e.node(0))},Pr.atStart=function(e){return Vr(e,e,0,0,1)||new jr(e)},Pr.atEnd=function(e){return Vr(e,e,e.content.size,e.childCount,-1)||new jr(e)},Pr.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=Lr[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},Pr.jsonID=function(e,t){if(e in Lr)throw new RangeError("Duplicate use of selection JSON ID "+e);return Lr[e]=t,t.prototype.jsonID=e,t},Pr.prototype.getBookmark=function(){return Ir.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(Pr.prototype,Fr),Pr.prototype.visible=!0;var zr=function(e,t){this.$from=e,this.$to=t},Ir=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return e.near(o);var i=n.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=Kt.empty),e.prototype.replace.call(this,t,n),n==Kt.empty){var r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new $r(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=e.findFrom(r,o,!0)||e.findFrom(r,-o,!0);if(!a)return e.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i||(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new t(n,r)},Object.defineProperties(t.prototype,n),t}(Pr);Pr.jsonID("text",Ir);var $r=function(e,t){this.anchor=e,this.head=t};$r.prototype.map=function(e){return new $r(e.map(this.anchor),e.map(this.head))},$r.prototype.resolve=function(e){return Ir.between(e.resolve(this.anchor),e.resolve(this.head))};var Br=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,s=n.resolve(a);return i?e.near(s):new t(s)},t.prototype.content=function(){return new Kt(Bt.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new _r(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(Pr);Br.prototype.visible=!1,Pr.jsonID("node",Br);var _r=function(e){this.anchor=e};_r.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new $r(r,r):new _r(r)},_r.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Br.isSelectable(n)?new Br(t):Pr.near(t)};var jr=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=Kt.empty),n==Kt.empty){t.delete(0,t.doc.content.size);var r=e.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return Wr},t}(Pr);Pr.jsonID("all",jr);var Wr={map:function(){return this},resolve:function(e){return new jr(e)}};function Vr(e,t,n,r,o,i){if(t.inlineContent)return Ir.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var s=t.child(a);if(s.isAtom){if(!i&&Br.isSelectable(s))return Br.create(e,n-(o<0?s.nodeSize:0))}else{var l=Vr(e,s,n+o,o<0?s.childCount:0,o,i);if(l)return l}n+=s.nodeSize*o}}function qr(e,t,n){var r=e.steps.length-1;if(!(r<t)){var o,i=e.steps[r];(i instanceof lr||i instanceof cr)&&(e.mapping.maps[r].forEach((function(e,t,n,r){null==o&&(o=r)})),e.setSelection(Pr.near(e.doc.resolve(o),n)))}}var Hr=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return qt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||qt.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(Pr.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(nr);function Kr(e,t){return t&&e?e.bind(t):e}var Jr=function(e,t,n){this.name=e,this.init=Kr(t.init,n),this.apply=Kr(t.apply,n)},Ur=[new Jr("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new Jr("selection",{init:function(e,t){return e.selection||Pr.atStart(t.doc)},apply:function(e){return e.selection}}),new Jr("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Jr("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],Xr=function(e,t){var n=this;this.schema=e,this.fields=Ur.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new Jr(e.key,e.spec.state,e))}))},Zr=function(e){this.config=e},Gr={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Gr.schema.get=function(){return this.config.schema},Gr.plugins.get=function(){return this.config.plugins},Zr.prototype.apply=function(e){return this.applyTransaction(e).state},Zr.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},Zr.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=r?r[i].n:0,l=r?r[i].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(var p=0;p<this.config.plugins.length;p++)r.push(p<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}},Zr.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new Zr(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}for(var i=0;i<Yr.length;i++)Yr[i](this,e,t);return t},Gr.tr.get=function(){return new Hr(this)},Zr.create=function(e){for(var t=new Xr(e.schema||e.doc.type.schema,e.plugins),n=new Zr(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},Zr.prototype.reconfigure=function(e){for(var t=new Xr(e.schema||this.schema,e.plugins),n=t.fields,r=new Zr(t),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(e,r)}return r},Zr.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t},Zr.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var r=new Xr(e.schema,e.plugins),o=new Zr(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=cn.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=Pr.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var i in n){var a=n[i],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=s.fromJSON.call(a,e,t[i],o))}o[r.name]=r.init(e,o)}})),o},Zr.addApplyListener=function(e){Yr.push(e)},Zr.removeApplyListener=function(e){var t=Yr.indexOf(e);t>-1&&Yr.splice(t,1)},Object.defineProperties(Zr.prototype,Gr);var Yr=[],Qr=function(e){this.props={},e.props&&function e(t,n,r){for(var o in t){var i=t[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=e(i,n,{})),r[o]=i}return r}(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:to("plugin")};Qr.prototype.getState=function(e){return e[this.key]};var eo=Object.create(null);function to(e){return e in eo?e+"$"+ ++eo[e]:(eo[e]=0,e+"$")}var no=function(e){void 0===e&&(e="key"),this.key=to(e)};no.prototype.get=function(e){return e.config.pluginsByKey[this.key]},no.prototype.getState=function(e){return e[this.key]};var ro=Object.freeze({__proto__:null,AllSelection:jr,EditorState:Zr,NodeSelection:Br,Plugin:Qr,PluginKey:no,Selection:Pr,SelectionRange:zr,TextSelection:Ir,Transaction:Hr}),oo=K((function(e,t){function n(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function r(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var i=a(r);if(!i){var s=r.blockRange(),l=s&&Rr.liftTarget(s);return null!=l&&(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}var c=i.nodeBefore;if(!c.type.spec.isolating&&g(e,i,t))return!0;if(0==r.parent.content.size&&(o(c,"end")||ro.NodeSelection.isSelectable(c))){if(t){var p=e.tr.deleteRange(r.before(),r.after());p.setSelection(o(c,"end")?ro.Selection.findFrom(p.doc.resolve(p.mapping.map(i.pos,-1)),-1):ro.NodeSelection.create(p.doc,i.pos-c.nodeSize)),t(p.scrollIntoView())}return!0}return!(!c.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos-c.nodeSize,i.pos).scrollIntoView()),!0)}function o(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function i(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=a(o)}var s=i&&i.nodeBefore;return!(!s||!ro.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(ro.NodeSelection.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)}function a(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function s(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var i=c(r);if(!i)return!1;var a=i.nodeAfter;if(g(e,i,t))return!0;if(0==r.parent.content.size&&(o(a,"start")||ro.NodeSelection.isSelectable(a))){if(t){var s=e.tr.deleteRange(r.before(),r.after());s.setSelection(o(a,"start")?ro.Selection.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):ro.NodeSelection.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}return!(!a.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0)}function l(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=c(o)}var a=i&&i.nodeAfter;return!(!a||!ro.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(ro.NodeSelection.create(e.doc,i.pos)).scrollIntoView()),!0)}function c(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function p(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}function u(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function d(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),a=r.indexAfter(-1),s=u(i.contentMatchAt(a));if(!i.canReplaceWith(a,a,s))return!1;if(t){var l=r.after(),c=e.tr.replaceWith(l,l,s.createAndFill());c.setSelection(ro.Selection.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0}function f(e,t){var n=e.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=u(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(a,i.createAndFill());s.setSelection(ro.TextSelection.create(s.doc,a+1)),t(s.scrollIntoView())}return!0}function h(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Rr.canSplit(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&Rr.liftTarget(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)}function m(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof ro.NodeSelection&&e.selection.node.isBlock)return!(!r.parentOffset||!Rr.canSplit(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,a=e.tr;e.selection instanceof ro.TextSelection&&a.deleteSelection();var s=0==r.depth?null:u(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=i&&s?[{type:s}]:null,c=Rr.canSplit(a.doc,a.mapping.map(r.pos),1,l);l||c||!Rr.canSplit(a.doc,a.mapping.map(r.pos),1,s&&[{type:s}])||(l=[{type:s}],c=!0),c&&(a.split(a.mapping.map(r.pos),1,l),i||r.parentOffset||r.parent.type==s||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),Un.Fragment.from(s.create(),r.parent))||a.setNodeMarkup(a.mapping.map(r.before()),s)),t(a.scrollIntoView())}return!0}function v(e,t){return t&&t(e.tr.setSelection(new ro.AllSelection(e.doc))),!0}function g(e,t,n){var r,o,i=t.nodeBefore,a=t.nodeAfter;if(i.type.spec.isolating||a.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!Rr.canJoin(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&o.matchType(r[0]||a.type).validEnd){if(n){for(var s=t.pos+a.nodeSize,l=Un.Fragment.empty,c=r.length-1;c>=0;c--)l=Un.Fragment.from(r[c].create(null,l));l=Un.Fragment.from(i.copy(l));var p=e.tr.step(new Rr.ReplaceAroundStep(t.pos-1,s,t.pos,s,new Un.Slice(l,1,0),r.length,!0)),u=s+2*r.length;Rr.canJoin(p.doc,u)&&p.join(u),n(p.scrollIntoView())}return!0}var d=ro.Selection.findFrom(t,1),f=d&&d.$from.blockRange(d.$to),h=f&&Rr.liftTarget(f);return null!=h&&h>=t.depth&&(n&&n(e.tr.lift(f,h).scrollIntoView()),!0)}function y(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}Object.defineProperty(t,"__esModule",{value:!0});var b=y(n,r,i),w=y(n,s,l),k={Enter:y(p,f,h,m),"Mod-Enter":d,Backspace:b,"Mod-Backspace":b,Delete:w,"Mod-Delete":w,"Mod-a":v},C={"Ctrl-h":k.Backspace,"Alt-Backspace":k["Mod-Backspace"],"Ctrl-d":k.Delete,"Ctrl-Alt-Backspace":k["Mod-Delete"],"Alt-Delete":k["Mod-Delete"],"Alt-d":k["Mod-Delete"]};for(var x in k)C[x]=k[x];var S=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?C:k;t.autoJoin=function(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,r){return e(n,r&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var r=[],o=0;o<n.mapping.maps.length;o++){for(var i=n.mapping.maps[o],a=0;a<r.length;a++)r[a]=i.map(r[a]);i.forEach((function(e,t,n,o){return r.push(n,o)}))}for(var s=[],l=0;l<r.length;l+=2)for(var c=r[l],p=r[l+1],u=n.doc.resolve(c),d=u.sharedDepth(p),f=u.node(d),h=u.indexAfter(d),m=u.after(d+1);m<=p;++h){var v=f.maybeChild(h);if(!v)break;if(h&&-1==s.indexOf(m)){var g=f.child(h-1);g.type==v.type&&t(g,v)&&s.push(m)}m+=v.nodeSize}s.sort((function(e,t){return e-t}));for(var y=s.length-1;y>=0;y--)Rr.canJoin(n.doc,s[y])&&n.join(s[y]);e(n)}}(r,t))}},t.baseKeymap=S,t.chainCommands=y,t.createParagraphNear=f,t.deleteSelection=n,t.exitCode=d,t.joinBackward=r,t.joinDown=function(e,t){var n,r=e.selection;if(r instanceof ro.NodeSelection){if(r.node.isTextblock||!Rr.canJoin(e.doc,r.to))return!1;n=r.to}else if(null==(n=Rr.joinPoint(e.doc,r.to,1)))return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},t.joinForward=s,t.joinUp=function(e,t){var n,r=e.selection,o=r instanceof ro.NodeSelection;if(o){if(r.node.isTextblock||!Rr.canJoin(e.doc,r.from))return!1;n=r.from}else if(null==(n=Rr.joinPoint(e.doc,r.from,-1)))return!1;if(t){var i=e.tr.join(n);o&&i.setSelection(ro.NodeSelection.create(i.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},t.lift=function(e,t){var n=e.selection,r=n.$from,o=n.$to,i=r.blockRange(o),a=i&&Rr.liftTarget(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)},t.liftEmptyBlock=h,t.macBaseKeymap=C,t.newlineInCode=p,t.pcBaseKeymap=k,t.selectAll=v,t.selectNodeBackward=i,t.selectNodeForward=l,t.selectParentNode=function(e,t){var n,r=e.selection,o=r.$from,i=r.to,a=o.sharedDepth(i);return 0!=a&&(n=o.before(a),t&&t(e.tr.setSelection(ro.NodeSelection.create(e.doc,n))),!0)},t.setBlockType=function(e,t){return function(n,r){var o=n.selection,i=o.from,a=o.to,s=!1;return n.doc.nodesBetween(i,a,(function(r,o){if(s)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)s=!0;else{var i=n.doc.resolve(o),a=i.index();s=i.parent.canReplaceWith(a,a+1,e)}})),!!s&&(r&&r(n.tr.setBlockType(i,a,e,t).scrollIntoView()),!0)}},t.splitBlock=m,t.splitBlockKeepMarks=function(e,t){return m(e,t&&function(n){var r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&n.ensureMarks(r),t(n)})},t.toggleMark=function(e,t){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,s,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var l=!1,c=n.tr,p=0;!l&&p<s.length;p++){var u=s[p],d=u.$from,f=u.$to;l=n.doc.rangeHasMark(d.pos,f.pos,e)}for(var h=0;h<s.length;h++){var m=s[h],v=m.$from,g=m.$to;l?c.removeMark(v.pos,g.pos,e):c.addMark(v.pos,g.pos,e.create(t))}r(c.scrollIntoView())}return!0}},t.wrapIn=function(e,t){return function(n,r){var o=n.selection,i=o.$from,a=o.$to,s=i.blockRange(a),l=s&&Rr.findWrapping(s,e,t);return!!l&&(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0)}}}));H(oo);for(var io=oo.autoJoin,ao=oo.baseKeymap,so=(oo.chainCommands,oo.createParagraphNear,oo.deleteSelection,oo.exitCode,oo.joinBackward,oo.joinDown,oo.joinForward,oo.joinUp,oo.lift,oo.liftEmptyBlock,oo.macBaseKeymap,oo.newlineInCode,oo.pcBaseKeymap,oo.selectAll,oo.selectNodeBackward,oo.selectNodeForward,oo.selectParentNode,oo.setBlockType),lo=(oo.splitBlock,oo.splitBlockKeepMarks,oo.toggleMark),co=(oo.wrapIn,function(e,t){return function(n,r){var o=n.schema.nodes[e];return so(o,t)(n,r)}}),po={p:{key:"Mod-Alt-0",label:"Paragraph"},h1:{key:"Mod-Alt-1",label:"Heading1"},h2:{key:"Mod-Alt-2",label:"Heading2"},h3:{key:"Mod-Alt-3",label:"Heading3"},h4:{key:"Mod-Alt-4",label:"Heading4"},h5:{key:"Mod-Alt-5",label:"Heading5"},h6:{key:"Mod-Alt-6",label:"Heading6"}},uo=new no("block"),fo=function(e){var t=void 0,n=!1,r=e.doc,o=e.selection,i=o.$from,a=o.$to,s=(i.depth<a.depth?i.depth:a.depth)-1;return r.nodesBetween(i.pos,a.pos,(function(r,o){var i=e.doc.resolve(o).depth;if(r.isBlock&&!(i<s)){var a=r.type,l=r.attrs,c=a.name;t?(c!==t.type||"heading"===t.type&&l.level!==t.attrs.level)&&(n=!0):t={type:c,attrs:l}}})),n?void 0:t},ho=new Qr({key:uo,state:{init:function(e,t){return{selectedBlock:fo(t)}},apply:function(e,t,n,r){return e.docChanged||n.selection!==r.selection?{selectedBlock:fo(r)}:t}}}),mo=["code",0],vo=["em",0],go=["s",0],yo=["strong",0],bo=["u",0],wo={code:{parseDOM:[{tag:"code"}],toDOM:function(){return mo}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return vo}},link:{attrs:{href:{}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href")}}}],toDOM:function(e){return["a",e.attrs,0]}},strike:{parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e&&null}}],toDOM:function(){return go}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!=e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return yo}},subsup:{inclusive:!0,attrs:{type:{default:"sub"}},parseDOM:[{tag:"sub",attrs:{type:"sub"}},{tag:"sup",attrs:{type:"sup"}}],toDOM:function(e){return[e.attrs.type,0]}},textColor:{attrs:{color:""},parseDOM:[{style:"color",getAttrs:function(e){return{color:e}}}],toDOM:function(e){return["a",{style:"color: ".concat(e.attrs.color)},0]}},backgroundColor:{attrs:{color:""},parseDOM:[{style:"background-color",getAttrs:function(e){return{color:e}}}],toDOM:function(e){return["a",{style:"background-color: ".concat(e.attrs.color)},0]}},underline:{parseDOM:[{tag:"u"},{style:"text-decoration: underline"}],toDOM:function(){return bo}}},ko=["blockquote",0],Co={content:"paragraph+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:function(){return ko}},xo=["ul",0],So={content:"listItem+",parseDOM:[{tag:"ul"}],group:"block",toDOM:function(){return xo}},Mo=["li",0],Eo={content:"(paragraph | heading){1} (paragraph | heading | orderedList | bulletList)*",group:"block",parseDOM:[{tag:"li"}],toDOM:function(){return Mo},defining:!0},Oo=["ol",0],Ao={content:"listItem+",attrs:{order:{default:1}},group:"block",parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1===e.attrs.order?Oo:["ol",{start:e.attrs.order},0]}},To=["p",0],No={content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return To}},Do={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Ro={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Lo="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Po="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Fo="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),zo="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Io="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),$o=Lo&&(zo||+Lo[1]<57)||Fo&&zo,Bo=0;Bo<10;Bo++)Do[48+Bo]=Do[96+Bo]=String(Bo);for(Bo=1;Bo<=24;Bo++)Do[Bo+111]="F"+Bo;for(Bo=65;Bo<=90;Bo++)Do[Bo]=String.fromCharCode(Bo+32),Ro[Bo]=String.fromCharCode(Bo);for(var _o in Do)Ro.hasOwnProperty(_o)||(Ro[_o]=Do[_o]);function jo(e){var t=!($o&&(e.ctrlKey||e.altKey||e.metaKey)||(Po||Io)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?Ro:Do)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}var Wo=Object.freeze({__proto__:null,base:Do,shift:Ro,keyName:jo}),Vo="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function qo(e){var t,n,r,o,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(var s=0;s<i.length-1;s++){var l=i[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);Vo?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function Ho(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}var Ko={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Jo=/Edge\/(\d+)/.exec(navigator.userAgent),Uo=/MSIE \d/.test(navigator.userAgent),Xo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);Ko.mac=/Mac/.test(navigator.platform);var Zo=Ko.ie=!!(Uo||Xo||Jo);Ko.ie_version=Uo?document.documentMode||6:Xo?+Xo[1]:Jo?+Jo[1]:null,Ko.gecko=!Zo&&/gecko\/(\d+)/i.test(navigator.userAgent),Ko.gecko_version=Ko.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Go=!Zo&&/Chrome\/(\d+)/.exec(navigator.userAgent);Ko.chrome=!!Go,Ko.chrome_version=Go&&+Go[1],Ko.ios=!Zo&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Ko.android=/Android \d/.test(navigator.userAgent),Ko.webkit="webkitFontSmoothing"in document.documentElement.style,Ko.safari=/Apple Computer/.test(navigator.vendor),Ko.webkit_version=Ko.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Yo=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},Qo=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},ei=function(e,t,n){var r=document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},ti=function(e,t,n,r){return n&&(ri(e,t,n,r,-1)||ri(e,t,n,r,1))},ni=/^(img|br|input|textarea|hr)$/i;function ri(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:oi(e))){var i=e.parentNode;if(1!=i.nodeType||ii(e)||ni.test(e.nodeName)||"false"==e.contentEditable)return!1;t=Yo(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?oi(e):0}}}function oi(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function ii(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var ai=function(e){var t=e.isCollapsed;return t&&Ko.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function si(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function li(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ci(e,t){return"number"==typeof e?e:e[t]}function pi(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function ui(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=Qo(a))if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,l=s?li(i):pi(a),c=0,p=0;if(t.top<l.top+ci(r,"top")?p=-(l.top-t.top+ci(o,"top")):t.bottom>l.bottom-ci(r,"bottom")&&(p=t.bottom-l.bottom+ci(o,"bottom")),t.left<l.left+ci(r,"left")?c=-(l.left-t.left+ci(o,"left")):t.right>l.right-ci(r,"right")&&(c=t.right-l.right+ci(o,"right")),c||p)if(s)i.defaultView.scrollBy(c,p);else{var u=a.scrollLeft,d=a.scrollTop;p&&(a.scrollTop+=p),c&&(a.scrollLeft+=c);var f=a.scrollLeft-u,h=a.scrollTop-d;t={left:t.left-f,top:t.top-h,right:t.right-f,bottom:t.bottom-h}}if(s)break}}function di(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=Qo(e));return t}function fi(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var hi=null;function mi(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function vi(e,t){var n,r,o,i,a=e.root;if(a.caretPositionFromPoint)try{var s=a.caretPositionFromPoint(t.left,t.top);s&&(o=(n=s).offsetNode,i=n.offset)}catch(e){}if(!o&&a.caretRangeFromPoint){var l=a.caretRangeFromPoint(t.left,t.top);l&&(o=(r=l).startContainer,i=r.startOffset)}var c,p=a.elementFromPoint(t.left,t.top+1);if(!p||!e.dom.contains(1!=p.nodeType?p.parentNode:p)){var u=e.dom.getBoundingClientRect();if(!mi(t,u))return null;if(!(p=function e(t,n,r){var o=t.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2)),a=i;;){var s=t.childNodes[a];if(1==s.nodeType)for(var l=s.getClientRects(),c=0;c<l.length;c++){var p=l[c];if(mi(n,p))return e(s,n,p)}if((a=(a+1)%o)==i)break}return t}(e.dom,t,u)))return null}if(Ko.safari&&p.draggable&&(o=i=null),p=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(p,t),o){if(Ko.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var d,f=o.childNodes[i];"IMG"==f.nodeName&&(d=f.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}o==e.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&t.top>o.lastChild.getBoundingClientRect().bottom?c=e.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(c=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,o,i,t))}null==c&&(c=function(e,t,n){var r=function e(t,n){for(var r,o,i=2e8,a=0,s=n.top,l=n.top,c=t.firstChild,p=0;c;c=c.nextSibling,p++){var u=void 0;if(1==c.nodeType)u=c.getClientRects();else{if(3!=c.nodeType)continue;u=ei(c).getClientRects()}for(var d=0;d<u.length;d++){var f=u[d];if(f.top<=s&&f.bottom>=l){s=Math.max(f.bottom,s),l=Math.min(f.top,l);var h=f.left>n.left?f.left-n.left:f.right<n.left?n.left-f.right:0;if(h<i){r=c,i=h,o=h&&3==r.nodeType?{left:f.right<n.left?f.right:f.left,top:n.top}:n,1==c.nodeType&&h&&(a=p+(n.left>=(f.left+f.right)/2?1:0));continue}}!r&&(n.left>=f.right&&n.top>=f.top||n.left>=f.left&&n.top>=f.bottom)&&(a=p+1)}}return r&&3==r.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=gi(r,1);if(i.top!=i.bottom&&mi(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(r,o):!r||i&&1==r.nodeType?{node:t,offset:a}:e(r,o)}(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,p,t));var h=e.docView.nearestDesc(p,!0);return{pos:c,inside:h?h.posAtStart-h.border:-1}}function gi(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function yi(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset;if(3==r.nodeType&&(Ko.webkit||Ko.gecko)){var i=gi(ei(r,o,o),0);if(Ko.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var a=gi(ei(r,o-1,o-1),-1);if(a.top==i.top){var s=gi(ei(r,o,o+1),-1);if(s.top!=i.top)return bi(s,s.left<a.left)}}return i}if(1==r.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){var l,c=!0;if(o<r.childNodes.length){var p=r.childNodes[o];1==p.nodeType&&(l=p.getBoundingClientRect())}if(!l&&o){var u=r.childNodes[o-1];1==u.nodeType&&(l=u.getBoundingClientRect(),c=!1)}return function(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}(l||r.getBoundingClientRect(),c)}for(var d=-1;d<2;d+=2)if(d<0&&o){var f=void 0,h=3==r.nodeType?ei(r,o-1,o):3==(f=r.childNodes[o-1]).nodeType?ei(f):1==f.nodeType&&"BR"!=f.nodeName?f:null;if(h){var m=gi(h,1);if(m.top<m.bottom)return bi(m,!1)}}else if(d>0&&o<oi(r)){var v=void 0,g=3==r.nodeType?ei(r,o,o+1):3==(v=r.childNodes[o]).nodeType?ei(v):1==v.nodeType?v:null;if(g){var y=gi(g,-1);if(y.top<y.bottom)return bi(y,!0)}}return bi(gi(3==r.nodeType?ei(r):r,0),!1)}function bi(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function wi(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}var ki=/[\u0590-\u08ac]/,Ci=null,xi=null,Si=!1;var Mi=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},Ei={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};Mi.prototype.matchesWidget=function(){return!1},Mi.prototype.matchesMark=function(){return!1},Mi.prototype.matchesNode=function(){return!1},Mi.prototype.matchesHack=function(){return!1},Ei.beforePosition.get=function(){return!1},Mi.prototype.parseRule=function(){return null},Mi.prototype.stopEvent=function(){return!1},Ei.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},Ei.border.get=function(){return 0},Mi.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},Mi.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},Ei.posBefore.get=function(){return this.parent.posBeforeChild(this)},Ei.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},Ei.posAfter.get=function(){return this.posBefore+this.size},Ei.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},Mi.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.parentNode.firstChild!=l)break}if(null==s&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},Mi.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==e.nodeType?e:e.parentNode):o.nodeDOM==e))return o;n=!1}}},Mi.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},Mi.prototype.posFromDOM=function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1},Mi.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},Mi.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:Yo(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e);var r=this.children[n],o=t+r.size;if(e<o)return r.domFromPos(e-t-r.border);t=o}},Mi.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var s=this.children[a],l=i+s.size;if(-1==r&&e<=l){var c=i+s.border;if(e>=c&&t<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,c);e=i;for(var p=a;p>0;p--){var u=this.children[p-1];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(1)){r=Yo(u.dom)+1;break}e-=u.size}-1==r&&(r=0)}if(r>-1&&(l>t||a==this.children.length-1)){t=l;for(var d=a+1;d<this.children.length;d++){var f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Yo(f.dom);break}t+=f.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},Mi.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},Mi.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},Mi.prototype.setSelection=function(e,t,n,r){for(var o=Math.min(e,t),i=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var l=this.children[a],c=s+l.size;if(o>s&&i<c)return l.setSelection(e-s-l.border,t-s-l.border,n,r);s=c}var p=this.domFromPos(e),u=this.domFromPos(t),d=n.getSelection();if(r||!ti(p.node,p.offset,d.anchorNode,d.anchorOffset)||!ti(u.node,u.offset,d.focusNode,d.focusOffset)){var f=!1;if(d.extend||e==t){d.collapse(p.node,p.offset);try{e!=t&&d.extend(u.node,u.offset),f=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!f){if(e>t){var h=p;p=u,u=h}var m=document.createRange();m.setEnd(u.node,u.offset),m.setStart(p.node,p.offset),d.removeAllRanges(),d.addRange(m)}}},Mi.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},Ei.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},Mi.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,s=i-o.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=3}n=i}this.dirty=2},Mi.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Object.defineProperties(Mi.prototype,Ei);var Oi=[],Ai=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,Oi,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,n),t}(Mi),Ti=function(e){function t(t,n,r,o){e.call(this,t,Oi,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(Mi),Ni=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,o){var i=o.nodeViews[n.type.name],a=i&&i(n,o,r);return a&&a.dom||(a=Hn.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=Ki(i,n,a,r)),e>0&&(i=Ki(i,0,e,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o},t}(Mi),Di=function(e){function t(t,n,r,o,i,a,s,l,c){e.call(this,t,n.isLeaf?Oi:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(l,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,n,r,o,i,a){var s,l,c=i.nodeViews[n.type.name],p=c&&c(n,i,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:a}),r),u=p&&p.dom,d=p&&p.contentDOM;if(n.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(n.text);else u||(u=(s=Hn.renderSpec(document,n.type.spec.toDOM(n))).dom,d=s.contentDOM);d||n.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable=!1),n.type.spec.draggable&&(u.draggable=!0));var f=u;return u=ji(u,r,n),p?l=new Fi(e,n,r,o,u,d,f,p,i,a+1):n.isText?new Li(e,n,r,o,u,f,i):new t(e,n,r,o,u,d,f,i,a+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?Bt.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Wi(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,o=t,i=r&&e.composing&&this.localCompositionNode(e,t),a=new qi(this,i&&i.node);!function(e,t,n,r){var o=t.locals(e),i=0;if(0!=o.length)for(var a=0,s=[],l=null,c=0;;){if(a<o.length&&o[a].to==i){for(var p=o[a++],u=void 0;a<o.length&&o[a].to==i;)(u||(u=[p])).push(o[a++]);if(u){u.sort(Hi);for(var d=0;d<u.length;d++)n(u[d],c,!!l)}else n(p,c,!!l)}var f=void 0,h=void 0;if(l)h=-1,f=l,l=null;else{if(!(c<e.childCount))break;h=c,f=e.child(c++)}for(var m=0;m<s.length;m++)s[m].to<=i&&s.splice(m--,1);for(;a<o.length&&o[a].from<=i&&o[a].to>i;)s.push(o[a++]);var v=i+f.nodeSize;if(f.isText){var g=v;a<o.length&&o[a].from<g&&(g=o[a].from);for(var y=0;y<s.length;y++)s[y].to<g&&(g=s[y].to);g<v&&(l=f.cut(g-i),f=f.cut(0,g-i),v=g,h=-1)}r(f,s.length?s.slice():Oi,t.forChild(i,f),h),i=v}else for(var b=0;b<e.childCount;b++){var w=e.child(b);r(w,o,t.forChild(i,w),b),i+=w.nodeSize}}(this.node,this.innerDeco,(function(t,i,s){t.spec.marks?a.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!s&&a.syncToMarks(i==n.node.childCount?qt.none:n.node.child(i).marks,r,e),a.placeWidget(t,e,o)}),(function(t,n,i,s){a.syncToMarks(t.marks,r,e),a.findNodeMatch(t,n,i,s)||a.updateNextNode(t,n,i,e,s)||a.addNode(t,n,i,e,o),o+=t.nodeSize})),a.syncToMarks(Oi,r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),this.renderChildren())},t.prototype.renderChildren=function(){!function e(t,n){for(var r=t.firstChild,o=0;o<n.length;o++){var i=n[o],a=i.dom;if(a.parentNode==t){for(;a!=r;)r=Vi(r);r=r.nextSibling}else t.insertBefore(a,r);if(i instanceof Ni){var s=r?r.previousSibling:t.lastChild;e(i.contentDOM,i.children),r=s?s.nextSibling:t.firstChild}}for(;r;)r=Vi(r)}(this.contentDOM,this.children),Ko.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom)},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,r=n.from,o=n.to;if(!(!(e.state.selection instanceof Ir)||r<t||o>t+this.node.content.size)){var i=e.root.getSelection(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=oi(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(i.focusNode,i.focusOffset);if(a&&this.dom.contains(a.parentNode)){var s=a.nodeValue,l=function(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),s=i;if(i+=a.nodeSize,a.isText){for(var l=a.text;o<e.childCount;){var c=e.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var p=l.lastIndexOf(t,r-s);if(p>=0&&p+t.length+s>=n)return s+p}}}return-1}(this.node.content,s,r-t,o-t);return l<0?null:{node:a,pos:l,text:s}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new Ti(this,i,n,o);e.compositionNodes.push(a),this.children=Ki(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!Wi(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Bi(this.dom,this.nodeDOM,$i(this.outerDeco,this.node,t),$i(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(t.prototype,n),t}(Mi);function Ri(e,t,n,r,o){return ji(r,t,e),new Di(null,e,t,n,r,r,r,o,0)}var Li=function(e){function t(t,n,r,o,i,a,s){e.call(this,t,n,r,o,i,null,a,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t}(Di),Pi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}(Mi),Fi=function(e){function t(t,n,r,o,i,a,s,l,c,p){e.call(this,t,n,r,o,i,a,s,c,p),this.spec=l}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(Di);function zi(e){e&&(this.nodeName=e)}zi.prototype=Object.create(null);var Ii=[new zi];function $i(e,t,n){if(0==e.length)return Ii;for(var r=n?Ii[0]:new zi,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs,s=r;if(a)for(var l in a.nodeName&&o.push(s=new zi(a.nodeName)),a){var c=a[l];null!=c&&(n&&1==o.length&&o.push(s=r=new zi(t.isInline?"span":"div")),"class"==l?s.class=(s.class?s.class+" ":"")+c:"style"==l?s.style=(s.style?s.style+";":"")+c:"nodeName"!=l&&(s[l]=c))}}return o}function Bi(e,t,n,r){if(n==Ii&&r==Ii)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var l=void 0;s&&s.nodeName==a.nodeName&&o!=e&&(l=o.parentNode)&&l.tagName.toLowerCase()==a.nodeName||((l=document.createElement(a.nodeName)).pmIsDeco=!0,l.appendChild(o),s=Ii[0]),o=l}_i(o,s||Ii[0],a)}return o}function _i(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" "):Oi,a=n.class?n.class.split(" "):Oi,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var l=0;l<a.length;l++)-1==i.indexOf(a[l])&&e.classList.add(a[l])}if(t.style!=n.style){if(t.style)for(var c,p=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=p.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style)}}function ji(e,t,n){return Bi(e,e,Ii,$i(t,n,1!=e.nodeType))}function Wi(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Vi(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var qi=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){for(var n=[],r=e.childCount,o=t.length-1;r>0&&o>=0;o--){var i=t[o],a=i.node;if(a){if(a!=e.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function Hi(e,t){return e.type.side-t.type.side}function Ki(e,t,n,r,o){for(var i=[],a=0,s=0;a<e.length;a++){var l=e[a],c=s,p=s+=l.size;c>=n||p<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=null),p>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Ji(e,t){var n=e.selection,r=n.$anchor,o=n.$head,i=t>0?r.max(o):r.min(o),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&Pr.findFrom(a,t)}function Ui(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Xi(e,t,n){var r=e.state.selection;if(!(r instanceof Ir)){if(r instanceof Br&&r.node.isInline)return Ui(e,new Ir(t>0?r.$to:r.$from));var o=Ji(e.state,t);return!!o&&Ui(e,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=Ji(e.state,t);return!!(i&&i instanceof Br)&&Ui(e,i)}if(!(Ko.mac&&n.indexOf("m")>-1)){var a,s=r.$head,l=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!l||l.isText)return!1;var c=t<0?s.pos-l.nodeSize:s.pos;return!!(l.isAtom||(a=e.docView.descAt(c))&&!a.contentDOM)&&(Br.isSelectable(l)?Ui(e,new Br(t<0?e.state.doc.resolve(s.pos-l.nodeSize):s)):!!Ko.webkit&&Ui(e,new Ir(e.state.doc.resolve(t<0?c:c+l.nodeSize))))}}function Zi(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Gi(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Yi(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,a=!1;for(Ko.gecko&&1==n.nodeType&&r<Zi(n)&&Gi(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var s=n.childNodes[r-1];if(Gi(s))o=n,i=--r;else{if(3!=s.nodeType)break;r=(n=s).nodeValue.length}}else{if(ea(n))break;for(var l=n.previousSibling;l&&Gi(l);)o=n.parentNode,i=Yo(l),l=l.previousSibling;if(l)r=Zi(n=l);else{if((n=n.parentNode)==e.dom)break;r=0}}a?ta(e,t,n,r):o&&ta(e,t,o,i)}}function Qi(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=Zi(n);;)if(r<a){if(1!=n.nodeType)break;if(!Gi(n.childNodes[r]))break;o=n,i=++r}else{if(ea(n))break;for(var s=n.nextSibling;s&&Gi(s);)o=s.parentNode,i=Yo(s)+1,s=s.nextSibling;if(s)r=0,a=Zi(n=s);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&ta(e,t,o,i)}}function ea(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function ta(e,t,n,r){if(ai(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection()}function na(e,t,n){var r=e.state.selection;if(r instanceof Ir&&!r.empty||n.indexOf("s")>-1)return!1;if(Ko.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=Ji(e.state,t);if(a&&a instanceof Br)return Ui(e,a)}if(!o.parent.inlineContent){var s=Pr.findFrom(t<0?o:i,t);return!s||Ui(e,s)}return!1}function ra(e,t){if(!(e.state.selection instanceof Ir))return!0;var n=e.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var s=e.state.tr;return t<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),e.dispatch(s),!0}return!1}function oa(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function ia(e,t){var n=e.root.getSelection(),r=e.state.doc;if(!n.focusNode)return null;var o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var s,l,c=r.resolve(a);if(ai(n)){for(s=c;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&Br.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(e,t,n){for(var r=0==t,o=t==oi(e);r||o;){if(e==n)return!0;var i=Yo(e);if(!(e=e.parentNode))return!1;r=r&&0==i,o=o&&i==oi(e)}}(n.focusNode,n.focusOffset,o.dom))){var p=o.posBefore;l=new Br(a==p?c:r.resolve(p))}}else{var u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(u<0)return null;s=r.resolve(u)}return l||(l=fa(e,s,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)),l}function aa(e,t){var n=e.state.selection;if(ua(e,n),e.editable?e.hasFocus():ha(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,Yo(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&Ko.ie&&Ko.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var r,o,i=n.anchor,a=n.head;!sa||n instanceof Ir||(n.$from.parent.inlineContent||(r=la(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=la(e,n.to))),e.docView.setSelection(i,a,e.root,t),sa&&(r&&pa(r),o&&pa(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}qi.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},qi.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},qi.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},qi.prototype.syncToMarks=function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[o])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=Ni.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}},qi.prototype.findNodeMatch=function(e,t,n,r){var o=-1,i=r<0?void 0:this.getPreMatch(r),a=this.top.children;if(i&&i.matchesNode(e,t,n))o=a.indexOf(i);else for(var s=this.index,l=Math.min(a.length,s+5);s<l;s++){var c=a[s];if(c.matchesNode(e,t,n)&&this.preMatched.indexOf(c)<0){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},qi.prototype.updateNextNode=function(e,t,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof Di){var s=this.preMatched.indexOf(a);if(s>-1&&s+this.preMatchOffset!=o)return!1;var l=a.dom;if((!this.lock||!(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))||e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&Wi(t,a.outerDeco))&&a.update(e,t,n,r))return this.destroyBetween(this.index,i),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},qi.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,Di.create(this.top,e,t,n,r,o)),this.changed=!0},qi.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new Ai(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},qi.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof Ni;)e=e.children[e.children.length-1];if(!e||!(e instanceof Li)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new Pi(this.top,Oi,t,null)),this.changed=!0}};var sa=Ko.safari||Ko.chrome&&Ko.chrome_version<63;function la(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if(Ko.safari&&i&&"false"==i.contentEditable)return ca(i);if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return ca(i);if(a)return ca(a)}}function ca(e){return e.contentEditable="true",Ko.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function pa(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ua(e,t){if(t instanceof Br){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(da(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else da(e)}function da(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function fa(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||Ir.between(t,n,r)}function ha(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function ma(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Ko.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||Ko.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function va(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:fa(e,t.resolve(n.anchor),t.resolve(n.head))}function ga(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function ya(e,t){for(var n=[],r=t.content,o=t.openStart,i=t.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var a=r.firstChild;n.push(a.type.name,a.type.hasRequiredAttrs()?a.attrs:null),r=a.content}var s=e.someProp("clipboardSerializer")||Hn.fromSchema(e.state.schema),l=Sa(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));for(var p,u=c.firstChild;u&&1==u.nodeType&&(p=Ca[u.nodeName.toLowerCase()]);){for(var d=p.length-1;d>=0;d--){for(var f=l.createElement(p[d]);c.firstChild;)f.appendChild(c.firstChild);c.appendChild(f)}u=c.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n)),{dom:c,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function ba(e,t,n,r,o){var i,a,s=o.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",(function(e){t=e(t,s||r)})),s)return new Kt(Bt.from(e.state.schema.text(t)),0,0);var c=e.someProp("clipboardTextParser",(function(e){return e(t,o,r)}));c?a=c:(i=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){i.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),i=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=Sa().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),i=0;(n=o&&Ca[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""),i=n.length),r.innerHTML=e;for(var a=0;a<i;a++)r=r.firstChild;return r}(n);var p=i&&i.querySelector("[data-pm-slice]"),u=p&&/^(\d+) (\d+) (.*)/.exec(p.getAttribute("data-pm-slice"));if(!a){var d=e.someProp("clipboardParser")||e.someProp("domParser")||Pn.fromSchema(e.state.schema);a=d.parseSlice(i,{preserveWhitespace:!(!l&&!u),context:o})}return a=u?function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var o=e.content,i=e.openStart,a=e.openEnd,s=n.length-2;s>=0;s-=2){var l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;o=Bt.from(l.create(n[s+1],o)),i++,a++}return new Kt(o,i,a)}(function(e,t,n){return t<e.openStart&&(e=new Kt(ka(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Kt(ka(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}(a,+u[1],+u[2]),u[3]):Kt.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n).contentMatchAt(t.index(n)),o=void 0,i=[];if(e.forEach((function(e){if(i){var t,n=r.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&o.length&&function e(t,n,r,o,i){if(i<t.length&&i<n.length&&t[i]==n[i]){var a=e(t,n,r,o.lastChild,i+1);if(a)return o.copy(o.content.replaceChild(o.childCount-1,a));if(o.contentMatchAt(o.childCount).matchType(i==t.length-1?r.type:t[i+1]))return o.copy(o.content.append(Bt.from(wa(r,t,i+1))))}}(n,o,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=function e(t,n){if(0==n)return t;var r=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),o=t.contentMatchAt(t.childCount).fillBefore(Bt.empty,!0);return t.copy(r.append(o))}(i[i.length-1],o.length));var a=wa(e,n);i.push(a),r=r.matchType(a.type,a.attrs),o=n}}})),i)return{v:Bt.from(i)}},r=t.depth;r>=0;r--){var o=n(r);if(o)return o.v}return e}(a.content,o),!1),e.someProp("transformPasted",(function(e){a=e(a)})),a}function wa(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,Bt.from(e));return e}function ka(e,t,n,r,o,i){var a=t<0?e.firstChild:e.lastChild,s=a.content;return o<r-1&&(s=ka(s,t,n,r,o+1,i)),o>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,e.childCount>1||i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(Bt.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}var Ca={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},xa=null;function Sa(){return xa||(xa=document.implementation.createHTMLDocument("title"))}var Ma={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ea=Ko.ie&&Ko.ie_version<=11,Oa=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Oa.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Oa.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Aa=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);Ko.ie&&Ko.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Oa,Ea&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Aa.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Aa.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Aa.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Ma),Ea&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Aa.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Ea&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Aa.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Aa.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Aa.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Aa.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&ha(e)){var e;if(this.suppressingSelectionUpdates)return aa(this.view);if(Ko.ie&&Ko.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&ti(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Aa.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Aa.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Aa.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&ha(this.view)&&!this.ignoreSelectionChange(t),r=-1,o=-1,i=!1,a=[];if(this.view.editable)for(var s=0;s<e.length;s++){var l=this.registerMutation(e[s],a);l&&(r=r<0?l.from:Math.min(l.from,r),o=o<0?l.to:Math.max(l.to,o),l.typeOver&&(i=!0))}if(Ko.gecko&&a.length>1){var c=a.filter((function(e){return"BR"==e.nodeName}));if(2==c.length){var p=c[0],u=c[1];p.parentNode&&p.parentNode.parentNode==u.parentNode?u.remove():p.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(e){Ta||(Ta=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}(this.view)),this.handleDOMChange(r,o,i,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||aa(this.view))}},Aa.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){var r=e.previousSibling,o=e.nextSibling;if(Ko.ie&&Ko.ie_version<=11&&e.addedNodes.length)for(var i=0;i<e.addedNodes.length;i++){var a=e.addedNodes[i],s=a.previousSibling,l=a.nextSibling;(!s||Array.prototype.indexOf.call(e.addedNodes,s)<0)&&(r=s),(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(o=l)}for(var c=r&&r.parentNode==e.target?Yo(r)+1:0,p=n.localPosFromDOM(e.target,c,-1),u=o&&o.parentNode==e.target?Yo(o):e.target.childNodes.length,d=0;d<e.addedNodes.length;d++)t.push(e.addedNodes[d]);return{from:p,to:n.localPosFromDOM(e.target,u,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Ta=!1,Na={},Da={};function Ra(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function La(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return Pa(e,t)})}))}function Pa(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Fa(e){return{left:e.clientX,top:e.clientY}}function za(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,(function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var l=a(s);if(l)return l.v}return!1}function Ia(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function $a(e,t,n,r){return za(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function Ba(e,t,n,r){return za(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&(Ia(e,Ir.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(t),o=r.depth+1;o>0;o--){var i=o>r.depth?r.nodeAfter:r.node(o),a=r.before(o);if(i.inlineContent)Ia(e,Ir.create(n,a+1,a+1+i.content.size),"pointer");else{if(!Br.isSelectable(i))continue;Ia(e,Br.create(n,a),"pointer")}return!0}}(e,n)}function _a(e){return Ka(e)}Da.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!Va(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!Ko.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||function(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||Ko.mac&&72==n&&"c"==r?ra(e,-1)||Yi(e):46==n||Ko.mac&&68==n&&"c"==r?ra(e,1)||Qi(e):13==n||27==n||(37==n?Xi(e,-1,r)||Yi(e):39==n?Xi(e,1,r)||Qi(e):38==n?na(e,-1,r)||Yi(e):40==n?function(e){if(Ko.chrome&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;oa(e,o,!0),setTimeout((function(){return oa(e,o,!1)}),20)}}}(e)||na(e,1,r)||Qi(e):r==(Ko.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}(e,t)?t.preventDefault():Ra(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,si(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},Da.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Da.keypress=function(e,t){if(!(Va(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ko.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof Ir&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,r)}))||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};var ja=Ko.mac?"metaKey":"ctrlKey";Na.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=_a(e),r=Date.now(),o="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[ja]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(Fa(t));i&&("singleClick"==o?e.mouseDown=new Wa(e,i,t,n):("doubleClick"==o?$a:Ba)(e,i.pos,i.inside,t)?t.preventDefault():Ra(e,"pointer"))};var Wa=function(e,t,n,r){var o,i,a=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[ja],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{var s=e.state.doc.resolve(t.pos);o=s.parent,i=s.depth?s.before():0}this.mightDrag=null;var l=r?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null,(o.type.spec.draggable&&!1!==o.type.spec.selectable||e.state.selection instanceof Br&&i==e.state.selection.from)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Ko.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return a.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ra(e,"pointer")};function Va(e,t){return!!e.composing||!!(Ko.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}Wa.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},Wa.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Fa(e))),this.allowDefault||!t?Ra(this.view,"pointer"):function(e,t,n,r,o){return za(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(o?function(e,t){if(-1==t)return!1;var n,r,o=e.state.selection;o instanceof Br&&(n=o.node);for(var i=e.state.doc.resolve(t),a=i.depth+1;a>0;a--){var s=a>i.depth?i.nodeAfter:i.node(a);if(Br.isSelectable(s)){r=n&&o.$from.depth>0&&a>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(a);break}}return null!=r&&(Ia(e,Br.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&Br.isSelectable(r))&&(Ia(e,new Br(n),"pointer"),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||Ko.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Ko.chrome&&!(this.view.state.selection instanceof Ir)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(Ia(this.view,Pr.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ra(this.view,"pointer")}},Wa.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ra(this.view,"pointer")},Na.touchdown=function(e){_a(e),Ra(e,"pointer")},Na.contextmenu=function(e){return _a(e)};var qa=Ko.android?5e3:-1;function Ha(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return Ka(e)}),t))}function Ka(e,t){for(e.domObserver.forceFlush(),e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty();if(t||e.docView.dirty){var n=ia(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}Da.compositionstart=Da.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),Ka(e,!0),e.markCursor=null;else if(Ka(e),Ko.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var a=i<0?o.lastChild:o.childNodes[i-1];if(!a)break;if(3==a.nodeType){r.collapse(a,a.nodeValue.length);break}o=a,i=-1}e.composing=!0}Ha(e,qa)},Da.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,Ha(e,20))};var Ja=Ko.ie&&Ko.ie_version<15||Ko.ios&&Ko.webkit_version<604;function Ua(e,t,n,r){var o=ba(e,t,n,e.shiftKey,e.state.selection.$from);if(!e.someProp("handlePaste",(function(t){return t(e,r,o||Kt.empty)}))&&o){var i=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(o),a=i?e.state.tr.replaceSelectionWith(i,e.shiftKey):e.state.tr.replaceSelection(o);e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}Na.copy=Da.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=Ja?null:t.clipboardData,i=ya(e,n.content()),a=i.dom,s=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Da.paste=function(e,t){var n=Ja?null:t.clipboardData,r=n&&n.getData("text/html"),o=n&&n.getData("text/plain");n&&(r||o||n.files.length)?(Ua(e,o,r,t),t.preventDefault()):function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ua(e,r.value,null,t):Ua(e,r.textContent,r.innerHTML,t)}),50)}}(e,t)};var Xa=function(e,t){this.slice=e,this.move=t},Za=Ko.mac?"altKey":"ctrlKey";for(var Ga in Na.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,o=r.empty?null:e.posAtCoords(Fa(t));if(o&&o.pos>=r.from&&o.pos<=(r instanceof Br?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(Br.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var i=e.docView.nearestDesc(t.target,!0);if(!i||!i.node.type.spec.draggable||i==e.docView)return;e.dispatch(e.state.tr.setSelection(Br.create(e.state.doc,i.posBefore)))}var a=e.state.selection.content(),s=ya(e,a),l=s.dom,c=s.text;t.dataTransfer.clearData(),t.dataTransfer.setData(Ja?"Text":"text/html",l.innerHTML),Ja||t.dataTransfer.setData("text/plain",c),e.dragging=new Xa(a,!t[Za])}},Na.dragend=function(e){window.setTimeout((function(){return e.dragging=null}),50)},Da.dragover=Da.dragenter=function(e,t){return t.preventDefault()},Da.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var r=e.posAtCoords(Fa(t));if(r){var o=e.state.doc.resolve(r.pos);if(o){var i=n&&n.slice||ba(e,t.dataTransfer.getData(Ja?"Text":"text/plain"),Ja?null:t.dataTransfer.getData("text/html"),!1,o);if(e.someProp("handleDrop",(function(r){return r(e,t,i||Kt.empty,n&&n.move)})))t.preventDefault();else if(i){t.preventDefault();var a=i?gr(e.state.doc,o.pos,i):o.pos;null==a&&(a=o.pos);var s=e.state.tr;n&&n.move&&s.deleteSelection();var l=s.mapping.map(a),c=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,p=s.doc;if(c?s.replaceRangeWith(l,l,i.content.firstChild):s.replaceRange(l,l,i),!s.doc.eq(p)){var u=s.doc.resolve(l);c&&Br.isSelectable(i.content.firstChild)&&u.nodeAfter&&u.nodeAfter.sameMarkup(i.content.firstChild)?s.setSelection(new Br(u)):s.setSelection(fa(e,u,s.doc.resolve(s.mapping.map(a)))),e.focus(),e.dispatch(s.setMeta("uiEvent","drop"))}}}}}},Na.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&aa(e)}),20))},Na.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Na.beforeinput=function(e,t){if(Ko.chrome&&Ko.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,si(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Da)Na[Ga]=Da[Ga];function Ya(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var Qa=function(e,t){this.spec=t||as,this.side=this.spec.side||0,this.toDOM=e};Qa.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new ns(i-n,i-n,this)},Qa.prototype.valid=function(){return!0},Qa.prototype.eq=function(e){return this==e||e instanceof Qa&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ya(this.spec,e.spec))};var es=function(e,t){this.spec=t||as,this.attrs=e};es.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new ns(o,i,this)},es.prototype.valid=function(e,t){return t.from<t.to},es.prototype.eq=function(e){return this==e||e instanceof es&&Ya(this.attrs,e.attrs)&&Ya(this.spec,e.spec)},es.is=function(e){return e.type instanceof es};var ts=function(e,t){this.spec=t||as,this.attrs=e};ts.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new ns(o.pos-n,i.pos-n,this)},ts.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),r=n.index,o=n.offset;return o==t.from&&o+e.child(r).nodeSize==t.to},ts.prototype.eq=function(e){return this==e||e instanceof ts&&Ya(this.attrs,e.attrs)&&Ya(this.spec,e.spec)};var ns=function(e,t,n){this.from=e,this.to=t,this.type=n},rs={spec:{configurable:!0}};ns.prototype.copy=function(e,t){return new ns(e,t,this.type)},ns.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},ns.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},ns.widget=function(e,t,n){return new ns(e,e,new Qa(t,n))},ns.inline=function(e,t,n,r){return new ns(e,t,new es(n,r))},ns.node=function(e,t,n,r){return new ns(e,t,new ts(n,r))},rs.spec.get=function(){return this.type.spec},Object.defineProperties(ns.prototype,rs);var is=[],as={},ss=function(e,t){this.local=e&&e.length?e:is,this.children=t&&t.length?t:is};ss.create=function(e,t){return t.length?fs(t,e,0,as):ls},ss.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},ss.prototype.findInner=function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var l=this.children[s]+1;this.children[s+2].findInner(e-l,t-l,n,r+l,o)}},ss.prototype.map=function(e,t,n){return this==ls||0==e.maps.length?this:this.mapInner(e,t,0,0,n||as)},ss.prototype.mapInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){for(var s=e.slice(),l=function(e,t,n,r){for(var a=0;a<s.length;a+=3){var l=s[a+1],c=void 0;-1==l||e>l+i||(t>=s[a]+i?s[a+1]=-1:n>=o&&(c=r-n-(t-e))&&(s[a]+=c,s[a+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var p=!1,u=0;u<s.length;u+=3)if(-1==s[u+1]){var d=n.map(s[u]+i),f=d-o;if(f<0||f>=r.content.size){p=!0;continue}var h=n.map(e[u+1]+i,-1)-o,m=r.content.findIndex(f),v=m.index,g=m.offset,y=r.maybeChild(v);if(y&&g==f&&g+y.nodeSize==h){var b=s[u+2].mapInner(n,y,d+1,s[u]+i+1,a);b!=ls?(s[u]=f,s[u+1]=h,s[u+2]=b):(s[u+1]=-2,p=!0)}else p=!0}if(p){var w=fs(function(e,t,n,r,o,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var l=e.local[i].map(r,o,t);l?n.push(l):a.onRemove&&a.onRemove(e.local[i].spec)}for(var c=0;c<e.children.length;c+=3)s(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+i+1);return n}(s,e,t||[],n,o,i,a),r,0,a);t=w.local;for(var k=0;k<s.length;k+=3)s[k+1]<0&&(s.splice(k,3),k-=3);for(var C=0,x=0;C<w.children.length;C+=3){for(var S=w.children[C];x<s.length&&s[x]<S;)x+=3;s.splice(x,0,w.children[C],w.children[C+1],w.children[C+2])}}return new ss(t&&t.sort(hs),s)}(this.children,i,e,t,n,r,o):i?new ss(i.sort(hs)):ls},ss.prototype.add=function(e,t){return t.length?this==ls?ss.create(e,t):this.addInner(e,t,0):this},ss.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach((function(e,a){var s,l=a+n;if(s=us(t,e,l)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,s,l+1):r.splice(i,0,a,a+e.nodeSize,fs(s,e,l+1,as)),i+=3}}));var a=ps(i?ds(t):t,-n);return new ss(a.length?this.local.concat(a).sort(hs):this.local,r||this.children)},ss.prototype.remove=function(e){return 0==e.length||this==ls?this:this.removeInner(e,0)},ss.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,s=n[o+1]+t,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>a&&c.to<s&&(e[l]=null,(i||(i=[])).push(c));if(i){n==this.children&&(n=this.children.slice());var p=n[o+2].removeInner(i,a+1);p!=ls?n[o+2]=p:(n.splice(o,3),o-=3)}}if(r.length)for(var u=0,d=void 0;u<e.length;u++)if(d=e[u])for(var f=0;f<r.length;f++)r[f].eq(d,t)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new ss(r,n):ls},ss.prototype.forChild=function(e,t){if(this==ls)return this;if(t.isLeaf)return ss.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,a=i+t.content.size,s=0;s<this.local.length;s++){var l=this.local[s];if(l.from<a&&l.to>i&&l.type instanceof es){var c=Math.max(i,l.from)-i,p=Math.min(a,l.to)-i;c<p&&(r||(r=[])).push(l.copy(c,p))}}if(r){var u=new ss(r.sort(hs));return n?new cs([u,n]):u}return n||ls},ss.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof ss)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},ss.prototype.locals=function(e){return ms(this.localsInner(e))},ss.prototype.localsInner=function(e){if(this==ls)return is;if(e.inlineContent||!this.local.some(es.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof es||t.push(this.local[n]);return t};var ls=new ss;ss.empty=ls,ss.removeOverlap=ms;var cs=function(e){this.members=e};function ps(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new ns(o.from+t,o.to+t,o.type))}return n}function us(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function ds(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function fs(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var s=us(e,t,a+n);if(s){i=!0;var l=fs(s,t,n+a+1,r);l!=ls&&o.push(a,a+t.nodeSize,l)}}));for(var a=ps(i?ds(e):e,-n).sort(hs),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new ss(a,o):ls}function hs(e,t){return e.from-t.from||e.to-t.to}function ms(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),vs(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),vs(t,o+1,i.copy(r.to,i.to)))}}return t}function vs(e,t,n){for(;t<e.length&&hs(n,e[t])>0;)t++;e.splice(t,0,n)}function gs(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=ls&&t.push(r)})),e.cursorWrapper&&t.push(ss.create(e.state.doc,[e.cursorWrapper.deco])),cs.from(t)}cs.prototype.forChild=function(e,t){if(t.isLeaf)return ss.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(e,t);o!=ls&&(o instanceof cs?n=n.concat(o.members):n.push(o))}return cs.from(n)},cs.prototype.eq=function(e){if(!(e instanceof cs)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},cs.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?ms(n?t:t.sort(hs)):is},cs.from=function(e){switch(e.length){case 0:return ls;case 1:return e[0];default:return new cs(e)}};var ys,bs,ws=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ss(this),this.markCursor=null,this.cursorWrapper=null,xs(this),this.nodeViews=Ms(this),this.docView=Ri(this.state.doc,Cs(this),gs(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Aa(e,(function(t,n,r,o){return function(e,t,n,r,o){if(t<0){var i=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,a=ia(e,i);if(a&&!e.state.selection.eq(a)){var s=e.state.tr.setSelection(a);"pointer"==i?s.setMeta("pointer",!0):"key"==i&&s.scrollIntoView(),e.dispatch(s)}}else{var l=e.state.doc.resolve(t),c=l.sharedDepth(n);t=l.before(c+1),n=e.state.doc.resolve(n).after(c+1);var p,u,d=e.state.selection,f=function(e,t,n){var r=e.docView.parseRange(t,n),o=r.node,i=r.fromOffset,a=r.toOffset,s=r.from,l=r.to,c=e.root.getSelection(),p=null,u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(p=[{node:u,offset:c.anchorOffset}],ai(c)||p.push({node:c.focusNode,offset:c.focusOffset})),Ko.chrome&&8===e.lastKeyCode)for(var d=a;d>i;d--){var f=o.childNodes[d-1],h=f.pmViewDesc;if("BR"==f.nodeType&&!h){a=d;break}if(!h||h.size)break}var m=e.state.doc,v=e.someProp("domParser")||Pn.fromSchema(e.state.schema),g=m.resolve(s),y=null,b=v.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:a,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:ma,context:g});if(p&&null!=p[0].pos){var w=p[0].pos,k=p[1]&&p[1].pos;null==k&&(k=w),y={anchor:w+s,head:k+s}}return{doc:b,sel:y,from:s,to:l}}(e,t,n),h=e.state.doc,m=h.slice(f.from,f.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(p=e.state.selection.to,u="end"):(p=e.state.selection.from,u="start"),e.lastKeyCode=null;var v=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,l=a.b;"end"==o&&(r-=s+Math.max(0,i-Math.min(s,l))-i);return s<i&&e.size<t.size?(l=(i-=r<=i&&r>=s?i-r:0)+(l-s),s=i):l<i&&(s=(i-=r<=i&&r>=l?i-r:0)+(s-l),l=i),{start:i,endA:s,endB:l}}(m.content,f.doc.content,f.from,p,u);if(!v){if(!(r&&d instanceof Ir&&!d.empty&&d.$head.sameParent(d.$anchor))||e.composing||f.sel&&f.sel.anchor!=f.sel.head){if(f.sel){var g=va(e,e.state.doc,f.sel);g&&!g.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(g))}return}v={start:d.from,endA:d.to,endB:d.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof Ir&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),Ko.ie&&Ko.ie_version<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>f.from&&" \xa0"==f.doc.textBetween(v.start-f.from-1,v.start-f.from+1)&&(v.start--,v.endA--,v.endB--);var y,b=f.doc.resolveNoCache(v.start-f.from),w=f.doc.resolveNoCache(v.endB-f.from),k=b.sameParent(w)&&b.parent.inlineContent;if((Ko.ios&&e.lastIOSEnter>Date.now()-225&&(!k||o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!k&&b.pos<f.doc.content.size&&(y=Pr.findFrom(f.doc.resolve(b.pos+1),1,!0))&&y.head==w.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,si(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>v.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||ga(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(ga(i,!0,!0));return!(!a.parent.isTextblock||a.pos>n||ga(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(h,v.start,v.endA,b,w)&&e.someProp("handleKeyDown",(function(t){return t(e,si(8,"Backspace"))})))Ko.android&&Ko.chrome&&e.domObserver.suppressSelectionUpdates();else{Ko.android&&!k&&b.start()!=w.start()&&0==w.parentOffset&&b.depth==w.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==v.endA&&(v.endB-=2,w=f.doc.resolveNoCache(v.endB-f.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,si(13,"Enter"))}))}),20));var C,x,S,M,E=v.start,O=v.endA;if(k)if(b.pos==w.pos)Ko.ie&&Ko.ie_version<=11&&0==b.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return aa(e)}),20)),C=e.state.tr.delete(E,O),x=h.resolve(v.start).marksAcross(h.resolve(v.endA));else if(v.endA==v.endB&&(M=h.resolve(v.start))&&(S=function(e,t){for(var n,r,o,i=e.firstChild.marks,a=t.firstChild.marks,s=i,l=a,c=0;c<a.length;c++)s=a[c].removeFromSet(s);for(var p=0;p<i.length;p++)l=i[p].removeFromSet(l);if(1==s.length&&0==l.length)r=s[0],n="add",o=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=s.length||1!=l.length)return null;r=l[0],n="remove",o=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var u=[],d=0;d<t.childCount;d++)u.push(o(t.child(d)));if(Bt.from(u).eq(e))return{mark:r,type:n}}(b.parent.content.cut(b.parentOffset,w.parentOffset),M.parent.content.cut(M.parentOffset,v.endA-M.start()))))C=e.state.tr,"add"==S.type?C.addMark(E,O,S.mark):C.removeMark(E,O,S.mark);else if(b.parent.child(b.index()).isText&&b.index()==w.index()-(w.textOffset?0:1)){var A=b.parent.textBetween(b.parentOffset,w.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,E,O,A)})))return;C=e.state.tr.insertText(A,E,O)}if(C||(C=e.state.tr.replace(E,O,f.doc.slice(v.start-f.from,v.endB-f.from))),f.sel){var T=va(e,C.doc,f.sel);T&&!(Ko.chrome&&Ko.android&&e.composing&&T.empty&&(T.head==E||T.head==C.mapping.map(O)-1)||Ko.ie&&T.empty&&T.head==E)&&C.setSelection(T)}x&&C.ensureMarks(x),e.dispatch(C.scrollIntoView())}}}(e,t,n,r,o)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Na[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||Pa(e,t)||!e.editable&&t.type in Da||n(e,t)})};for(var n in Na)t(n);Ko.safari&&e.dom.addEventListener("input",(function(){return null})),La(e)}(this),this.pluginViews=[],this.updatePluginViews()},ks={props:{configurable:!0},root:{configurable:!0}};function Cs(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[ns.node(0,e.state.doc.content.size,t)]}function xs(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:ns.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Ss(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Ms(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function Es(e){var t=e.getSelection(),n=t.focusOffset,r=t.focusNode;return r&&1==r.nodeType?[r,n,r.childNodes[n-1],r.childNodes[n]]:null}if(ks.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},ws.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&La(this),this._props=e,this.updateStateInner(e.state,!0)},ws.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},ws.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},ws.prototype.updateStateInner=function(e,t){var n=this,r=this.state,o=!1;if(this.state=e,t){var i=Ms(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(i,this.nodeViews)&&(this.nodeViews=i,o=!0),La(this)}this.editable=Ss(this),xs(this);var a,s,l,c,p,u,d,f,h,m,v=gs(this),g=Cs(this),y=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",b=o||!this.docView.matchesNode(e.doc,g,v),w=b||!e.selection.eq(r.selection),k="preserve"==y&&w&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=e.root.elementFromPoint(i,a);if(s!=e.dom&&e.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=o-20){t=s,n=l.top;break}}}return{refDOM:t,refTop:n,stack:di(e.dom)}}(this);if(w){this.domObserver.stop();var C=b&&(Ko.ie||Ko.chrome)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(c=r.selection,p=e.selection,u=Math.min(c.$anchor.sharedDepth(c.head),p.$anchor.sharedDepth(p.head)),c.$anchor.start(u)!=p.$anchor.start(u));if(b){var x=Ko.chrome&&Es(this.root);!o&&this.docView.update(e.doc,g,v,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Ri(e.doc,g,v,this.dom,this)),x&&function(e,t){var n=Es(t);if(!n||3==n[0].nodeType)return!1;for(var r=0;r<e.length;r++)if(n[r]!=e[r])return!0;return!1}(x,this.root)&&(C=!0)}C||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(a=this,s=a.docView.domFromPos(a.state.selection.anchor),l=a.root.getSelection(),ti(s.node,s.offset,l.anchorNode,l.anchorOffset)))?aa(this,C):(ua(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==y)this.dom.scrollTop=0;else if("to selection"==y){var S=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof Br?ui(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),S):ui(this,this.coordsAtPos(e.selection.head),S))}else k&&(f=(d=k).refDOM,h=d.refTop,fi(d.stack,0==(m=f?f.getBoundingClientRect().top:0)?0:m-h))},ws.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},ws.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},ws.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var a=o[i].props[e];if(null!=a&&(n=t?t(a):a))return n}},ws.prototype.hasFocus=function(){return this.root.activeElement==this.dom},ws.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(hi)return e.focus(hi);var t=di(e);e.focus(null==hi?{get preventScroll(){return hi={preventScroll:!0},!0}}:void 0),hi||(hi=!1,fi(t,0))}(this.dom),aa(this),this.domObserver.start()},ks.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},ws.prototype.posAtCoords=function(e){return vi(this,e)},ws.prototype.coordsAtPos=function(e){return yi(this,e)},ws.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},ws.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},ws.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},ws.prototype.endOfTextblock=function(e,t){return function(e,t,n){return Ci==t&&xi==n?Si:(Ci=t,xi=n,Si="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return wi(e,t,(function(){for(var t=e.docView.domFromPos(o.pos).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode}for(var i=yi(e,o.pos),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=ei(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<s.length;l++){var c=s[l];if(c.bottom>c.top&&("up"==n?c.bottom<i.top+1:c.top>i.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=getSelection();return ki.test(r.parent.textContent)&&s.modify?wi(e,t,(function(){var t=s.getRangeAt(0),o=s.focusNode,i=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var l=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||o==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),l})):"left"==n||"backward"==n?i:a}(e,t,n))}(this,t||this.state,e)},ws.prototype.destroy=function(){this.docView&&(function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],gs(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},ws.prototype.dispatchEvent=function(e){return function(e,t){Pa(e,t)||!Na[t.type]||!e.editable&&t.type in Da||Na[t.type](e,t)}(this,e)},ws.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(ws.prototype,ks),"undefined"!=typeof WeakMap){var Os=new WeakMap;ys=function(e){return Os.get(e)},bs=function(e,t){return Os.set(e,t),t}}else{var As=[],Ts=0;ys=function(e){for(var t=0;t<As.length;t+=2)if(As[t]==e)return As[t+1]},bs=function(e,t){return 10==Ts&&(Ts=0),As[Ts++]=e,As[Ts++]=t}}var Ns=function(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r},Ds=function(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r};function Rs(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function Ls(e,t){var n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var a in t){var s=t[a].getFromDOM,l=s&&s(e);null!=l&&(i[a]=l)}return i}function Ps(e,t){var n={};for(var r in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function Fs(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return Ls(e,t)}}],toDOM:function(e){return["td",Ps(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return Ls(e,t)}}],toDOM:function(e){return["th",Ps(e,t),0]}}}}function zs(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}Ds.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var r=t%this.width,o=t/this.width|0,i=r+1,a=o+1,s=1;i<this.width&&this.map[t+s]==n;s++)i++;for(var l=1;a<this.height&&this.map[t+this.width*l]==n;l++)a++;return new Ns(r,o,i,a)}}throw new RangeError("No cell with offset "+e+" found")},Ds.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},Ds.prototype.nextCell=function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,a=r.top,s=r.bottom;return"horiz"==t?(n<0?0==o:i==this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0==a:s==this.height)?null:this.map[o+this.width*(n<0?a-1:s)]},Ds.prototype.rectBetween=function(e,t){var n=this.findCell(e),r=n.left,o=n.right,i=n.top,a=n.bottom,s=this.findCell(t),l=s.left,c=s.right,p=s.top,u=s.bottom;return new Ns(Math.min(r,l),Math.min(i,p),Math.max(o,c),Math.max(a,u))},Ds.prototype.cellsInRect=function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var o=e.left;o<e.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t},Ds.prototype.positionAt=function(e,t,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==e){for(var a=t+e*this.width,s=(e+1)*this.width;a<s&&this.map[a]<o;)a++;return a==s?i-1:this.map[a]}o=i}},Ds.get=function(e){return ys(e)||bs(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var s=e.child(a),l=0;l<s.childCount;l++){var c=s.child(l);a+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}for(var p=0;p<o.childCount;p++){var u=o.child(p);i+=u.attrs.colspan,u.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[],o=0,i=null,a=[],s=0,l=t*n;s<l;s++)r[s]=0;for(var c=0,p=0;c<n;c++){var u=e.child(c);p++;for(var d=0;;d++){for(;o<r.length&&0!=r[o];)o++;if(d==u.childCount)break;for(var f=u.child(d),h=f.attrs,m=h.colspan,v=h.rowspan,g=h.colwidth,y=0;y<v;y++){if(y+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:p,n:v-y});break}for(var b=o+y*t,w=0;w<m;w++){0==r[b+w]?r[b+w]=p:(i||(i=[])).push({type:"collision",row:c,pos:p,n:m-w});var k=g&&g[w];if(k){var C=(b+w)%t*2,x=a[C];null==x||x!=k&&1==a[C+1]?(a[C]=k,a[C+1]=1):x==k&&a[C+1]++}}}o+=m,p+=f.nodeSize}for(var S=(c+1)*t,M=0;o<S;)0==r[o++]&&M++;M&&(i||(i=[])).push({type:"missing",row:c,n:M}),p++}for(var E=new Ds(t,n,r,i),O=!1,A=0;!O&&A<a.length;A+=2)null!=a[A]&&a[A+1]<n&&(O=!0);return O&&function(e,t,n){e.problems||(e.problems=[]);for(var r=0,o={};r<e.map.length;r++){var i=e.map[r];if(!o[i]){o[i]=!0;for(var a=n.nodeAt(i),s=null,l=0;l<a.attrs.colspan;l++){var c=t[2*((r+l)%e.width)];null==c||a.attrs.colwidth&&a.attrs.colwidth[l]==c||((s||(s=Rs(a.attrs)))[l]=c)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}}(E,a,e),E}(e))};var Is=new no("selectingCells");function $s(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function Bs(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function _s(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:$s(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(var o=e.nodeBefore,i=e.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(i-o.nodeSize)}}(t.$head)}function js(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function Ws(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function Vs(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function qs(e,t,n){var r=e.start(-1),o=Ds.get(e.node(-1)).nextCell(e.pos-r,t,n);return null==o?null:e.node(0).resolve(r+o)}function Hs(e,t,n){var r={};for(var o in e)r[o]=e[o];return r[t]=n,r}function Ks(e,t,n){void 0===n&&(n=1);var r=Hs(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((function(e){return e>0}))||(r.colwidth=null)),r}function Js(e,t,n){void 0===n&&(n=1);var r=Hs(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}function Us(e,t,n){for(var r=zs(t.type.schema).header_cell,o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0}var Xs=function(e){function t(t,n){void 0===n&&(n=t);var r=t.node(-1),o=Ds.get(r),i=t.start(-1),a=o.rectBetween(t.pos-i,n.pos-i),s=t.node(0),l=o.cellsInRect(a).filter((function(e){return e!=n.pos-i}));l.unshift(n.pos-i);var c=l.map((function(e){var t=r.nodeAt(e),n=e+i+1;return new zr(s.resolve(n),s.resolve(n+t.content.size))}));e.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(js(r)&&js(o)&&Vs(r,o)){var i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?t.rowSelection(r,o):i&&this.isColSelection()?t.colSelection(r,o):new t(r,o)}return Ir.between(r,o)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=Ds.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],a=r.top;a<r.bottom;a++){for(var s=[],l=a*t.width+r.left,c=r.left;c<r.right;c++,l++){var p=t.map[l];if(!o[p]){o[p]=!0;var u=t.findCell(p),d=e.nodeAt(p),f=r.left-u.left,h=u.right-r.right;if(f>0||h>0){var m=d.attrs;f>0&&(m=Ks(m,0,f)),h>0&&(m=Ks(m,m.colspan-h,h)),d=u.left<r.left?d.type.createAndFill(m):d.type.create(m,d.content)}if(u.top<r.top||u.bottom>r.bottom){var v=Hs(d.attrs,"rowspan",Math.min(u.bottom,r.bottom)-Math.max(u.top,r.top));d=u.top<r.top?d.type.createAndFill(v):d.type.create(v,d.content)}s.push(d)}}i.push(e.child(a).copy(Bt.from(s)))}var g=this.isColSelection()&&this.isRowSelection()?e:i;return new Kt(Bt.from(g),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=Kt.empty);for(var r=t.steps.length,o=this.ranges,i=0;i<o.length;i++){var a=o[i],s=a.$from,l=a.$to,c=t.mapping.slice(r);t.replace(c.map(s.pos),c.map(l.pos),i?Kt.empty:n)}var p=e.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);p&&t.setSelection(p)},t.prototype.replaceWith=function(e,t){this.replace(e,new Kt(Bt.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=Ds.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var r=Ds.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.top<=a.top?(i.top>0&&(e=s.resolve(o+r.map[i.left])),a.bottom<r.height&&(n=s.resolve(o+r.map[r.width*(r.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(o+r.map[a.left])),i.bottom<r.height&&(e=s.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=Ds.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var r=Ds.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.left<=a.left?(i.left>0&&(e=s.resolve(o+r.map[i.top*r.width])),a.right<r.width&&(n=s.resolve(o+r.map[r.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(o+r.map[a.top*r.width])),i.right<r.width&&(e=s.resolve(o+r.map[r.width*(i.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,r){return void 0===r&&(r=n),new t(e.resolve(n),e.resolve(r))},t.prototype.getBookmark=function(){return new Zs(this.$anchorCell.pos,this.$headCell.pos)},t}(Pr);Xs.prototype.visible=!1,Pr.jsonID("cell",Xs);var Zs=function(e,t){this.anchor=e,this.head=t};function Gs(e){if(!(e.selection instanceof Xs))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(ns.node(n,n+e.nodeSize,{class:"selectedCell"}))})),ss.create(e.doc,t)}function Ys(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,r=e.openEnd;1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole);)n--,r--,t=t.firstChild.content;var o=t.firstChild,i=o.type.spec.tableRole,a=o.type.schema,s=[];if("row"==i)for(var l=0;l<t.childCount;l++){var c=t.child(l).content,p=l?0:Math.max(0,n-1),u=l<t.childCount-1?0:Math.max(0,r-1);(p||u)&&(c=Qs(zs(a).row,new Kt(c,p,u)).content),s.push(c)}else{if("cell"!=i&&"header_cell"!=i)return null;s.push(n||r?Qs(zs(a).row,new Kt(t,n,r)).content:t)}return function(e,t){for(var n=[],r=0;r<t.length;r++)for(var o=t[r],i=o.childCount-1;i>=0;i--)for(var a=o.child(i).attrs,s=a.rowspan,l=a.colspan,c=r;c<r+s;c++)n[c]=(n[c]||0)+l;for(var p=0,u=0;u<n.length;u++)p=Math.max(p,n[u]);for(var d=0;d<n.length;d++)if(d>=t.length&&t.push(Bt.empty),n[d]<p){for(var f=zs(e).cell.createAndFill(),h=[],m=n[d];m<p;m++)h.push(f);t[d]=t[d].append(Bt.from(h))}return{height:t.length,width:p,rows:t}}(a,s)}function Qs(e,t){var n=e.createAndFill();return new nr(n).replace(0,n.content.size,t).doc}function el(e,t,n){var r=e.width,o=e.height,i=e.rows;if(r!=t){for(var a=[],s=[],l=0;l<i.length;l++){for(var c=i[l],p=[],u=a[l]||0,d=0;u<t;d++){var f=c.child(d%c.childCount);u+f.attrs.colspan>t&&(f=f.type.create(Ks(f.attrs,f.attrs.colspan,u+f.attrs.colspan-t),f.content)),p.push(f),u+=f.attrs.colspan;for(var h=1;h<f.attrs.rowspan;h++)a[l+h]=(a[l+h]||0)+f.attrs.colspan}s.push(Bt.from(p))}i=s,r=t}if(o!=n){for(var m=[],v=0,g=0;v<n;v++,g++){for(var y=[],b=i[g%o],w=0;w<b.childCount;w++){var k=b.child(w);v+k.attrs.rowspan>n&&(k=k.type.create(Hs(k.attrs,"rowspan",n-k.attrs.rowspan),k.content)),y.push(k)}m.push(Bt.from(y))}i=m,o=n}return{width:r,height:o,rows:i}}function tl(e,t,n,r,o,i,a,s){if(0==a||a==t.height)return!1;for(var l=!1,c=o;c<i;c++){var p=a*t.width+c,u=t.map[p];if(t.map[p-t.width]==u){l=!0;var d=n.nodeAt(u),f=t.findCell(u),h=f.top,m=f.left;e.setNodeMarkup(e.mapping.slice(s).map(u+r),null,Hs(d.attrs,"rowspan",a-h)),e.insert(e.mapping.slice(s).map(t.positionAt(a,m,n)),d.type.createAndFill(Hs(d.attrs,"rowspan",h+d.attrs.rowspan-a))),c+=d.attrs.colspan-1}}return l}function nl(e,t,n,r,o,i,a,s){if(0==a||a==t.width)return!1;for(var l=!1,c=o;c<i;c++){var p=c*t.width+a,u=t.map[p];if(t.map[p-1]==u){l=!0;var d=n.nodeAt(u),f=t.colCount(u),h=e.mapping.slice(s).map(u+r);e.setNodeMarkup(h,null,Ks(d.attrs,a-f,d.attrs.colspan-(a-f))),e.insert(h+d.nodeSize,d.type.createAndFill(Ks(d.attrs,0,a-f))),c+=d.attrs.rowspan-1}}return l}function rl(e,t,n,r,o){var i=n?e.doc.nodeAt(n-1):e.doc,a=Ds.get(i),s=r.top,l=r.left,c=l+o.width,p=s+o.height,u=e.tr,d=0;function f(){i=n?u.doc.nodeAt(n-1):u.doc,a=Ds.get(i),d=u.mapping.maps.length}(function(e,t,n,r,o,i,a){var s,l,c=zs(e.doc.type.schema);if(o>t.width)for(var p=0,u=0;p<t.height;p++){var d=n.child(p);u+=d.nodeSize;var f,h=[];f=null==d.lastChild||d.lastChild.type==c.cell?s||(s=c.cell.createAndFill()):l||(l=c.header_cell.createAndFill());for(var m=t.width;m<o;m++)h.push(f);e.insert(e.mapping.slice(a).map(u-1+r),h)}if(i>t.height){for(var v=[],g=0,y=(t.height-1)*t.width;g<Math.max(t.width,o);g++){var b=!(g>=t.width)&&n.nodeAt(t.map[y+g]).type==c.header_cell;v.push(b?l||(l=c.header_cell.createAndFill()):s||(s=c.cell.createAndFill()))}for(var w=c.row.create(null,Bt.from(v)),k=[],C=t.height;C<i;C++)k.push(w);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),k)}return!(!s&&!l)})(u,a,i,n,c,p,d)&&f(),tl(u,a,i,n,l,c,s,d)&&f(),tl(u,a,i,n,l,c,p,d)&&f(),nl(u,a,i,n,s,p,l,d)&&f(),nl(u,a,i,n,s,p,c,d)&&f();for(var h=s;h<p;h++){var m=a.positionAt(h,l,i),v=a.positionAt(h,c,i);u.replace(u.mapping.slice(d).map(m+n),u.mapping.slice(d).map(v+n),new Kt(o.rows[h-s],0,0))}f(),u.setSelection(new Xs(u.doc.resolve(n+a.positionAt(s,l,i)),u.doc.resolve(n+a.positionAt(p-1,c-1,i)))),t(u)}Zs.prototype.map=function(e){return new Zs(e.map(this.anchor),e.map(this.head))},Zs.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&Vs(t,n)?new Xs(t,n):Pr.near(n,1)};var ol,il,al=(ol={ArrowLeft:ll("horiz",-1),ArrowRight:ll("horiz",1),ArrowUp:ll("vert",-1),ArrowDown:ll("vert",1),"Shift-ArrowLeft":cl("horiz",-1),"Shift-ArrowRight":cl("horiz",1),"Shift-ArrowUp":cl("vert",-1),"Shift-ArrowDown":cl("vert",1),Backspace:pl,"Mod-Backspace":pl,Delete:pl,"Mod-Delete":pl},il=function(e){var t=Object.create(null);for(var n in e)t[qo(n)]=e[n];return t}(ol),function(e,t){var n,r=jo(t),o=1==r.length&&" "!=r,i=il[Ho(r,t,!o)];if(i&&i(e.state,e.dispatch,e))return!0;if(o&&(t.shiftKey||t.altKey||t.metaKey||r.charCodeAt(0)>127)&&(n=Do[t.keyCode])&&n!=r){var a=il[Ho(n,t,!0)];if(a&&a(e.state,e.dispatch,e))return!0}else if(o&&t.shiftKey){var s=il[Ho(r,t,!0)];if(s&&s(e.state,e.dispatch,e))return!0}return!1});function sl(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function ll(e,t){return function(n,r,o){var i=n.selection;if(i instanceof Xs)return sl(n,r,Pr.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;var a=hl(o,e,t);if(null==a)return!1;if("horiz"==e)return sl(n,r,Pr.near(n.doc.resolve(i.head+t),t));var s,l=n.doc.resolve(a),c=qs(l,e,t);return s=c?Pr.near(c,1):t<0?Pr.near(n.doc.resolve(l.before(-1)),-1):Pr.near(n.doc.resolve(l.after(-1)),1),sl(n,r,s)}}function cl(e,t){return function(n,r,o){var i=n.selection;if(!(i instanceof Xs)){var a=hl(o,e,t);if(null==a)return!1;i=new Xs(n.doc.resolve(a))}var s=qs(i.$headCell,e,t);return!!s&&sl(n,r,new Xs(i.$anchorCell,s))}}function pl(e,t){var n=e.selection;if(!(n instanceof Xs))return!1;if(t){var r=e.tr,o=zs(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new Kt(o,0,0))})),r.docChanged&&t(r)}return!0}function ul(e,t){var n=$s(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new Xs(n))),!0)}function dl(e,t,n){if(!Bs(e.state))return!1;var r=Ys(n),o=e.state.selection;if(o instanceof Xs){r||(r={width:1,height:1,rows:[Bt.from(Qs(zs(e.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),s=Ds.get(i).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=el(r,s.right-s.left,s.bottom-s.top),rl(e.state,e.dispatch,a,s,r),!0}if(r){var l=_s(e.state),c=l.start(-1);return rl(e.state,e.dispatch,c,Ds.get(l.node(-1)).findCell(l.pos-c),r),!0}return!1}function fl(e,t){if(!t.ctrlKey&&!t.metaKey){var n,r=ml(e,t.target);if(t.shiftKey&&e.state.selection instanceof Xs)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(n=$s(e.state.selection.$anchor))&&vl(e,t).pos!=n.pos)o(n,t),t.preventDefault();else if(!r)return;e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",a)}function o(t,n){var r=vl(e,n),o=null==Is.getState(e.state);if(!r||!Vs(t,r)){if(!o)return;r=t}var i=new Xs(t,r);if(o||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);o&&a.setMeta(Is,t.pos),e.dispatch(a)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",a),null!=Is.getState(e.state)&&e.dispatch(e.state.tr.setMeta(Is,-1))}function a(n){var a,s=Is.getState(e.state);if(null!=s)a=e.state.doc.resolve(s);else if(ml(e,n.target)!=r&&!(a=vl(e,t)))return i();a&&o(a,n)}}function hl(e,t,n){if(!(e.state.selection instanceof Ir))return null;for(var r=e.state.selection.$head,o=r.depth-1;o>=0;o--){var i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){var a=r.before(o),s="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?a:null}}return null}function ml(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function vl(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?$s(e.state.doc.resolve(n.pos)):null}var gl=new no("fix-tables");function yl(e,t){var n,r=function(t,r){"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){var o=Ds.get(t);if(!o.problems)return r;r||(r=e.tr);for(var i,a,s=[],l=0;l<o.height;l++)s.push(0);for(var c=0;c<o.problems.length;c++){var p=o.problems[c];if("collision"==p.type){for(var u=t.nodeAt(p.pos),d=0;d<u.attrs.rowspan;d++)s[p.row+d]+=p.n;r.setNodeMarkup(r.mapping.map(n+1+p.pos),null,Ks(u.attrs,u.attrs.colspan-p.n,p.n))}else if("missing"==p.type)s[p.row]+=p.n;else if("overlong_rowspan"==p.type){var f=t.nodeAt(p.pos);r.setNodeMarkup(r.mapping.map(n+1+p.pos),null,Hs(f.attrs,"rowspan",f.attrs.rowspan-p.n))}else if("colwidth mismatch"==p.type){var h=t.nodeAt(p.pos);r.setNodeMarkup(r.mapping.map(n+1+p.pos),null,Hs(h.attrs,"colwidth",p.colwidth))}}for(var m=0;m<s.length;m++)s[m]&&(null==i&&(i=m),a=m);for(var v=0,g=n+1;v<o.height;v++){var y=t.child(v),b=g+y.nodeSize,w=s[v];if(w>0){var k="cell";y.firstChild&&(k=y.firstChild.type.spec.tableRole);for(var C=[],x=0;x<w;x++)C.push(zs(e.schema)[k].createAndFill());var S=0!=v&&i!=v-1||a!=v?b-1:g+1;r.insert(r.mapping.map(S),C)}g=b}return r.setMeta(gl,{fixTables:!0})}(e,t,r,n))};return t?t.doc!=e.doc&&function e(t,n,r,o){var i=t.childCount,a=n.childCount;e:for(var s=0,l=0;s<a;s++){for(var c=n.child(s),p=l,u=Math.min(i,s+3);p<u;p++)if(t.child(p)==c){l=p+1,r+=c.nodeSize;continue e}o(c,r),l<i&&t.child(l).sameMarkup(c)?e(t.child(l),c,r+1,o):c.nodesBetween(0,c.content.size,o,r+1),r+=c.nodeSize}}(t.doc,e.doc,0,r):e.doc.descendants(r),n}function bl(e){var t,n=e.selection,r=_s(e),o=r.node(-1),i=r.start(-1),a=Ds.get(o);return(t=n instanceof Xs?a.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):a.findCell(r.pos-i)).tableStart=i,t.map=a,t.table=o,t}function wl(e,t,n){var r=t.map,o=t.tableStart,i=t.table,a=n>0?-1:0;Us(r,i,n+a)&&(a=0==n||n==r.width?null:0);for(var s=0;s<r.height;s++){var l=s*r.width+n;if(n>0&&n<r.width&&r.map[l-1]==r.map[l]){var c=r.map[l],p=i.nodeAt(c);e.setNodeMarkup(e.mapping.map(o+c),null,Js(p.attrs,n-r.colCount(c))),s+=p.attrs.rowspan-1}else{var u=null==a?zs(i.type.schema).cell:i.nodeAt(r.map[l+a]).type,d=r.positionAt(s,n,i);e.insert(e.mapping.map(o+d),u.createAndFill())}}return e}function kl(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=e.mapping.maps.length,s=0;s<r.height;){var l=s*r.width+n,c=r.map[l],p=o.nodeAt(c);if(n>0&&r.map[l-1]==c||n<r.width-1&&r.map[l+1]==c)e.setNodeMarkup(e.mapping.slice(a).map(i+c),null,Ks(p.attrs,n-r.colCount(c)));else{var u=e.mapping.slice(a).map(i+c);e.delete(u,u+p.nodeSize)}s+=p.attrs.rowspan}}function Cl(e,t,n){for(var r=zs(t.type.schema).header_cell,o=0;o<e.width;o++)if(t.nodeAt(e.map[o+n*e.width]).type!=r)return!1;return!0}function xl(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,a=o,s=0;s<n;s++)a+=i.child(s).nodeSize;var l=[],c=n>0?-1:0;Cl(r,i,n+c)&&(c=0==n||n==r.height?null:0);for(var p=0,u=r.width*n;p<r.width;p++,u++)if(n>0&&n<r.height&&r.map[u]==r.map[u-r.width]){var d=r.map[u],f=i.nodeAt(d).attrs;e.setNodeMarkup(o+d,null,Hs(f,"rowspan",f.rowspan+1)),p+=f.colspan-1}else{var h=null==c?zs(i.type.schema).cell:i.nodeAt(r.map[u+c*r.width]).type;l.push(h.createAndFill())}return e.insert(a,zs(i.type.schema).row.create(null,l)),e}function Sl(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=0,s=0;s<n;s++)a+=o.child(s).nodeSize;var l=a+o.child(n).nodeSize,c=e.mapping.maps.length;e.delete(a+i,l+i);for(var p=0,u=n*r.width;p<r.width;p++,u++){var d=r.map[u];if(n>0&&d==r.map[u-r.width]){var f=o.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(c).map(d+i),null,Hs(f,"rowspan",f.rowspan-1)),p+=f.colspan-1}else if(n<r.width&&d==r.map[u+r.width]){var h=o.nodeAt(d),m=h.type.create(Hs(h.attrs,"rowspan",h.attrs.rowspan-1),h.content),v=r.positionAt(n+1,p,o);e.insert(e.mapping.slice(c).map(i+v),m),p+=h.attrs.colspan-1}}}function Ml(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function El(e){return function(t,n){var r,o,i=t.selection;if(i instanceof Xs){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(!(r=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from)))return!1;o=$s(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var a=r.attrs,s=[],l=a.colwidth;a.rowspan>1&&(a=Hs(a,"rowspan",1)),a.colspan>1&&(a=Hs(a,"colspan",1));for(var c,p=bl(t),u=t.tr,d=0;d<p.right-p.left;d++)s.push(l?Hs(a,"colwidth",l&&l[d]?[l[d]]:null):a);for(var f=p.top;f<p.bottom;f++){var h=p.map.positionAt(f,p.left,p.table);f==p.top&&(h+=r.nodeSize);for(var m=p.left,v=0;m<p.right;m++,v++)m==p.left&&f==p.top||u.insert(c=u.mapping.map(h+p.tableStart,1),e({node:r,row:f,col:m}).createAndFill(s[v]))}u.setNodeMarkup(o,e({node:r,row:p.top,col:p.left}),s[0]),i instanceof Xs&&u.setSelection(new Xs(u.doc.resolve(i.$anchorCell.pos),c&&u.doc.resolve(c))),n(u)}return!0}}function Ol(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),o=0;o<r.length;o++){var i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function Al(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!Bs(t))return!1;if(n){for(var r=zs(t.schema),o=bl(t),i=t.tr,a=o.map.cellsInRect("column"==e?new Ns(o.left,0,o.right,o.map.height):"row"==e?new Ns(0,o.top,o.map.width,o.bottom):o),s=a.map((function(e){return o.table.nodeAt(e)})),l=0;l<a.length;l++)s[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[l],r.cell,s[l].attrs);if(0==i.steps.length)for(var c=0;c<a.length;c++)i.setNodeMarkup(o.tableStart+a[c],r.header_cell,s[c].attrs);n(i)}return!0}}(e):function(t,n){if(!Bs(t))return!1;if(n){var r=zs(t.schema),o=bl(t),i=t.tr,a=Ol("row",o,r),s=Ol("column",o,r),l=("column"===e?a:"row"===e&&s)?1:0,c="column"==e?new Ns(0,l,1,o.map.height):"row"==e?new Ns(l,0,o.map.width,1):o,p="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(c).forEach((function(e){var t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,p,n.attrs)})),n(i)}return!0}}var Tl=Al("row",{useDeprecatedLogic:!0}),Nl=Al("column",{useDeprecatedLogic:!0}),Dl=Al("cell",{useDeprecatedLogic:!0}),Rl=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ll(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function Ll(e,t,n,r,o,i){for(var a=0,s=!0,l=t.firstChild,c=e.firstChild,p=0,u=0;p<c.childCount;p++)for(var d=c.child(p).attrs,f=d.colspan,h=d.colwidth,m=0;m<f;m++,u++){var v=o==u?i:h&&h[m],g=v?v+"px":"";a+=v||r,v||(s=!1),l?(l.style.width!=g&&(l.style.width=g),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=g}for(;l;){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}Rl.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,Ll(e,this.colgroup,this.table,this.cellMinWidth),!0)},Rl.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var Pl=new no("tableColumnResizing"),Fl=function(e,t){this.activeHandle=e,this.dragging=t};function zl(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY}).pos,o=$s(e.state.doc.resolve(r));if(!o)return-1;if("right"==n)return o.pos;var i=Ds.get(o.node(-1)),a=o.start(-1),s=i.map.indexOf(o.pos-a);return s%i.width==0?-1:a+i.map[s-1]}function Il(e,t,n){var r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function $l(e,t){e.dispatch(e.state.tr.setMeta(Pl,{setHandle:t}))}function Bl(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}Fl.prototype.apply=function(e){var t=this,n=e.getMeta(Pl);if(n&&null!=n.setHandle)return new Fl(n.setHandle,null);if(n&&void 0!==n.setDragging)return new Fl(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var r=e.mapping.map(t.activeHandle,-1);js(e.doc.resolve(r))||(r=null),t=new Fl(r,t.dragging)}return t};var _l=Object.freeze({__proto__:null,CellSelection:Xs,TableMap:Ds,TableView:Rl,__clipCells:el,__insertCells:rl,__pastedCells:Ys,addColSpan:Js,addColumn:wl,addColumnAfter:function(e,t){if(!Bs(e))return!1;if(t){var n=bl(e);t(wl(e.tr,n,n.right))}return!0},addColumnBefore:function(e,t){if(!Bs(e))return!1;if(t){var n=bl(e);t(wl(e.tr,n,n.left))}return!0},addRow:xl,addRowAfter:function(e,t){if(!Bs(e))return!1;if(t){var n=bl(e);t(xl(e.tr,n,n.bottom))}return!0},addRowBefore:function(e,t){if(!Bs(e))return!1;if(t){var n=bl(e);t(xl(e.tr,n,n.top))}return!0},cellAround:$s,colCount:function(e){return Ds.get(e.node(-1)).colCount(e.pos-e.start(-1))},columnIsHeader:Us,columnResizing:function(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var r=e.View;void 0===r&&(r=Rl);var o=e.lastColumnResizable;return void 0===o&&(o=!0),new Qr({key:Pl,state:{init:function(e,t){return this.spec.props.nodeViews[zs(t.schema).table.name]=function(e,t){return new r(e,n,t)},new Fl(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){return Pl.getState(e).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,n){!function(e,t,n,r,o){var i=Pl.getState(e.state);if(!i.dragging){var a=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),s=-1;if(a){var l=a.getBoundingClientRect(),c=l.left,p=l.right;t.clientX-c<=n?s=zl(e,t,"left"):p-t.clientX<=n&&(s=zl(e,t,"right"))}if(s!=i.activeHandle){if(!o&&-1!==s){var u=e.state.doc.resolve(s),d=u.node(-1),f=Ds.get(d),h=u.start(-1);if(f.colCount(u.pos-h)+u.nodeAfter.attrs.colspan-1==f.width-1)return}$l(e,s)}}}(e,n,t,0,o)},mouseleave:function(e){!function(e){var t=Pl.getState(e.state);t.activeHandle>-1&&!t.dragging&&$l(e,-1)}(e)},mousedown:function(e,t){!function(e,t,n){var r=Pl.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;var o=e.state.doc.nodeAt(r.activeHandle),i=function(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t),s=a.node.childNodes[a.offset].offsetWidth,l=r;if(o)for(var c=0;c<r;c++)o[c]&&(s-=o[c],l--);return s/l}(e,r.activeHandle,o.attrs);function a(t){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var r=Pl.getState(e.state);r.dragging&&(function(e,t,n){for(var r=e.state.doc.resolve(t),o=r.node(-1),i=Ds.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr,c=0;c<i.height;c++){var p=c*i.width+s;if(!c||i.map[p]!=i.map[p-i.width]){var u=i.map[p],d=o.nodeAt(u).attrs,f=1==d.colspan?0:s-i.colCount(u);if(!d.colwidth||d.colwidth[f]!=n){var h=d.colwidth?d.colwidth.slice():Bl(d.colspan);h[f]=n,l.setNodeMarkup(a+u,null,Hs(d,"colwidth",h))}}}l.docChanged&&e.dispatch(l)}(e,r.activeHandle,Il(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(Pl,{setDragging:null})))}function s(t){if(!t.which)return a(t);var r=Pl.getState(e.state),o=Il(r.dragging,t,n);!function(e,t,n,r){for(var o=e.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),s=Ds.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,l=e.domAtPos(o.start(-1)).node;"TABLE"!=l.nodeName;)l=l.parentNode;Ll(i,l.firstChild,l,r,s,n)}(e,r.activeHandle,o,n)}e.dispatch(e.state.tr.setMeta(Pl,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),t.preventDefault()}(e,t,n)}},decorations:function(e){var t=Pl.getState(e);if(t.activeHandle>-1)return function(e,t){for(var n=[],r=e.doc.resolve(t),o=r.node(-1),i=Ds.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan,l=0;l<i.height;l++){var c=s+l*i.width-1;if(!(s!=i.width&&i.map[c]==i.map[c+1]||0!=l&&i.map[c-1]==i.map[c-1-i.width])){var p=i.map[c],u=a+p+o.nodeAt(p).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",n.push(ns.widget(u,d))}}return ss.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}})},columnResizingPluginKey:Pl,deleteColumn:function(e,t){if(!Bs(e))return!1;if(t){var n=bl(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;kl(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Ds.get(n.table);t(r)}return!0},deleteRow:function(e,t){if(!Bs(e))return!1;if(t){var n=bl(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;Sl(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Ds.get(n.table);t(r)}return!0},deleteTable:function(e,t){for(var n=e.selection.$anchor,r=n.depth;r>0;r--)if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1},findCell:function(e){return Ds.get(e.node(-1)).findCell(e.pos-e.start(-1))},fixTables:yl,fixTablesKey:gl,goToNextCell:function(e){return function(t,n){if(!Bs(t))return!1;var r=function(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,o=e.before();r>=0;r--){var i=e.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var a=e.node(-1),s=e.indexAfter(-1),l=e.after();s<a.childCount;s++){var c=a.child(s);if(c.childCount)return l+1;l+=c.nodeSize}}}(_s(t),e);if(null!=r){if(n){var o=t.doc.resolve(r);n(t.tr.setSelection(Ir.between(o,Ws(o))).scrollIntoView())}return!0}}},handlePaste:dl,inSameTable:Vs,isInTable:Bs,mergeCells:function(e,t){var n=e.selection;if(!(n instanceof Xs)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=bl(e),o=r.map;if(function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,s=(t.bottom-1)*n+t.left,l=i+(t.right-t.left-1),c=t.top;c<t.bottom;c++){if(t.left>0&&o[a]==o[a-1]||t.right<n&&o[l]==o[l+1])return!0;a+=n,l+=n}for(var p=t.left;p<t.right;p++){if(t.top>0&&o[i]==o[i-n]||t.bottom<r&&o[s]==o[s+n])return!0;i++,s++}return!1}(o,r))return!1;if(t){for(var i,a,s=e.tr,l={},c=Bt.empty,p=r.top;p<r.bottom;p++)for(var u=r.left;u<r.right;u++){var d=o.map[p*o.width+u],f=r.table.nodeAt(d);if(!l[d])if(l[d]=!0,null==i)i=d,a=f;else{Ml(f)||(c=c.append(f.content));var h=s.mapping.map(d+r.tableStart);s.delete(h,h+f.nodeSize)}}if(s.setNodeMarkup(i+r.tableStart,null,Hs(Js(a.attrs,a.attrs.colspan,r.right-r.left-a.attrs.colspan),"rowspan",r.bottom-r.top)),c.size){var m=i+1+a.content.size,v=Ml(a)?i+1:m;s.replaceWith(v+r.tableStart,m+r.tableStart,c)}s.setSelection(new Xs(s.doc.resolve(i+r.tableStart))),t(s)}return!0},moveCellForward:Ws,nextCell:qs,pointsAtCell:js,removeColSpan:Ks,removeColumn:kl,removeRow:Sl,rowIsHeader:Cl,selectedRect:bl,selectionCell:_s,setAttr:Hs,setCellAttr:function(e,t){return function(n,r){if(!Bs(n))return!1;var o=_s(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){var i=n.tr;n.selection instanceof Xs?n.selection.forEachCell((function(n,r){n.attrs[e]!==t&&i.setNodeMarkup(r,null,Hs(n.attrs,e,t))})):i.setNodeMarkup(o.pos,null,Hs(o.nodeAfter.attrs,e,t)),r(i)}return!0}},splitCell:function(e,t){var n=zs(e.schema);return El((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)},splitCellWithType:El,tableEditing:function(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new Qr({key:Is,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(Is);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var r=e.mapping.mapResult(t),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:Gs,handleDOMEvents:{mousedown:fl},createSelectionBetween:function(e){if(null!=Is.getState(e.state))return e.state.selection},handleTripleClick:ul,handleKeyDown:al,handlePaste:dl},appendTransaction:function(e,n,r){return function(e,t,n){var r,o,i=(t||e).selection,a=(t||e).doc;if(i instanceof Br&&(o=i.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=Xs.create(a,i.from);else if("row"==o){var s=a.resolve(i.from+1);r=Xs.rowSelection(s,s)}else if(!n){var l=Ds.get(i.node),c=i.from+1,p=c+l.map[l.width*l.height-1];r=Xs.create(a,c+1,p)}}else i instanceof Ir&&function(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,o--);return r==o&&/row|table/.test(t.node(i).type.spec.tableRole)}(i)?r=Ir.create(a,i.from):i instanceof Ir&&function(e){for(var t,n,r=e.$from,o=e.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var s=o.depth;s>0;s--){var l=o.node(s);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return t!==n&&0===o.parentOffset}(i)&&(r=Ir.create(a,i.$from.start(),i.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}(r,yl(r,n),t)}})},tableEditingKey:Is,tableNodeTypes:zs,tableNodes:Fs,toggleHeader:Al,toggleHeaderCell:Dl,toggleHeaderColumn:Nl,toggleHeaderRow:Tl,updateColumnsOnResize:Ll}),jl=Fs({tableGroup:"block",cellContent:"block+"}),Wl=jl.table,Vl=jl.table_row,ql={blockquote:Co,bulletList:So,doc:{content:"block+",group:"block"},embed:{group:"block",attrs:{html:{default:""}},draggable:!0,parseDOM:[{tag:"div[data-nib-embed]",getAttrs:function(e){return{html:e.getAttribute("data-nib-embed")}}}],toDOM:function(e){return["div",{"data-nib-embed":e.attrs.html}]}},hardBreak:{group:"inline",inline:!0,selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return["h"+e.attrs.level,0]}},image:{group:"inline",inline:!0,attrs:{src:{default:""}},draggable:!0,parseDOM:[{tag:'img[src^="data:image/"]',ignore:!0},{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src")}}}],toDOM:function(e){return["img",{src:e.attrs.src}]}},advanceImage:{group:"block",attrs:{src:{default:""},height:{default:"auto"},alt:{default:""},alignment:{default:""},wrap:{default:""},link:{default:{href:""}}},draggable:!0,parseDOM:[{tag:'img[src^="data:image/"]',ignore:!0},{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),style:e.getAttribute("style"),alt:e.getAttribute("alt"),alignment:e.getAttribute("data-alignment"),wrap:e.getAttribute("data-wrap"),link:{href:e.getAttribute("data-href")}}}}],toDOM:function(e){var t=e.attrs,n=t.src,r=t.height,o=t.alt,i=t.alignment,a=t.wrap,s=t.link;return["img",{src:n,style:"height:".concat(r||"auto",";"),alt:o,"data-alignment":i,"data-wrap":a,"data-link":s}]}},listItem:Eo,orderedList:Ao,paragraph:No,table:Wl,table_cell:jl.table_cell,table_header:jl.table_header,table_row:Vl,text:{group:"inline"}},Hl={nodes:{heading:ql.heading}};function Kl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ul(e,t,n){return t&&Jl(e.prototype,t),n&&Jl(e,n),e}function Xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zl(){return(Zl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(n),!0).forEach((function(t){Xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ql(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tc(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function nc(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ec(e);if(t){var o=ec(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nc(this,n)}}var oc,ic=function(e){var t=e.info,n=e.children;if(!t)return n;var r=a.useState(!1),o=r[0],i=r[1],s=a.useState(),l=s[0],c=s[1],p=function(){clearTimeout(l),i(!1)};return a.createElement(ac,{onMouseEnter:function(){var e=setTimeout((function(){i(!0),setTimeout((function(){i(!1)}),4e3)}),500);c(e)},onMouseLeave:p,onClick:p},n,o&&a.createElement(sc,null,t))},ac=zt.div(oc||(oc=u(["\n  display: flex;\n  justify-content: center;\n  position: relative;\n  z-index: 1;\n"],["\n  display: flex;\n  justify-content: center;\n  position: relative;\n  z-index: 1;\n"]))),sc=zt.div({position:"absolute",top:"100%",borderRadius:1,fontSize:12,padding:"0 4px",whiteSpace:"nowrap"},(function(e){var t=e.theme;if(t){var n=t.constants;return{backgroundColor:n.color.text.primary,color:n.color.background.primary}}})),lc=function(e){var t=e.forwardRef,n=e.title,r=tc(e,["forwardRef","title"]);return s.createElement(ic,{info:n},s.createElement(cc,Zl({type:"button",ref:t},r)))};lc.propTypes={forwardRef:i.object,title:i.string},lc.defaultProps={forwardRef:void 0,title:void 0};var cc=Ft("button",{target:"e5b46pv0",label:"StyledButton"})("align-items:center;cursor:pointer;display:flex;justify-content:center;border:none;height:28px;width:28px;margin:0 2px;transition:all 0.2s ease;:focus{outline:none;transform:scale(1.15);}:hover:not(:disabled){transform:scale(1.15);}:active{transform:scale(0.95);}:disabled{opacity:0.5;}",(function(e){var t=e.theme,n=t.constants,r=t.button;return Yl({backgroundColor:n.color.background.primary,color:n.color.text.primary,borderRadius:n.borderRadius.small,fontSize:n.fontSize.medium},r.toolbar({theme:n}))}),""),pc=function(e){return s.createElement(uc,e)},uc=Ft("button",{target:"edjkiew0",label:"StyledButton"})("align-items:center;cursor:pointer;display:flex;justify-content:center;border:none;margin:4px 0;padding:0 6px;text-decoration:underline;transition:all 0.2s ease;",(function(e){var t=e.theme,n=t.constants,r=t.button,o=e.disabled;return Yl(Yl({backgroundColor:n.color.background.primary,color:n.color.text.primary,fontSize:n.fontSize.medium,":hover":{color:n.color.highlight.primary},":focus":{color:n.color.highlight.primary,outline:"none"}},o?n.disabled:{}),r.primary({theme:n}))}),""),dc={add:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1089.000000, -693.000000)",fill:t,stroke:t,strokeWidth:"2"},s.createElement("line",{x1:"1090.5",y1:"702.5",x2:"1107.5",y2:"702.5",id:"Line-13"}),s.createElement("line",{x1:"1099",y1:"694.5",x2:"1099",y2:"711.5",id:"Line-13"}))))},addComment:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"21px",viewBox:"0 0 20 21"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-288.000000, -633.000000)"},s.createElement("g",{id:"Group-5",transform:"translate(288.000000, 633.000000)"},s.createElement("rect",{id:"Rectangle",stroke:t,fill:"#FFFFFF",x:"0.5",y:"0.5",width:"19",height:"14",rx:"2"}),s.createElement("path",{d:"M19.5,11 L19.5,20",id:"Line-10",stroke:t,strokeLinecap:"round"}),s.createElement("path",{d:"M17.2175144,14.5961941 L16.863961,20.6066017",id:"Line-10",stroke:t,strokeLinecap:"square",transform:"translate(16.596194, 17.474874) rotate(-45.000000) translate(-16.596194, -17.474874) "}),s.createElement("polygon",{id:"Triangle",fill:"#FFFFFF",transform:"translate(16.500000, 13.500000) scale(-1, 1) rotate(90.000000) translate(-16.500000, -13.500000) ",points:"16.5 11 22 16 11 16"}),s.createElement("path",{d:"M10,3 L10,12",id:"Line-11",stroke:t,strokeWidth:"1.5",strokeLinecap:"square",transform:"translate(10.000000, 7.500000) scale(-1, -1) translate(-10.000000, -7.500000) "}),s.createElement("path",{d:"M10,2.5 L10,12.5",id:"Line-11",stroke:t,strokeWidth:"1.5",strokeLinecap:"square",transform:"translate(10.000000, 7.500000) scale(-1, -1) rotate(-90.000000) translate(-10.000000, -7.500000) "})))))},addColumn:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n),s.createElement("defs",null),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"square"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1071.000000, -436.000000)",stroke:t},s.createElement("path",{d:"M1074.5,439 L1074.5,453",id:"Line-2-Copy-2"}),s.createElement("path",{d:"M1088.5,439 L1088.5,453",id:"Line-2-Copy-7"}),s.createElement("path",{d:"M1080.5,439 L1080.5,452.5",id:"Line-2-Copy-8"}),s.createElement("path",{d:"M1084.5,444.25 L1084.5,447.25",id:"Line-2-Copy-8"}),s.createElement("path",{d:"M1075,439 L1088,439",id:"Line"}),s.createElement("path",{d:"M1075,445.75 L1080,445.75",id:"Line-Copy-7"}),s.createElement("path",{d:"M1083,445.75 L1086,445.75",id:"Line-Copy-7"}),s.createElement("path",{d:"M1075,453 L1088,453",id:"Line-Copy-6"}))))},addRow:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n),s.createElement("defs",null),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"square"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1035.000000, -436.000000)",stroke:t},s.createElement("path",{d:"M1038.5,439 L1038.5,453",id:"Line-2-Copy-2"}),s.createElement("path",{d:"M1052.5,439 L1052.5,453",id:"Line-2-Copy-7"}),s.createElement("path",{d:"M1045.5,439 L1045.5,443.5",id:"Line-2-Copy-8"}),s.createElement("path",{d:"M1045.5,447 L1045.5,450",id:"Line-2-Copy-8"}),s.createElement("path",{d:"M1039,439 L1052,439",id:"Line"}),s.createElement("path",{d:"M1039,444 L1052,444",id:"Line-Copy-7"}),s.createElement("path",{d:"M1044,448.5 L1047,448.5",id:"Line-Copy-7"}),s.createElement("path",{d:"M1039,453 L1052,453",id:"Line-Copy-6"}))))},alignLeft:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20",height:"20"},n),s.createElement("g",{fill:t,fillRule:"evenodd"},s.createElement("path",{d:"M2 3h16v1H2zM2 7h8v5H2zM2 15h16v1H2z"})))},alignCenter:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20",height:"20"},n),s.createElement("g",{fill:t,fillRule:"evenodd"},s.createElement("path",{d:"M2 3h16v1H2zM18 15v1H2v-1h16zm-4-8v5H6V7h8z"})))},alignRight:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20",height:"20"},n),s.createElement("g",{fill:t,fillRule:"evenodd"},s.createElement("path",{d:"M2 3h16v1H2zM10 7h8v5h-8zM2 15h16v1H2z"})))},arrowDown:function(e){var t=e.className,n=e.onClick;return s.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",onClick:n,className:t},s.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),s.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))},blockquote:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-780.000000, -743.000000)"},s.createElement("g",{id:"blockquote",transform:"translate(779.000000, 741.000000)"}),s.createElement("g",{id:"colorize-24px",transform:"translate(780.000000, 743.000000)"},s.createElement("polygon",{id:"Path",points:"0 0 24 0 24 24 0 24"}),s.createElement("path",{d:"M16.4704871,5 C14.6976942,5 13.2577935,6.48052476 13.2577935,8.30635484 C13.2577935,10.1310565 14.6976942,11.6127097 16.4704871,11.6127097 C19.5161703,11.6127097 17.7512765,17.3542569 13.9100369,17.9523348 C13.5355361,18.009152 13.2585214,18.3307383 13.2577935,18.7095239 C13.2577935,19.1789585 13.6775765,19.5502182 14.1424974,19.4791259 C21.1242098,18.420641 23.606797,5.00112845 16.4704871,5.00112845 M7.21382204,5 C5.43877216,5 4,6.47939631 4,8.30635484 C4,10.129928 5.43877216,11.6104528 7.21382204,11.6104528 C10.2583768,11.6104528 8.49348292,17.3542569 4.65224338,17.9523348 C4.27816418,18.0090865 4.00128368,18.330038 4,18.7083954 C4,19.1778301 4.41978294,19.5490897 4.88357537,19.4779975 C11.8675447,18.4195125 14.3501319,5 7.21382204,5",id:"Shape",fill:t})))))},backgroundColor:function(e){var t=e.fill,n=e.selectedColor,r=tc(e,["fill","selectedColor"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},r),s.createElement("defs",null,s.createElement("rect",{id:"path-bg-color",x:"1038.54835",y:"699.95533",width:"3",height:"3"})),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1025.000000, -698.000000)"},s.createElement("path",{d:"M1028,716.5 L1041.40596,716.5",id:"Line-6",stroke:n||t,strokeWidth:"1.5",fill:n||t,strokeLinecap:"round"}),s.createElement("path",{d:"M1029.2426,709.764841 L1036.87192,701.582009",id:"Line-7",stroke:t,strokeLinecap:"square",transform:"translate(1033.057261, 705.673425) rotate(2.000000) translate(-1033.057261, -705.673425) "}),s.createElement("path",{d:"M1031.9946,712.726263 L1039.62461,704.544079",id:"Line-7",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(1035.809610, 708.635171) rotate(2.000000) translate(-1035.809610, -708.635171) "}),s.createElement("path",{d:"M1036.04427,699.692175 L1041.80902,705.658199",id:"Line-8",stroke:t,strokeWidth:"1.5",strokeLinecap:"square",transform:"translate(1038.926647, 702.675187) rotate(-1.000000) translate(-1038.926647, -702.675187) "}),s.createElement("path",{d:"",id:"Path-9",stroke:"#979797"}),s.createElement("polyline",{id:"path-bg-color1",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(1030.115084, 711.212987) rotate(-4.000000) translate(-1030.115084, -711.212987) ",points:"1028.98706 709.712987 1028.61508 712.712987 1031.61508 712.712987"}),s.createElement("g",{id:"Rectangle",transform:"translate(1040.048350, 701.455330) rotate(135.500000) translate(-1040.048350, -701.455330) ",stroke:t},s.createElement("rect",{strokeLinejoin:"square",fill:t,fillRule:"evenodd",x:"1039.04835",y:"700.45533",width:"2",height:"2"})))))},bold:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeOpacity:"0"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-720.000000, -357.000000)",fill:t,fillRule:"nonzero",stroke:"#FFFFFF",strokeWidth:"8"},s.createElement("path",{d:"M725.745117,373.5 L725.745117,361.331055 L730.310547,361.331055 C731.240239,361.331055 731.985918,361.454182 732.547607,361.700439 C733.109296,361.946697 733.549233,362.325762 733.867432,362.837646 C734.18563,363.349531 734.344727,363.884926 734.344727,364.443848 C734.344727,364.964033 734.203615,365.453774 733.921387,365.913086 C733.639159,366.372398 733.213056,366.743163 732.643066,367.025391 C733.379073,367.241212 733.944904,367.60921 734.340576,368.129395 C734.736249,368.649579 734.934082,369.263831 734.934082,369.972168 C734.934082,370.542158 734.813722,371.072019 734.572998,371.561768 C734.332274,372.051516 734.034832,372.429198 733.680664,372.694824 C733.326496,372.960451 732.882408,373.161051 732.348389,373.296631 C731.814369,373.432211 731.159997,373.5 730.385254,373.5 L725.745117,373.5 Z M727.355469,366.444336 L729.986816,366.444336 C730.700687,366.444336 731.212564,366.397299 731.522461,366.303223 C731.931968,366.181477 732.240477,365.979494 732.447998,365.697266 C732.655519,365.415038 732.759277,365.060875 732.759277,364.634766 C732.759277,364.230792 732.662436,363.875246 732.46875,363.568115 C732.275064,363.260985 731.998374,363.0507 731.638672,362.937256 C731.27897,362.823811 730.661951,362.76709 729.787598,362.76709 L727.355469,362.76709 L727.355469,366.444336 Z M727.355469,372.063965 L730.385254,372.063965 C730.905439,372.063965 731.27067,372.044597 731.480957,372.005859 C731.851727,371.939453 732.16162,371.828777 732.410645,371.673828 C732.659669,371.518879 732.86442,371.293377 733.024902,370.997314 C733.185385,370.701252 733.265625,370.35954 733.265625,369.972168 C733.265625,369.51839 733.149415,369.124106 732.916992,368.789307 C732.684569,368.454507 732.362225,368.21932 731.949951,368.08374 C731.537677,367.94816 730.944177,367.880371 730.169434,367.880371 L727.355469,367.880371 L727.355469,372.063965 Z",id:"B"}))))},close:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"17px",height:"17px",viewBox:"0 0 17 17"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1065.000000, -645.000000)"},s.createElement("g",{id:"Group-2",transform:"translate(1065.500000, 645.500000)"},s.createElement("circle",{id:"Oval",stroke:t,fill:t,cx:"8",cy:"8",r:"8"}),s.createElement("path",{d:"M2.02049061,7.83867243 L13.6568542,7.83867243",id:"Line-9",stroke:"#FFFFFF",strokeLinecap:"square",transform:"translate(7.838672, 7.838672) rotate(45.000000) translate(-7.838672, -7.838672) "}),s.createElement("path",{d:"M2.02049061,7.83867243 L13.6568542,7.83867243",id:"Line-9",stroke:"#FFFFFF",strokeLinecap:"square",transform:"translate(7.838672, 7.838672) rotate(-45.000000) translate(-7.838672, -7.838672) "})))))},code:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1189.000000, -598.000000)",stroke:t,strokeWidth:"1.5"},s.createElement("polyline",{id:"Path-8",points:"1197.5 601 1191 607.826433 1197.5 614.367185"}),s.createElement("polyline",{id:"Path-8",transform:"translate(1204.366115, 607.683593) rotate(-179.000000) translate(-1204.366115, -607.683593) ",points:"1207.61612 601 1201.11612 607.826433 1207.61612 614.367185"}))))},comment:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"21px",viewBox:"0 0 20 21"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-324.000000, -633.000000)"},s.createElement("g",{id:"Group-5",transform:"translate(324.000000, 633.000000)"},s.createElement("rect",{id:"Rectangle",stroke:t,fill:"#FFFFFF",x:"0.5",y:"0.5",width:"19",height:"14",rx:"2"}),s.createElement("path",{d:"M19.5,11 L19.5,20",id:"Line-10",stroke:t,strokeLinecap:"round"}),s.createElement("path",{d:"M17.2175144,14.5961941 L16.863961,20.6066017",id:"Line-10",stroke:t,strokeLinecap:"square",transform:"translate(16.596194, 17.474874) rotate(-45.000000) translate(-16.596194, -17.474874) "}),s.createElement("polygon",{id:"Triangle",fill:"#FFFFFF",transform:"translate(16.500000, 13.500000) scale(-1, 1) rotate(90.000000) translate(-16.500000, -13.500000) ",points:"16.5 11 22 16 11 16"}),s.createElement("g",{id:"Group-6",transform:"translate(5.500000, 3.500000)",stroke:t,strokeLinecap:"square"},s.createElement("path",{d:"M4.26325641e-14,1 L9.25,1",id:"Line-12"}),s.createElement("path",{d:"M1.43392243e-14,4 L9.25,4",id:"Line-12"}),s.createElement("path",{d:"M4.26325641e-14,7 L9.25,7",id:"Line-12"}))))))},cross:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1025.000000, -608.000000)",stroke:t},s.createElement("path",{d:"M1042.14214,611.207107 L1028.70711,624.642136 L1042.14214,611.207107 Z",id:"Rectangle"}),s.createElement("path",{d:"M1028.70711,611.707107 L1042.14214,625.142136 L1028.70711,611.707107 Z",id:"Rectangle-Copy-8"}))))},deleteColumn:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"21px",viewBox:"0 0 20 21",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n),s.createElement("defs",null),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"square"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1071.000000, -459.000000)",stroke:t},s.createElement("path",{d:"M1074.5,462.238281 L1074.5,476.238281",id:"Line-2-Copy-2"}),s.createElement("path",{d:"M1088.5,462.238281 L1088.5,476.238281",id:"Line-2-Copy-7"}),s.createElement("path",{d:"M1080,462.238281 L1080,475.738281",id:"Line-2-Copy-8"}),s.createElement("path",{d:"M1075,462.238281 L1088,462.238281",id:"Line"}),s.createElement("path",{d:"M1075,469.238281 L1080,469.238281",id:"Line-Copy-7"}),s.createElement("path",{d:"M1082.5,469.238281 L1086.5,469.238281",id:"Line-Copy-7"}),s.createElement("path",{d:"M1075,476.238281 L1088,476.238281",id:"Line-Copy-6"}))))},deleteRow:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n),s.createElement("defs",null),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"square"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1035.000000, -460.000000)",stroke:t},s.createElement("path",{d:"M1038.5,463 L1038.5,477",id:"Line-2-Copy-2"}),s.createElement("path",{d:"M1052.5,463 L1052.5,477",id:"Line-2-Copy-7"}),s.createElement("path",{d:"M1045.5,463 L1045.5,467.5",id:"Line-2-Copy-8"}),s.createElement("path",{d:"M1039,463 L1052,463",id:"Line"}),s.createElement("path",{d:"M1039,468 L1052,468",id:"Line-Copy-7"}),s.createElement("path",{d:"M1043.5,472.5 L1047.5,472.5",id:"Line-Copy-7"}),s.createElement("path",{d:"M1039,477 L1052,477",id:"Line-Copy-6"}))))},h1:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeOpacity:"0"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-814.000000, -443.000000)",fill:t,fillRule:"nonzero",stroke:"#FFFFFF",strokeWidth:"8"},s.createElement("path",{d:"M815.361328,459.5 L815.361328,447.331055 L816.97168,447.331055 L816.97168,452.328125 L823.296875,452.328125 L823.296875,447.331055 L824.907227,447.331055 L824.907227,459.5 L823.296875,459.5 L823.296875,453.76416 L816.97168,453.76416 L816.97168,459.5 L815.361328,459.5 Z M832.610352,459.5 L831.116211,459.5 L831.116211,449.979004 C830.756509,450.322105 830.284752,450.6652 829.700928,451.008301 C829.117103,451.351401 828.592776,451.608723 828.12793,451.780273 L828.12793,450.335938 C828.963546,449.943032 829.694007,449.467125 830.319336,448.908203 C830.944665,448.349281 831.387368,447.806969 831.647461,447.28125 L832.610352,447.28125 L832.610352,459.5 Z",id:"H1"}))))},h2:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeOpacity:"0"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-811.000000, -429.000000)",fill:t,fillRule:"nonzero",stroke:"#FFFFFF",strokeWidth:"8"},s.createElement("path",{d:"M811.361328,445.5 L811.361328,433.331055 L812.97168,433.331055 L812.97168,438.328125 L819.296875,438.328125 L819.296875,433.331055 L820.907227,433.331055 L820.907227,445.5 L819.296875,445.5 L819.296875,439.76416 L812.97168,439.76416 L812.97168,445.5 L811.361328,445.5 Z M830.834961,444.063965 L830.834961,445.5 L822.791504,445.5 C822.780436,445.140298 822.838541,444.794435 822.96582,444.462402 C823.170574,443.914548 823.498452,443.375003 823.949463,442.84375 C824.400474,442.312497 825.052079,441.698246 825.904297,441.000977 C827.226895,439.916336 828.120603,439.057213 828.585449,438.423584 C829.050295,437.789955 829.282715,437.190921 829.282715,436.626465 C829.282715,436.034339 829.071047,435.534914 828.647705,435.128174 C828.224363,434.721434 827.672367,434.518066 826.991699,434.518066 C826.272295,434.518066 825.69678,434.733885 825.265137,435.165527 C824.833494,435.59717 824.614909,436.19482 824.609375,436.958496 L823.07373,436.800781 C823.178874,435.655268 823.574541,434.782311 824.260742,434.181885 C824.946944,433.581459 825.868321,433.28125 827.024902,433.28125 C828.192551,433.28125 829.116696,433.604977 829.797363,434.252441 C830.478031,434.899906 830.818359,435.702306 830.818359,436.659668 C830.818359,437.14665 830.718751,437.625323 830.519531,438.095703 C830.320312,438.566083 829.989667,439.061358 829.527588,439.581543 C829.065509,440.101728 828.297694,440.815588 827.224121,441.723145 C826.327632,442.475752 825.752117,442.986245 825.497559,443.254639 C825.243,443.523032 825.032716,443.792805 824.866699,444.063965 L830.834961,444.063965 Z",id:"H2"}))))},h3:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeOpacity:"0"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-821.000000, -466.000000)",fill:t,fillRule:"nonzero",stroke:"#FFFFFF",strokeWidth:"8"},s.createElement("path",{d:"M821.361328,482 L821.361328,469.831055 L822.97168,469.831055 L822.97168,474.828125 L829.296875,474.828125 L829.296875,469.831055 L830.907227,469.831055 L830.907227,482 L829.296875,482 L829.296875,476.26416 L822.97168,476.26416 L822.97168,482 L821.361328,482 Z M832.990723,478.787598 L834.484863,478.588379 C834.656414,479.435063 834.948322,480.045164 835.360596,480.418701 C835.77287,480.792238 836.275062,480.979004 836.867188,480.979004 C837.56999,480.979004 838.16349,480.735517 838.647705,480.248535 C839.13192,479.761554 839.374023,479.158369 839.374023,478.438965 C839.374023,477.752763 839.149905,477.186933 838.70166,476.741455 C838.253416,476.295978 837.683434,476.073242 836.991699,476.073242 C836.709471,476.073242 836.358075,476.12858 835.9375,476.239258 L836.103516,474.927734 C836.203125,474.938802 836.283366,474.944336 836.344238,474.944336 C836.980635,474.944336 837.553383,474.778322 838.0625,474.446289 C838.571617,474.114256 838.826172,473.60238 838.826172,472.910645 C838.826172,472.36279 838.64079,471.909019 838.27002,471.549316 C837.899249,471.189614 837.420576,471.009766 836.833984,471.009766 C836.252927,471.009766 835.768719,471.192381 835.381348,471.557617 C834.993976,471.922853 834.744955,472.470699 834.634277,473.201172 L833.140137,472.935547 C833.322755,471.933914 833.73779,471.157799 834.385254,470.607178 C835.032718,470.056556 835.837886,469.78125 836.800781,469.78125 C837.464847,469.78125 838.076332,469.923745 838.635254,470.20874 C839.194176,470.493735 839.621662,470.882485 839.917725,471.375 C840.213787,471.867515 840.361816,472.390459 840.361816,472.943848 C840.361816,473.469566 840.220705,473.94824 839.938477,474.379883 C839.656249,474.811526 839.238447,475.154621 838.685059,475.40918 C839.404463,475.575196 839.963377,475.919675 840.361816,476.442627 C840.760256,476.965579 840.959473,477.61995 840.959473,478.405762 C840.959473,479.468267 840.572107,480.368893 839.797363,481.107666 C839.02262,481.846439 838.043137,482.21582 836.858887,482.21582 C835.790848,482.21582 834.904056,481.897627 834.198486,481.26123 C833.492916,480.624834 833.090333,479.800298 832.990723,478.787598 Z",id:"H3"}))))},h4:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeOpacity:"0"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-827.000000, -548.000000)",fill:t,fillRule:"nonzero",stroke:"#FFFFFF",strokeWidth:"8"},s.createElement("path",{d:"M827.361328,564.5 L827.361328,552.331055 L828.97168,552.331055 L828.97168,557.328125 L835.296875,557.328125 L835.296875,552.331055 L836.907227,552.331055 L836.907227,564.5 L835.296875,564.5 L835.296875,558.76416 L828.97168,558.76416 L828.97168,564.5 L827.361328,564.5 Z M843.771973,564.5 L843.771973,561.586426 L838.492676,561.586426 L838.492676,560.216797 L844.045898,552.331055 L845.266113,552.331055 L845.266113,560.216797 L846.909668,560.216797 L846.909668,561.586426 L845.266113,561.586426 L845.266113,564.5 L843.771973,564.5 Z M843.771973,560.216797 L843.771973,554.72998 L839.961914,560.216797 L843.771973,560.216797 Z",id:"H4"}))))},h5:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeOpacity:"0"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-802.000000, -502.000000)",fill:t,fillRule:"nonzero",stroke:"#FFFFFF",strokeWidth:"8"},s.createElement("path",{d:"M802.361328,518.5 L802.361328,506.331055 L803.97168,506.331055 L803.97168,511.328125 L810.296875,511.328125 L810.296875,506.331055 L811.907227,506.331055 L811.907227,518.5 L810.296875,518.5 L810.296875,512.76416 L803.97168,512.76416 L803.97168,518.5 L802.361328,518.5 Z M813.982422,515.3125 L815.55127,515.179688 C815.667481,515.943363 815.937254,516.517495 816.360596,516.9021 C816.783938,517.286704 817.294431,517.479004 817.89209,517.479004 C818.611494,517.479004 819.220212,517.207848 819.718262,516.665527 C820.216311,516.123207 820.465332,515.403813 820.465332,514.507324 C820.465332,513.655106 820.225995,512.98275 819.747314,512.490234 C819.268634,511.997719 818.641931,511.751465 817.867188,511.751465 C817.38574,511.751465 816.951337,511.860757 816.563965,512.079346 C816.176593,512.297934 815.872234,512.581541 815.650879,512.930176 L814.248047,512.747559 L815.426758,506.49707 L821.478027,506.49707 L821.478027,507.924805 L816.62207,507.924805 L815.966309,511.195312 C816.696781,510.686195 817.463212,510.431641 818.265625,510.431641 C819.32813,510.431641 820.224606,510.799638 820.955078,511.535645 C821.685551,512.271651 822.050781,513.21793 822.050781,514.374512 C822.050781,515.475754 821.729821,516.427568 821.087891,517.22998 C820.307613,518.215011 819.242357,518.70752 817.89209,518.70752 C816.785313,518.70752 815.881921,518.397627 815.181885,517.777832 C814.481849,517.158037 814.082032,516.336268 813.982422,515.3125 Z",id:"H5"}))))},h6:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeOpacity:"0"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-805.000000, -584.000000)",fill:t,fillRule:"nonzero",stroke:"#FFFFFF",strokeWidth:"8"},s.createElement("path",{d:"M805.361328,600.5 L805.361328,588.331055 L806.97168,588.331055 L806.97168,593.328125 L813.296875,593.328125 L813.296875,588.331055 L814.907227,588.331055 L814.907227,600.5 L813.296875,600.5 L813.296875,594.76416 L806.97168,594.76416 L806.97168,600.5 L805.361328,600.5 Z M824.735352,591.311035 L823.249512,591.427246 C823.116699,590.840655 822.928549,590.414552 822.685059,590.148926 C822.281085,589.722817 821.783043,589.509766 821.190918,589.509766 C820.715004,589.509766 820.297202,589.642577 819.9375,589.908203 C819.46712,590.251304 819.096356,590.752113 818.825195,591.410645 C818.554035,592.069176 818.412923,593.007155 818.401855,594.224609 C818.761558,593.676755 819.201495,593.270021 819.72168,593.004395 C820.241865,592.738768 820.786944,592.605957 821.356934,592.605957 C822.353032,592.605957 823.201087,592.972571 823.901123,593.705811 C824.601159,594.43905 824.951172,595.386713 824.951172,596.548828 C824.951172,597.312504 824.786541,598.022214 824.457275,598.677979 C824.128009,599.333744 823.675621,599.835936 823.100098,600.18457 C822.524574,600.533205 821.871586,600.70752 821.141113,600.70752 C819.89599,600.70752 818.880538,600.249598 818.094727,599.33374 C817.308915,598.417883 816.916016,596.908539 816.916016,594.805664 C816.916016,592.453764 817.350419,590.74382 818.219238,589.675781 C818.97738,588.746089 819.998366,588.28125 821.282227,588.28125 C822.239588,588.28125 823.024004,588.549639 823.635498,589.086426 C824.246992,589.623212 824.613606,590.364741 824.735352,591.311035 Z M818.634277,596.557129 C818.634277,597.07178 818.74357,597.564288 818.962158,598.034668 C819.180747,598.505048 819.486489,598.863361 819.879395,599.109619 C820.2723,599.355877 820.684568,599.479004 821.116211,599.479004 C821.747073,599.479004 822.289386,599.224449 822.743164,598.715332 C823.196942,598.206215 823.423828,597.51449 823.423828,596.640137 C823.423828,595.798987 823.199709,595.136314 822.751465,594.6521 C822.30322,594.167885 821.738773,593.925781 821.058105,593.925781 C820.382972,593.925781 819.810224,594.167885 819.339844,594.6521 C818.869464,595.136314 818.634277,595.771318 818.634277,596.557129 Z",id:"H6"}))))},image:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-979.000000, -378.000000)",stroke:t},s.createElement("rect",{id:"Rectangle",x:"981.5",y:"380.5",width:"15",height:"15",rx:"2"}),s.createElement("polygon",{id:"Path-2",fill:t,points:"983.777758 392.75 986.212664 389.5 988.405377 392 991.093538 388.5 994.196671 392.75"}))))},italic:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-717.000000, -401.000000)",fill:t},s.createElement("g",{id:"Group",transform:"translate(720.750000, 404.000000)"},s.createElement("rect",{id:"Rectangle",transform:"translate(6.000000, 7.000000) rotate(12.000000) translate(-6.000000, -7.000000) ",x:"5.25",y:"1",width:"1.5",height:"12"}),s.createElement("rect",{id:"Rectangle",x:"2.4",y:"1",width:"9",height:"1.5"}),s.createElement("rect",{id:"Rectangle-Copy",x:"0.25",y:"12",width:"9",height:"1.5"})))))},link:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("defs",null,s.createElement("rect",{id:"path-1",x:"961",y:"491",width:"9",height:"13"}),s.createElement("rect",{id:"path-3",x:"972",y:"491",width:"9",height:"12"})),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-961.000000, -487.000000)"},s.createElement("path",{d:"M967,497 L975,497",id:"Line-Copy-9",stroke:t,strokeLinecap:"square"}),s.createElement("mask",{id:"mask-2",fill:"white"},s.createElement("use",{xlinkHref:"#path-1"})),s.createElement("g",{id:"Rectangle"}),s.createElement("rect",{id:"Rectangle-Copy-7",stroke:t,strokeWidth:"1.25",mask:"url(#mask-2)",x:"961.625",y:"493.125",width:"17.75",height:"7.75",rx:"3.875"}),s.createElement("mask",{id:"mask-4",fill:"white"},s.createElement("use",{xlinkHref:"#path-3"})),s.createElement("g",{id:"Rectangle"}),s.createElement("rect",{id:"Rectangle",stroke:t,strokeWidth:"1.25",mask:"url(#mask-4)",x:"962.625",y:"493.125",width:"17.75",height:"7.75",rx:"3.875"}))))},listBulleted:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-897.000000, -378.000000)",fill:t},s.createElement("circle",{id:"Oval",cx:"900",cy:"383",r:"1"}),s.createElement("circle",{id:"Oval",cx:"900",cy:"388",r:"1"}),s.createElement("circle",{id:"Oval-Copy",cx:"900",cy:"393",r:"1"}),s.createElement("rect",{id:"Rectangle",x:"903",y:"382",width:"12",height:"1.5"}),s.createElement("rect",{id:"Rectangle-Copy-3",x:"903",y:"387",width:"12",height:"1.5"}),s.createElement("rect",{id:"Rectangle-Copy-4",x:"903",y:"392",width:"12",height:"1.5"}))))},listNumbered:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-942.000000, -378.000000)",fill:t},s.createElement("rect",{id:"Rectangle-Copy-2",x:"948",y:"382",width:"12",height:"1.5"}),s.createElement("rect",{id:"Rectangle-Copy-6",x:"948",y:"387",width:"12",height:"1.5"}),s.createElement("rect",{id:"Rectangle-Copy-5",x:"948",y:"392",width:"12",height:"1.5"}),s.createElement("text",{id:"1",fontFamily:"Arial-BoldMT, Arial",fontSize:"5.5",fontWeight:"bold"},s.createElement("tspan",{x:"943.5",y:"384.5"},"1")),s.createElement("text",{id:"2",fontFamily:"Arial-BoldMT, Arial",fontSize:"5.5",fontWeight:"bold"},s.createElement("tspan",{x:"943.5",y:"389.5"},"2")),s.createElement("text",{id:"3",fontFamily:"Arial-BoldMT, Arial",fontSize:"5.5",fontWeight:"bold"},s.createElement("tspan",{x:"943.5",y:"394.5"},"3")))))},p:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeOpacity:"0"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-810.000000, -527.000000)",fill:t,fillRule:"nonzero",stroke:"#FFFFFF",strokeWidth:"8"},s.createElement("path",{d:"M816.311523,543.5 L816.311523,531.331055 L820.901855,531.331055 C821.709802,531.331055 822.326821,531.369791 822.75293,531.447266 C823.350589,531.546875 823.851398,531.736408 824.255371,532.015869 C824.659344,532.29533 824.984455,532.686846 825.230713,533.19043 C825.476971,533.694013 825.600098,534.247393 825.600098,534.850586 C825.600098,535.885422 825.270837,536.761146 824.612305,537.477783 C823.953773,538.194421 822.764006,538.552734 821.042969,538.552734 L817.921875,538.552734 L817.921875,543.5 L816.311523,543.5 Z M817.921875,537.116699 L821.067871,537.116699 C822.108241,537.116699 822.847003,536.923016 823.28418,536.535645 C823.721356,536.148273 823.939941,535.603194 823.939941,534.900391 C823.939941,534.391273 823.811281,533.955487 823.553955,533.593018 C823.29663,533.230548 822.957684,532.991212 822.537109,532.875 C822.265949,532.80306 821.76514,532.76709 821.034668,532.76709 L817.921875,532.76709 L817.921875,537.116699 Z",id:"P"}))))},question:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeOpacity:"0"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-964.000000, -576.000000)",fill:t,fillRule:"nonzero",stroke:"#FFFFFF",strokeWidth:"8"},s.createElement("path",{d:"M973.378906,588.650879 C973.372721,588.428222 973.369629,588.261231 973.369629,588.149902 C973.369629,587.4943 973.462401,586.928388 973.647949,586.452148 C973.784018,586.093423 974.003579,585.73161 974.306641,585.366699 C974.529298,585.100747 974.929766,584.712649 975.508057,584.202393 C976.086347,583.692136 976.462076,583.285483 976.635254,582.982422 C976.808432,582.67936 976.89502,582.348472 976.89502,581.989746 C976.89502,581.340329 976.641441,580.769778 976.134277,580.278076 C975.627113,579.786374 975.005538,579.540527 974.269531,579.540527 C973.558265,579.540527 972.964521,579.763181 972.488281,580.208496 C972.012042,580.653811 971.699708,581.349605 971.55127,582.295898 L969.834961,582.091797 C969.989584,580.823887 970.448808,579.852868 971.212646,579.178711 C971.976485,578.504554 972.986159,578.16748 974.241699,578.16748 C975.571458,578.16748 976.632157,578.529293 977.423828,579.25293 C978.215499,579.976566 978.611328,580.85172 978.611328,581.878418 C978.611328,582.472171 978.472169,583.019529 978.193848,583.520508 C977.915526,584.021487 977.371261,584.630693 976.561035,585.348145 C976.016762,585.830569 975.661134,586.186197 975.494141,586.415039 C975.327148,586.643881 975.203451,586.906737 975.123047,587.203613 C975.042643,587.50049 974.996257,587.982907 974.983887,588.650879 L973.378906,588.650879 Z M973.276855,592 L973.276855,590.098145 L975.178711,590.098145 L975.178711,592 L973.276855,592 Z",id:"?"}))))},redo:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-992.000000, -548.000000)",stroke:t},s.createElement("polygon",{id:"Path-6-Copy",fill:t,transform:"translate(1008.327460, 559.792086) rotate(-90.000000) translate(-1008.327460, -559.792086) ",points:"1005.32746 562.789863 1005.32746 556.794308 1011.32746 562.789863"}),s.createElement("path",{d:"M992.25,559.497778 C994.85552,556.165554 997.522187,554.499628 1000.25,554.5 C1002.97781,554.500372 1005.74558,556.167039 1008.5533,559.5",id:"Path-5-Copy-2"}))))},smallCircle:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"5px",height:"5px",viewBox:"0 0 5 5",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1096.000000, -575.000000)",fill:t,stroke:t},s.createElement("circle",{id:"Oval",cx:"1098.5",cy:"577.5",r:"1.5"}))))},strike:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-718.000000, -442.000000)",fill:t},s.createElement("path",{d:"M722.718655,454.127045 L724.408629,453.979287 C724.488665,454.656511 724.674898,455.212135 724.967336,455.646174 C725.259774,456.080213 725.713815,456.431133 726.329473,456.698944 C726.945132,456.966756 727.637737,457.100659 728.40731,457.100659 C729.09069,457.100659 729.694026,456.999077 730.217336,456.79591 C730.740646,456.592743 731.130044,456.314162 731.385542,455.960158 C731.64104,455.606155 731.768787,455.219835 731.768787,454.801187 C731.768787,454.376383 731.645657,454.005454 731.399394,453.68839 C731.153131,453.371326 730.746802,453.105058 730.180397,452.889578 C729.817158,452.747976 729.013736,452.527882 727.770106,452.229287 C726.526477,451.930693 725.655333,451.649034 725.15665,451.384301 C724.510209,451.045688 724.028463,450.625508 723.711399,450.123746 C723.394335,449.621985 723.235806,449.060205 723.235806,448.43839 C723.235806,447.75501 723.429735,447.116274 723.8176,446.522163 C724.205465,445.928053 724.771862,445.47709 725.516808,445.169261 C726.261755,444.861432 727.089803,444.70752 728.000977,444.70752 C729.0045,444.70752 729.889496,444.869127 730.65599,445.192348 C731.422485,445.515569 732.011969,445.991158 732.42446,446.619129 C732.836951,447.247101 733.058585,447.958175 733.089368,448.752374 L731.37169,448.881662 C731.279341,448.025897 730.966899,447.379465 730.434355,446.942348 C729.90181,446.505231 729.115318,446.286675 728.074856,446.286675 C726.991297,446.286675 726.201727,446.485222 725.706122,446.882322 C725.210517,447.279421 724.962719,447.758088 724.962719,448.318337 C724.962719,448.804708 725.138179,449.204879 725.489104,449.518865 C725.833873,449.832851 726.734259,450.154528 728.190291,450.483905 C729.646323,450.813282 730.645214,451.101098 731.186993,451.347361 C731.975036,451.7106 732.556824,452.170797 732.932376,452.727968 C733.307927,453.285139 733.4957,453.926953 733.4957,454.65343 C733.4957,455.37375 733.289458,456.052503 732.876967,456.68971 C732.464476,457.326916 731.871913,457.822513 731.099262,458.176517 C730.326611,458.53052 729.457007,458.70752 728.490423,458.70752 C727.265263,458.70752 726.238668,458.528981 725.410608,458.171899 C724.582547,457.814818 723.933038,457.277664 723.462059,456.560422 C722.99108,455.84318 722.743282,455.032062 722.718655,454.127045 Z",id:"S",strokeOpacity:"0",stroke:"#FFFFFF",strokeWidth:"8",fillRule:"nonzero"}),s.createElement("rect",{id:"Rectangle",x:"721",y:"451",width:"14",height:"1.5"}))))},sub:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-722.000000, -540.000000)",fill:t,fillRule:"nonzero"},s.createElement("path",{d:"M725.574707,556.5 L730.28125,550.158203 L726.130859,544.331055 L728.04834,544.331055 L730.256348,547.452148 C730.71566,548.099613 731.042154,548.597655 731.23584,548.946289 C731.507,548.503579 731.82796,548.041506 732.19873,547.560059 L734.647461,544.331055 L736.398926,544.331055 L732.124023,550.066895 L736.730957,556.5 L734.73877,556.5 L731.675781,552.158691 C731.504231,551.909667 731.327149,551.638511 731.144531,551.345215 C730.873371,551.787925 730.679688,552.092284 730.563477,552.258301 L727.508789,556.5 L725.574707,556.5 Z",id:"X",strokeOpacity:"0",stroke:"#FFFFFF",strokeWidth:"8"}),s.createElement("path",{d:"M738.285156,558.578125 L740.324219,558.578125 C740.527345,558.578125 740.682291,558.619791 740.789062,558.703125 C740.895834,558.786459 740.949219,558.899739 740.949219,559.042969 C740.949219,559.170574 740.906901,559.278645 740.822266,559.367188 C740.73763,559.45573 740.609376,559.5 740.4375,559.5 L737.5625,559.5 C737.367187,559.5 737.214844,559.445964 737.105469,559.337891 C736.996093,559.229817 736.941406,559.102865 736.941406,558.957031 C736.941406,558.863281 736.976562,558.738933 737.046875,558.583984 C737.117188,558.429036 737.19401,558.307292 737.277344,558.21875 C737.6237,557.859373 737.936197,557.551434 738.214844,557.294922 C738.493491,557.03841 738.692708,556.869792 738.8125,556.789062 C739.026043,556.63802 739.203775,556.486329 739.345703,556.333984 C739.487631,556.18164 739.595703,556.025391 739.669922,555.865234 C739.744141,555.705077 739.78125,555.548178 739.78125,555.394531 C739.78125,555.227864 739.741537,555.078777 739.662109,554.947266 C739.582682,554.815755 739.47461,554.713542 739.337891,554.640625 C739.201171,554.567708 739.052084,554.53125 738.890625,554.53125 C738.549477,554.53125 738.281251,554.680988 738.085938,554.980469 C738.059896,555.019531 738.016276,555.126301 737.955078,555.300781 C737.89388,555.475261 737.82487,555.609375 737.748047,555.703125 C737.671224,555.796875 737.558594,555.84375 737.410156,555.84375 C737.279947,555.84375 737.171875,555.800782 737.085938,555.714844 C737,555.628906 736.957031,555.511719 736.957031,555.363281 C736.957031,555.183593 736.997395,554.996095 737.078125,554.800781 C737.158855,554.605468 737.279296,554.428386 737.439453,554.269531 C737.59961,554.110676 737.802733,553.982422 738.048828,553.884766 C738.294923,553.787109 738.583332,553.738281 738.914062,553.738281 C739.312502,553.738281 739.652342,553.800781 739.933594,553.925781 C740.115886,554.009115 740.276041,554.123697 740.414062,554.269531 C740.552084,554.415365 740.659505,554.583983 740.736328,554.775391 C740.813151,554.966798 740.851562,555.165364 740.851562,555.371094 C740.851562,555.694012 740.771485,555.987629 740.611328,556.251953 C740.451171,556.516277 740.287761,556.723307 740.121094,556.873047 C739.954426,557.022787 739.675132,557.257811 739.283203,557.578125 C738.891274,557.898439 738.622397,558.147135 738.476562,558.324219 C738.414062,558.394532 738.350261,558.479166 738.285156,558.578125 Z",id:"2"}))))},sup:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-725.000000, -479.000000)",fill:t,fillRule:"nonzero"},s.createElement("path",{d:"M727.574707,495.5 L732.28125,489.158203 L728.130859,483.331055 L730.04834,483.331055 L732.256348,486.452148 C732.71566,487.099613 733.042154,487.597655 733.23584,487.946289 C733.507,487.503579 733.82796,487.041506 734.19873,486.560059 L736.647461,483.331055 L738.398926,483.331055 L734.124023,489.066895 L738.730957,495.5 L736.73877,495.5 L733.675781,491.158691 C733.504231,490.909667 733.327149,490.638511 733.144531,490.345215 C732.873371,490.787925 732.679688,491.092284 732.563477,491.258301 L729.508789,495.5 L727.574707,495.5 Z",id:"X",strokeOpacity:"0",stroke:"#FFFFFF",strokeWidth:"8"}),s.createElement("path",{d:"M740.285156,484.078125 L742.324219,484.078125 C742.527345,484.078125 742.682291,484.119791 742.789062,484.203125 C742.895834,484.286459 742.949219,484.399739 742.949219,484.542969 C742.949219,484.670574 742.906901,484.778645 742.822266,484.867188 C742.73763,484.95573 742.609376,485 742.4375,485 L739.5625,485 C739.367187,485 739.214844,484.945964 739.105469,484.837891 C738.996093,484.729817 738.941406,484.602865 738.941406,484.457031 C738.941406,484.363281 738.976562,484.238933 739.046875,484.083984 C739.117188,483.929036 739.19401,483.807292 739.277344,483.71875 C739.6237,483.359373 739.936197,483.051434 740.214844,482.794922 C740.493491,482.53841 740.692708,482.369792 740.8125,482.289062 C741.026043,482.13802 741.203775,481.986329 741.345703,481.833984 C741.487631,481.68164 741.595703,481.525391 741.669922,481.365234 C741.744141,481.205077 741.78125,481.048178 741.78125,480.894531 C741.78125,480.727864 741.741537,480.578777 741.662109,480.447266 C741.582682,480.315755 741.47461,480.213542 741.337891,480.140625 C741.201171,480.067708 741.052084,480.03125 740.890625,480.03125 C740.549477,480.03125 740.281251,480.180988 740.085938,480.480469 C740.059896,480.519531 740.016276,480.626301 739.955078,480.800781 C739.89388,480.975261 739.82487,481.109375 739.748047,481.203125 C739.671224,481.296875 739.558594,481.34375 739.410156,481.34375 C739.279947,481.34375 739.171875,481.300782 739.085938,481.214844 C739,481.128906 738.957031,481.011719 738.957031,480.863281 C738.957031,480.683593 738.997395,480.496095 739.078125,480.300781 C739.158855,480.105468 739.279296,479.928386 739.439453,479.769531 C739.59961,479.610676 739.802733,479.482422 740.048828,479.384766 C740.294923,479.287109 740.583332,479.238281 740.914062,479.238281 C741.312502,479.238281 741.652342,479.300781 741.933594,479.425781 C742.115886,479.509115 742.276041,479.623697 742.414062,479.769531 C742.552084,479.915365 742.659505,480.083983 742.736328,480.275391 C742.813151,480.466798 742.851562,480.665364 742.851562,480.871094 C742.851562,481.194012 742.771485,481.487629 742.611328,481.751953 C742.451171,482.016277 742.287761,482.223307 742.121094,482.373047 C741.954426,482.522787 741.675132,482.757811 741.283203,483.078125 C740.891274,483.398439 740.622397,483.647135 740.476562,483.824219 C740.414062,483.894532 740.350261,483.979166 740.285156,484.078125 Z",id:"2"}))))},table:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-995.000000, -479.000000)",stroke:t},s.createElement("path",{d:"M1005,482 L1005,496",id:"Line-2-Copy-9",strokeLinecap:"square"}),s.createElement("path",{d:"M997.5,489 L1012,489",id:"Line-Copy-8",strokeLinecap:"square"}),s.createElement("rect",{id:"Rectangle",x:"997.5",y:"481.5",width:"15",height:"15"}))))},textColor:function(e){var t=e.fill,n=e.selectedColor,r=tc(e,["fill","selectedColor"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},r),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1024.000000, -654.000000)",fill:t,stroke:t,strokeWidth:"1.5"},s.createElement("path",{d:"M1030,665.46984 L1037,665.424621",id:"Path-10"}),s.createElement("path",{d:"M1033.5,657.687825 L1028,669",id:"Line-5",strokeLinecap:"round"}),s.createElement("path",{d:"M1033.5,657.687825 L1039,669",id:"Line-5",strokeLinecap:"round"}),s.createElement("path",{d:"M1028,671.849242 L1039,671.849242",id:"Line-6",stroke:n||t,strokeLinecap:"round"}))))},toggleHeader:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n),s.createElement("defs",null),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1035.000000, -484.000000)"},s.createElement("path",{d:"M1038.5,487 L1038.5,501",id:"Line-2-Copy-2",stroke:t,strokeLinecap:"square"}),s.createElement("path",{d:"M1052.5,487 L1052.5,501",id:"Line-2-Copy-7",stroke:t,strokeLinecap:"square"}),s.createElement("path",{d:"M1045.5,487 L1045.5,491.5",id:"Line-2-Copy-8",stroke:t,strokeLinecap:"square"}),s.createElement("path",{d:"M1039,487 L1052,487",id:"Line",stroke:t,strokeLinecap:"square"}),s.createElement("path",{d:"M1039,492 L1052,492",id:"Line-Copy-7",stroke:t,strokeLinecap:"square"}),s.createElement("path",{d:"M1039,501 L1052,501",id:"Line-Copy-6",stroke:t,strokeLinecap:"square"}),s.createElement("rect",{id:"Rectangle-2",stroke:"#E0E0E0",fill:"#E0E0E0",x:"1039.5",y:"488",width:"5",height:"3"}),s.createElement("rect",{id:"Rectangle-2",stroke:"#E0E0E0",fill:"#E0E0E0",x:"1046.5",y:"488",width:"5",height:"3"}))))},trash:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n),s.createElement("defs",null),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-1145.000000, -509.000000)",stroke:t},s.createElement("path",{d:"M1160.74635,525.156104 C1160.74635,526.031851 1159.95886,526.745813 1158.99293,526.745813 L1150.75342,526.745813 C1149.78749,526.745813 1149,526.031851 1149,525.156104 L1149,514 L1160.75023,514 L1160.75023,525.156104 L1160.74635,525.156104 Z",id:"Path"}),s.createElement("path",{d:"M1150.75,512.848837 C1150.75,511.830233 1151.40806,511 1152.21544,511 L1157.53525,511 C1158.34263,511 1159.00069,511.830233 1159.00069,512.848837 L1159.00069,514 L1150.75,514 L1150.75,512.848837 Z",id:"Path",fillRule:"nonzero"}),s.createElement("path",{d:"M1147.5,514 L1162.5,514",id:"Line-4",strokeLinecap:"round"}))))},underline:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"21px",viewBox:"0 0 20 21",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeOpacity:"0"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-811.000000, -619.000000)",fill:t,fillRule:"nonzero",stroke:"#FFFFFF",strokeWidth:"8"},s.createElement("g",{id:"U-Copy",transform:"translate(815.000000, 621.831055)"},s.createElement("path",{d:"M9.29687522,0.668945313 L10.9072268,0.668945313 L10.9072268,6.69970703 C10.9072268,7.92269492 10.7688818,8.89387661 10.4921877,9.61328125 C10.2154936,10.3326859 9.71606828,10.9178851 8.9938967,11.3688965 C8.27172512,11.8199079 7.32406207,12.0454102 6.15087912,12.0454102 C5.01089947,12.0454102 4.07845436,11.8489603 3.35351584,11.4560547 C2.62857732,11.0631491 2.11116713,10.4945512 1.80126975,9.75024414 C1.49137237,9.00593703 1.336426,7.9891015 1.336426,6.69970703 L1.336426,0.668945313 L2.94677756,0.668945313 L2.94677756,6.69140625 C2.94677756,7.74837768 3.04500249,8.52725987 3.2414553,9.02807617 C3.4379081,9.52889248 3.77546983,9.91487495 4.25415061,10.1860352 C4.73283139,10.4571954 5.31803061,10.5927734 6.00976584,10.5927734 C7.19401656,10.5927734 8.03792088,10.3243842 8.54150412,9.78759766 C9.04508737,9.25081112 9.29687522,8.21875764 9.29687522,6.69140625 L9.29687522,0.668945313 Z",id:"U"}),s.createElement("polygon",{id:"Decoration",points:"0.5 14.9702148 0.5 13.7250977 11.4604297 13.7250977 11.4604297 14.9702148"})))))},undo:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-961.000000, -548.000000)",stroke:t},s.createElement("polygon",{id:"Path-6",fill:t,points:"961.5 562.495555 961.5 556.5 967.5 562.495555"}),s.createElement("path",{d:"M964.5,559.497777 C967.10552,556.165554 969.772187,554.499628 972.5,554.5 C975.227813,554.500372 977.99558,556.167039 980.803301,559.5",id:"Path-5"}))))},video:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-980.000000, -408.000000)",stroke:t},s.createElement("polygon",{id:"Path-3",fill:t,points:"995 416.341419 999.5 412.785827 999.5 422.785827 995 419.335816"}),s.createElement("rect",{id:"Rectangle",x:"980.5",y:"412",width:"13.5",height:"11",rx:"1"}))))},viewComment:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20px",height:"21px",viewBox:"0 0 20 21"},n),s.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},s.createElement("g",{id:"Desktop-HD",transform:"translate(-249.000000, -633.000000)"},s.createElement("g",{id:"Group-5",transform:"translate(249.000000, 633.000000)"},s.createElement("rect",{id:"Rectangle",stroke:t,fill:"#FFFFFF",x:"0.5",y:"0.5",width:"19",height:"14",rx:"2"}),s.createElement("path",{d:"M19.5,11 L19.5,20",id:"Line-10",stroke:t,strokeLinecap:"round"}),s.createElement("path",{d:"M17.2175144,14.5961941 L16.863961,20.6066017",id:"Line-10",stroke:t,strokeLinecap:"square",transform:"translate(16.596194, 17.474874) rotate(-45.000000) translate(-16.596194, -17.474874) "}),s.createElement("polygon",{id:"Triangle",fill:"#FFFFFF",transform:"translate(16.500000, 13.500000) scale(-1, 1) rotate(90.000000) translate(-16.500000, -13.500000) ",points:"16.5 11 22 16 11 16"})))))},wrapLeft:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20",height:"20"},n),s.createElement("g",{fill:t,fillRule:"evenodd"},s.createElement("path",{d:"M2 3h16v1H2zM11 6h7v1h-7zM11 9h7v1h-7zM2 15h16v1H2zM11 12h7v1h-7zM2 7h7v5H2z"})))},wrapRight:function(e){var t=e.fill,n=tc(e,["fill"]);return s.createElement("svg",Zl({width:"20",height:"20"},n),s.createElement("g",{fill:t,fillRule:"evenodd"},s.createElement("path",{d:"M2 3h16v1H2zM2 6h7v1H2zM2 9h7v1H2zM2 15h16v1H2zM2 12h7v1H2zM11 7h7v5h-7z"})))}},fc=Le((function(e){var t=e.theme,n=e.selected,r=e.name,o=tc(e,["theme","selected","name"]),i=t.constants.color,a=i.text,l=i.highlight,c=a.primary;n&&(c=l.primary);var p=dc[r];return s.createElement(hc,null,s.createElement(p,Zl({fill:c},o)))})),hc=Ft("span",{target:"e1ua58qj0",label:"Wrapper"})("display:flex;",(function(e){var t=e.theme,n=t.constants;return Yl({},(0,t.icon)({theme:n}))}),""),mc=function(e){var t=e.className,n=e.label,r=tc(e,["className","label"]);return s.createElement(vc,{className:t},n&&s.createElement("span",null,n),s.createElement(gc,r))};mc.propTypes={className:i.string,label:i.string},mc.defaultProps={className:"",label:""};var vc=Ft("div",{target:"e2akd720",label:"InputWrapper"})("align-items:center;display:flex;line-height:1;",(function(e){return Yl({},e.wrapper)}),""),gc=Ft("input",{target:"e2akd721",label:"StyledInput"})("height:20px;width:180px;margin:0 12px 0 0;padding:4px;border-top:none;border-left:none;border-right:none;",(function(e){var t=e.theme,n=t.constants,r=t.input,o=e.error;return Yl({borderBottom:"1px solid ".concat(o?"".concat(n.color.error.primary," !important"):n.color.border.secondary),backgroundColor:n.color.background.primary,color:n.color.text.primary,fontSize:n.fontSize.medium,"&:focus":{borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:"1px solid ".concat(n.color.highlight.primary),outline:"none"},"&::placeholder":{fontSize:n.color.text.secondary}},r.input({theme:n}))}),""),yc=function(e){Ql(n,a.PureComponent);var t=rc(n);function n(){var e;Kl(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).componentWillUnmount=function(){window.removeEventListener("keydown",e.handleKeyPress)},e.handleKeyPress=function(t){var n=e.props.hideModal;"Escape"===t.key&&n()},e.handleMouseDown=function(t){0===t.button&&(0,e.props.hideModal)()},e.handleTouchStart=function(t){var n=e.props.hideModal;1===t.targetTouches.length&&n()},e.stopPropagation=function(e){return e.stopPropagation()},e}return Ul(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.render,n=e.title,r=e.hideModal;return s.createElement(bc,{onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart},s.createElement(wc,{onMouseDown:this.stopPropagation,onTouchStart:this.stopPropagation,onClick:this.stopPropagation},s.createElement(kc,null,s.createElement(Cc,null,n),s.createElement(xc,{name:"cross",onClick:r})),s.createElement(Sc,null,t())))}}]),n}();yc.propTypes={hideModal:i.func.isRequired,render:i.func.isRequired,title:i.string.isRequired};var bc=Ft("div",{target:"ef7ovoi0",label:"Wrapper"})("display:flex;align-items:center;justify-content:center;height:100%;left:0;position:fixed;top:0;width:100%;",(function(e){return{zIndex:1,backgroundColor:e.theme.constants.color.opaque}}),""),wc=Ft("div",{target:"ef7ovoi1",label:"InnerWrapper"})("width:75%;height:75%;max-height:750px;max-width:750px;",(function(e){var t=e.theme,n=t.constants,r=t.modal;return Yl({borderRadius:n.borderRadius.small,boxShadow:n.boxShadow.primary,backgroundColor:n.color.background.primary,color:n.color.text.primary,fontSize:n.fontSize.large},r.wrapper({theme:n}))}),""),kc=Ft("div",{target:"ef7ovoi2",label:"Header"})("display:flex;justify-content:space-between;align-items:center;padding:12px 24px;",(function(e){var t=e.theme,n=t.constants,r=t.modal;return Yl({boxShadow:n.boxShadow.secondary},r.header({theme:n}))}),""),Cc=Ft("div",{target:"ef7ovoi3",label:"Title"})("",(function(e){var t=e.theme,n=t.constants,r=t.modal;return Yl({fontSize:n.fontSize.extraLarge},r.title({theme:n}))}),""),xc=Ft(fc,{target:"ef7ovoi4",label:"StyledIcon"})({name:"4g6ai3",styles:"cursor:pointer;"}),Sc=Ft("div",{target:"ef7ovoi5",label:"Main"})("height:calc(100% - 102px);padding:24px 0;",(function(e){var t=e.theme,n=t.constants;return Yl({},t.modal.main({theme:n}))}),""),Mc=function(e,t,n,r){var o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),a=t?t.getBoundingClientRect():{},s=a.width,l=void 0===s?0:s,c=a.height,p=void 0===c?0:c,u=o.left-i.left;(u+=(o.width-l)/2)<3&&(u=2),o.width>i.width?u="calc(50% - ".concat(l/2,"px)"):u+l>i.width&&(u=i.width-l-4)<2&&(u=2);var d=o.y-i.y+(o.height||20)+1+6;if(!r&&d+p>i.height){var f=o.y-i.y-p-1;f>0&&(d=f)}var h="block";return(d<0||d>i.height)&&(h="none"),{popupPosition:{top:d,left:u,display:h}}},Ec=function(e){Ql(n,a.Component);var t=rc(n);function n(){var e;Kl(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={popupPosition:{top:0}},e}return Ul(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.marker,r=t.editorWrapper,o=t.wrapperRef;n&&this.setState(Yl({},Mc(n,o.current,r.current))),r.current.children[1].addEventListener("scroll",(function(){e.setState(Yl(Yl({},Mc(n,o.current,r.current,!0)),{},{scrolling:!0}))}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.changeCounter,r=t.marker,o=t.editorWrapper,i=t.wrapperRef,a=this.state.popupPosition;if(r){var s=this.markerPos,l=r.getBoundingClientRect();this.markerPos={height:l.height,left:l.left,offsetTop:r.offsetTop,width:l.width},function(e,t){return!!e&&e.height===t.height&&e.left===t.left&&e.offsetTop===t.offsetTop&&e.width===t.width}(s,this.markerPos)&&a&&e.changeCounter===n||this.setState(Yl(Yl({},Mc(r,i.current,o.current)),{},{scrolling:!1}))}}},{key:"render",value:function(){var e=this.props,t=e.render,n=e.marker,r=e.wrapperRef,o=e.className;if(!n)return null;var i=this.state,a=i.popupPosition,l=i.scrolling;return s.createElement(Nc,{ref:r,style:a,marker:n,isScrolling:l,className:o},t())}}]),n}();Ec.propTypes={wrapperRef:i.shape({current:i.object}).isRequired,editorWrapper:i.shape({current:i.object}).isRequired,marker:i.object.isRequired,render:i.func.isRequired,className:i.string,changeCounter:i.number},Ec.defaultProps={className:void 0};var Oc,Ac,Tc=(Oc=Ec,(Ac=function(e){Ql(n,a.Component);var t=rc(n);function n(){var e;Kl(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).wrapperRef=a.createRef(),e.componentWillUnmount=function(){window.removeEventListener("keydown",e.handleKeyPress),window.removeEventListener("mousedown",e.handleMouseDown)},e.handleKeyPress=function(t){var n=e.props.onEscKeyPress;"Escape"===t.key&&n()},e.handleMouseDown=function(t){var n=e.props,r=n.onClickOutsideEditor,o=n.onClickInsideEditor,i=n.editorWrapper;0===t.button&&document.body.contains(t.target)&&(i&&i.current&&!i.current.contains(t.target)&&r?r(t):e.wrapperRef&&e.wrapperRef.current&&!e.wrapperRef.current.contains(t.target)&&o&&o(t))},e}return Ul(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress),window.addEventListener("mousedown",this.handleMouseDown)}},{key:"render",value:function(){return s.createElement(Oc,Zl({wrapperRef:this.wrapperRef},this.props))}}]),n}()).propTypes={children:i.element,onEscKeyPress:i.func,onClickOutsideEditor:i.func,onClickInsideEditor:i.func,editorWrapper:i.shape({current:i.object}).isRequired},Ac.defaultProps={children:void 0,onEscKeyPress:void 0,onClickOutsideEditor:void 0,onClickInsideEditor:void 0},Ac),Nc=Ft("div",{target:"e1kferlo0",label:"Wrapper"})("position:absolute;padding:4px 4px 6px 4px;;",(function(e){var t=e.theme,n=t.constants,r=t.popup,o=e.isScrolling;return Yl({backgroundColor:n.color.background.primary,color:n.color.text.primary,border:n.border.primary,borderRadius:n.borderRadius.small,boxShadow:n.boxShadow.primary,zIndex:o?0:1,":focus":{outline:"none"}},r.wrapper({theme:n}))}),""),Dc=function(e){return s.createElement(Rc,e)},Rc=Ft("span",{target:"e25spod0",label:"StyledSpace"})("display:inline-block;",(function(e){var t=e.size;return{width:"".concat(t,"px")}}),"");function Lc(){var e,t,n=(e=["\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Lc=function(){return n},n}Dc.propTypes={size:i.number},Dc.defaultProps={size:2};var Pc,Fc=j(Lc()),zc=(Ft("div",{target:"eqpctpo0",label:"StyledSpinner"})({animation:"".concat(Fc," 1s linear infinite"),borderRadius:"50%",borderStyle:"solid",borderWidth:4,height:24,width:24},(function(e){var t=e.theme,n=t.constants,r=t.spinner,o=void 0===r?{}:r;return Yl({borderColor:n.color.border.primary,borderTopColor:n.color.highlight.primary},o({theme:n}))}),""),function(e){return s.createElement(Ic,e)}),Ic=Ft("div",{target:"e18lhlm00",label:"StyledSeparator"})("display:inline-block;height:24px;margin:0px 4px;width:1px;",(function(e){var t=e.theme,n=t.constants,r=t.separator;return Yl({backgroundColor:n.color.border.secondary},r({theme:n}))}),""),$c=function(e){var t,r=e.options,o=e.selectedBlockType,i=e.onChange,s=a.useState(void 0),l=s[0],c=s[1];return Promise.resolve().then((function(){return n("mB1e")})).then((function(e){var t=e.default.Select;c(t)})),t=o?r.find((function(e){return e.value.blockType===o})):{value:void 0,label:"Other"},l?a.createElement(ic,{info:"Block type"},a.createElement(l,{height:28,width:112,onChange:function(e){return i(e.value.blockType)},options:r,selectedOption:t,isSearchable:!1})):a.createElement(Bc,null)},Bc=zt.div(Pc||(Pc=u(["\n  height: ","px;\n  width: ","px;\n"],["\n  height: ","px;\n  width: ","px;\n"])),28,112),_c=function(){for(var e=navigator.userAgent,t=[{s:"Windows",r:/Win16/},{s:"Windows",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows",r:/(Windows 98|Win98)/},{s:"Windows",r:/Windows CE/},{s:"Windows",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows",r:/Windows NT 5.2/},{s:"Windows",r:/Windows NT 6.0/},{s:"Windows",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/}],n=Object.keys(t),r=0;r<t.length;r+=1){var o=t[n[r]];if(o.r.test(e))return o.s}return""},jc=function(e){var t="Windows"===_c()?"^":"\u2318",n="";return e.label&&(n=e.label+" "),(n=(n=(n+=e.key).replace("Mod",t)).replace("Shift","\u21e7")).replace("Alt","\u2325")},Wc=function(e){var t=e.options,n=e.selectedBlockType,r=e.onChange;return a.createElement(a.Fragment,null,t.map((function(e,o){var i=e.value.blockType===n;return a.createElement(a.Fragment,{key:"block-btn-"+e.value.tag},a.createElement(lc,{name:e.value.blockType,onClick:function(e){return r(e.currentTarget.getAttribute("name"))},selected:i,title:jc(po[e.value.tag])},a.createElement(fc,{name:e.value.tag,selected:i})),o<t.length-1&&a.createElement(Dc,null))})))},Vc=[{value:{blockType:"paragraph",tag:"p",keymap:jc({key:po.p.key})},label:"Normal"},{value:{blockType:"heading-1",tag:"h1",keymap:jc({key:po.h1.key})},label:"Heading 1"},{value:{blockType:"heading-2",tag:"h2",keymap:jc({key:po.h2.key})},label:"Heading 2"},{value:{blockType:"heading-3",tag:"h3",keymap:jc({key:po.h3.key})},label:"Heading 3"},{value:{blockType:"heading-4",tag:"h4",keymap:jc({key:po.h4.key})},label:"Heading 4"},{value:{blockType:"heading-5",tag:"h5",keymap:jc({key:po.h5.key})},label:"Heading 5"},{value:{blockType:"heading-6",tag:"h6",keymap:jc({key:po.h6.key})},label:"Heading 6"}],qc={KeymapInfo:po,keymaps:function(){return{"Mod-Alt-0":function(e,t){return co("paragraph")(e,t)},"Mod-Alt-1":function(e,t){return co("heading",{level:1})(e,t)},"Mod-Alt-2":function(e,t){return co("heading",{level:2})(e,t)},"Mod-Alt-3":function(e,t){return co("heading",{level:3})(e,t)},"Mod-Alt-4":function(e,t){return co("heading",{level:4})(e,t)},"Mod-Alt-5":function(e,t){return co("heading",{level:5})(e,t)},"Mod-Alt-6":function(e,t){return co("heading",{level:6})(e,t)}}},name:"block",pmPlugin:ho,schema:Hl,styles:function(){return"\n  p {\n    display: block;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n  }\n  h1 {\n    display: block;\n    font-size: 2em;\n    margin-block-start: 0.67em;\n    margin-block-end: 0.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n  }\n  h2 {\n    display: block;\n    font-size: 1.5em;\n    margin-block-start: 0.83em;\n    margin-block-end: 0.83em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n  }\n  h3 {\n    display: block;\n    font-size: 1.17em;\n    margin-block-start: 1em;\n    margin-block-end: 1em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n  }\n  h4 {\n    display: block;\n    margin-block-start: 1.33em;\n    margin-block-end: 1.33em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n  }\n  h5 {\n    display: block;\n    font-size: 0.83em;\n    margin-block-start: 1.67em;\n    margin-block-end: 1.67em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n  }\n  h6 {\n    display: block;\n    font-size: 0.67em;\n    margin-block-start: 2.33em;\n    margin-block-end: 2.33em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n    font-weight: bold;\n  }\n"},toolbarComponent:function(e){var t=qe().pmstate;if(!t)return null;var n=t.pmview;if(!n)return null;var r=function(e){var t,r;"paragraph"===e?r=e:(t={level:e.split("-")[1]},r="heading");var o=n.state,i=n.dispatch,a=o.schema.nodes[r];so(a,t)(o,i),n.focus()},o=function(){var e=n.state,t=uo.getState(e),r=t&&t.selectedBlock;if(r){var o=r.type,i=r.attrs;return i&&i.level?o+"-"+i.level:o}},i=e.config,s=i.grouped,l=i.options,c=Vc;return l&&(c=Vc.filter((function(e){return l.indexOf(e.value.tag)>=0}))),!1!==s?a.createElement($c,{onChange:r,selectedBlockType:o(),options:c}):a.createElement(Wc,{onChange:r,selectedBlockType:o(),options:c})}},Hc=K((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++){var i=A(e[r])(n.selection);if(i){var a=u(i.pos,t)(n);if(a!==n)return a}}return n}},r=function(e){return function(t){if(l(t.selection)){var n=t.selection,r=n.$from,o=n.$to;if(e instanceof Un.Fragment&&r.parent.canReplace(r.index(),r.indexAfter(),e)||r.parent.canReplaceWith(r.index(),r.indexAfter(),e.type))return p(t.replaceWith(r.pos,o.pos,e).setSelection(new ro.NodeSelection(t.doc.resolve(r.pos))))}return t}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var r=ro.Selection.findFrom(n.doc.resolve(e),t,!0);return r?n.setSelection(r):n}},i=function(e){return e.type&&e.type.spec.selectable},a=function(e,t,n){return function(e){return i(e)&&e.type.isLeaf}(e)?n.setSelection(new ro.NodeSelection(n.doc.resolve(t))):o(t)(n)},s=function(e,t,o){return function(s){var c="number"==typeof t,u=s.selection.$from,d=c?s.doc.resolve(t):l(s.selection)?s.doc.resolve(u.pos+1):u,f=d.parent;if(l(s.selection)&&o&&s!==(s=r(e)(s)))return s;if(v(f)&&s!==(s=n(f.type,e)(s))){var h=i(e)?d.before(d.depth):d.pos;return a(e,h,s)}if(m(d,e)){s.insert(d.pos,e);var g=c?d.pos:i(e)?s.selection.$anchor.pos-1:s.selection.$anchor.pos;return p(a(e,g,s))}for(var y=d.depth;y>0;y--){var b=d.after(y),w=s.doc.resolve(b);if(m(w,e))return s.insert(b,e),p(a(e,b,s))}return s}},l=function(e){return e instanceof ro.NodeSelection},c=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},p=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},u=function(e,t){return function(n){var r=n.doc.nodeAt(e),i=n.doc.resolve(e);if(d(i,t)){var a=(n=n.replaceWith(e,e+r.nodeSize,t)).selection.$from.pos-1;return n=o(Math.max(a,0),-1)(n),n=o(n.selection.$from.start())(n),p(n)}return n}},d=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof Un.Fragment?t:Un.Fragment.from(t))},f=function(e){return function(t){var n=t.doc.nodeAt(e);return p(t.delete(e,e+n.nodeSize))}},h=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t={};return Object.keys(e.nodes).forEach((function(n){var r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t},m=function(e,t){var n=e.index();return t instanceof Un.Fragment?e.parent.canReplace(n,n,t):t instanceof Un.Node&&e.parent.canReplaceWith(n,n,t.type)},v=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.createChecked(null,t):e.createAndFill()},y=function(e){return function(t){for(var n=_l.TableMap.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),o=n.cellsInRect(e),i=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),a=0,s=o.length;a<s;a++)if(-1===i.indexOf(o[a]))return!1;return!0}},b=function(e){return e[0].map((function(t,n){return e.map((function(e){return e[n]}))}))},w=function(e){for(var t=_l.TableMap.get(e),n=[],r=0;r<t.height;r++){for(var o=[],i={},a=0;a<t.width;a++){var s=t.map[r*t.width+a],l=e.nodeAt(s),c=t.findCell(s);i[s]||c.top!==r?o.push(null):(i[s]=!0,o.push(l))}n.push(o)}return n},k=function(e,t){for(var n=[],r=_l.TableMap.get(e),o=0;o<r.height;o++){for(var i=e.child(o),a=[],s=0;s<r.width;s++)if(t[o][s]){var l=r.map[o*r.width+s],c=t[o][s],p=e.nodeAt(l).type.createChecked(Object.assign({},c.attrs),c.content,c.marks);a.push(p)}n.push(i.type.createChecked(i.attrs,a,i.marks))}return e.type.createChecked(e.attrs,n,e.marks)},C=function(e,t,n,r){var o=t[0]>n[0]?-1:1,i=e.splice(t[0],t.length),a=i.length%2==0?1:0,s=void 0;return s=-1===r&&1===o?n[0]-1:1===r&&-1===o?n[n.length-1]-a+1:-1===o?n[0]:n[n.length-1]-a,e.splice.apply(e,[s,0].concat(i)),e},x=function(e,t,n,r){var o="Target position is invalid, you can't move the "+r+" "+e+" to "+t+", the target can't be split. You could use tryToFit option.";if(1===(e>t?-1:1)){if(-1!==n.slice(0,n.length-1).indexOf(t))throw new Error(o)}else if(-1!==n.slice(1).indexOf(t))throw new Error(o);return!0},S=function(e){return function(t){var n=t.$from;return M(n,e)}},M=function(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},E=function(e,t){return function(n){var r=S(e)(n);if(r)return N(r.pos,t)}},O=function(e){return function(t){return!!S(e)(t)}},A=function(e){return function(t){return S((function(t){return c(e,t)}))(t)}},T=function(e){var t=e.$from.nodeBefore,n=ro.Selection.findFrom(e.$from,-1);if(n&&t){var r=A(t.type)(n);return r?r.pos:n.$from.pos}},N=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},D=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,r){if(n.push({node:e,pos:r}),!t)return!1})),n},R=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return D(e,n).filter((function(e){return t(e.node)}))},L=function(e,t,n){return R(e,(function(e){return e.type===t}),n)},P=function(e){return S((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},F=function(e){return e instanceof _l.CellSelection},z=function(e){if(F(e)){var t=_l.TableMap.get(e.$anchorCell.node(-1));return y({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},I=function(e){return function(t){var n=P(t);if(n){var r=_l.TableMap.get(n.node);return(Array.isArray(e)?e:Array.from([e])).reduce((function(e,t){if(t>=0&&t<=r.width-1){var o=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},$=function(e){return function(t){var n=P(t);if(n){var r=_l.TableMap.get(n.node);return(Array.isArray(e)?e:Array.from([e])).reduce((function(e,t){if(t>=0&&t<=r.height-1){var o=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},B=function(e){return function(t,n){return function(r){var o=P(r.selection),i="row"===e;if(o){var a=_l.TableMap.get(o.node);if(t>=0&&t<(i?a.height:a.width)){var s=i?0:t,l=i?t:0,c=i?a.width:t+1,u=i?t+1:a.height;if(n){var d=J(r.selection.$from);if(!d)return r;var f=a.findCell(d.pos-o.start);i?(l=Math.min(l,f.top),u=Math.max(u,f.bottom)):(s=Math.min(s,f.left),c=Math.max(c,f.right))}var h=a.cellsInRect({left:s,top:l,right:i?c:s+1,bottom:i?l+1:u}),m=u-l==1?h:a.cellsInRect({left:i?s:c-1,top:i?u-1:l,right:c,bottom:u}),v=o.start+h[0],g=o.start+m[m.length-1],y=r.doc.resolve(v),b=r.doc.resolve(g);return p(r.setSelection(new _l.CellSelection(b,y)))}}return r}}},_=B("column"),j=B("row"),W=function(e){return function(t){var n=P(t.selection);if(n){var r=_l.TableMap.get(n.node);if(e>=0&&e<=r.height){for(var o=n.node,i=h(o.type.schema),a=n.start,l=0;l<e+1;l++)a+=o.child(l).nodeSize;var c=o.child(e),p=[],u=0;if(c.forEach((function(e){1===e.attrs.rowspan&&(u+=e.attrs.colspan,p.push(i[e.type.spec.tableRole].createAndFill(e.attrs,e.marks)))})),u<r.width){for(var d=[],f=function(n){var r=X(n,(function(t,r){var o=t.node.attrs.rowspan;return o>1&&n+o>e}))(t);d.push.apply(d,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r))},m=e;m>=0;m--)f(m);d.length&&d.forEach((function(e){t=K(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return s(i.row.create(c.attrs,p),a)(t)}}return t}},V=function(e){return function(t){var n=P(t.selection);if(n){var r=_l.TableMap.get(n.node);if(0===e&&1===r.width)return H(t);if(e>=0&&e<=r.width)return _l.removeColumn(t,{map:r,tableStart:n.start,table:n.node},e),p(t)}return t}},q=function(e){return function(t){var n=P(t.selection);if(n){var r=_l.TableMap.get(n.node);if(0===e&&1===r.height)return H(t);if(e>=0&&e<=r.height)return _l.removeRow(t,{map:r,tableStart:n.start,table:n.node},e),p(t)}return t}},H=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--)if("table"===t.node(n).type.spec.tableRole)return p(e.delete(t.before(n),t.after(n)));return e},K=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,null,Object.assign({},e.node.attrs,t)),p(n)):n}},J=function(e){return M(e,(function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)}))},U=function(e){var t=J(e);if(t){var n=function(e){return M(e,(function(e){return e.type.spec.tableRole&&/table/i.test(e.type.spec.tableRole)}))}(e),r=_l.TableMap.get(n.node),o=t.pos-n.start;return r.rectBetween(o,o)}},X=function(e,t){return function(n){var r=[],o=$(e)(n.selection);if(o)for(var i=o.length-1;i>=0;i--)t(o[i],n)&&r.push(o[i]);return r}},Z=function(e){return function(t){for(var n=e,r=e,o=function(e){var o=I(e)(t.selection);o&&o.forEach((function(t){var o=t.node.attrs.colspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;i>=0;i--)o(i);var a=function(e){var n=I(e)(t.selection);n&&n.forEach((function(t){var n=t.node.attrs.colspan+e-1;t.node.attrs.colspan>1&&n>r&&(r=n)}))};for(i=e;i<=r;i++)a(i);var s=[];for(i=n;i<=r;i++){var l=I(i)(t.selection);l&&l.length&&s.push(i)}n=s[0],r=s[s.length-1];for(var c=I(n)(t.selection),p=$(0)(t.selection),u=t.doc.resolve(c[c.length-1].pos),d=void 0,f=r;f>=n;f--){var h=I(f)(t.selection);if(h&&h.length){for(var m=p.length-1;m>=0;m--)if(p[m].pos===h[0].pos){d=h[0];break}if(d)break}}return{$anchor:u,$head:t.doc.resolve(d.pos),indexes:s}}},G=function(e){return function(t){for(var n=e,r=e,o=function(e){$(e)(t.selection).forEach((function(t){var o=t.node.attrs.rowspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;i>=0;i--)o(i);var a=function(e){$(e)(t.selection).forEach((function(t){var n=t.node.attrs.rowspan+e-1;t.node.attrs.rowspan>1&&n>r&&(r=n)}))};for(i=e;i<=r;i++)a(i);var s=[];for(i=n;i<=r;i++){var l=$(i)(t.selection);l&&l.length&&s.push(i)}n=s[0],r=s[s.length-1];for(var c=$(n)(t.selection),p=I(0)(t.selection),u=t.doc.resolve(c[c.length-1].pos),d=void 0,f=r;f>=n;f--){var h=$(f)(t.selection);if(h&&h.length){for(var m=p.length-1;m>=0;m--)if(p[m].pos===h[0].pos){d=h[0];break}if(d)break}}return{$anchor:u,$head:t.doc.resolve(d.pos),indexes:s}}};t.isNodeSelection=l,t.canInsert=m,t.convertTableNodeToArrayOfRows=w,t.convertArrayOfRowsToTableNode=k,t.findParentNode=S,t.findParentNodeClosestToPos=M,t.findParentDomRef=E,t.hasParentNode=O,t.findParentNodeOfType=A,t.findParentNodeOfTypeClosestToPos=function(e,t){return M(e,(function(e){return c(t,e)}))},t.hasParentNodeOfType=function(e){return function(t){return O((function(t){return c(e,t)}))(t)}},t.findParentDomRefOfType=function(e,t){return function(n){return E((function(t){return c(e,t)}),t)(n)}},t.findSelectedNodeOfType=function(e){return function(t){if(l(t)){var n=t.node,r=t.$from;if(c(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},t.findPositionOfNodeBefore=T,t.findDomRefAtPos=N,t.flatten=D,t.findChildren=R,t.findTextNodes=function(e,t){return R(e,(function(e){return e.isText}),t)},t.findInlineNodes=function(e,t){return R(e,(function(e){return e.isInline}),t)},t.findBlockNodes=function(e,t){return R(e,(function(e){return e.isBlock}),t)},t.findChildrenByAttr=function(e,t,n){return R(e,(function(e){return!!t(e.attrs)}),n)},t.findChildrenByType=L,t.findChildrenByMark=function(e,t,n){return R(e,(function(e){return t.isInSet(e.marks)}),n)},t.contains=function(e,t){return!!L(e,t).length},t.findTable=P,t.isCellSelection=F,t.getSelectionRect=function(e){if(F(e)){var t=e.$anchorCell.start(-1);return _l.TableMap.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},t.isColumnSelected=function(e){return function(t){if(F(t)){var n=_l.TableMap.get(t.$anchorCell.node(-1));return y({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1}},t.isRowSelected=function(e){return function(t){if(F(t)){var n=_l.TableMap.get(t.$anchorCell.node(-1));return y({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},t.isTableSelected=z,t.getCellsInColumn=I,t.getCellsInRow=$,t.getCellsInTable=function(e){var t=P(e);if(t){var n=_l.TableMap.get(t.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map((function(e){var n=t.node.nodeAt(e),r=e+t.start;return{pos:r,start:r+1,node:n}}))}},t.selectColumn=_,t.selectRow=j,t.selectTable=function(e){var t=P(e.selection);if(t){var n=_l.TableMap.get(t.node).map;if(n&&n.length){var r=t.start+n[0],o=t.start+n[n.length-1],i=e.doc.resolve(r),a=e.doc.resolve(o);return p(e.setSelection(new _l.CellSelection(a,i)))}}return e},t.emptyCell=function(e,t){return function(n){if(e){var r=h(t).cell.createAndFill().content;if(!e.node.content.eq(r))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,r),p(n)}return n}},t.addColumnAt=function(e){return function(t){var n=P(t.selection);if(n){var r=_l.TableMap.get(n.node);if(e>=0&&e<=r.width)return p(_l.addColumn(t,{map:r,tableStart:n.start,table:n.node},e))}return t}},t.moveRow=function(e,t,n){return function(r){var o=Object.assign({tryToFit:!1,direction:0},n),i=P(r.selection);if(!i)return r;var a=G(e)(r).indexes,s=G(t)(r).indexes;if(a.indexOf(t)>-1)return r;!o.tryToFit&&s.length>1&&x(e,t,s,"row");var l=function(e,t,n,r){var o=w(e.node);return o=C(o,t,n,r),k(e.node,o)}(i,a,s,o.direction);return p(r).replaceWith(i.pos,i.pos+i.node.nodeSize,l)}},t.moveColumn=function(e,t,n){return function(r){var o=Object.assign({tryToFit:!1,direction:0},n),i=P(r.selection);if(!i)return r;var a=Z(e)(r).indexes,s=Z(t)(r).indexes;if(a.indexOf(t)>-1)return r;!o.tryToFit&&s.length>1&&x(e,t,s,"column");var l=function(e,t,n,r){var o=b(w(e.node));return o=C(o,t,n,r),o=b(o),k(e.node,o)}(i,a,s,o.direction);return p(r).replaceWith(i.pos,i.pos+i.node.nodeSize,l)}},t.addRowAt=function(e,t){return function(n){var r=P(n.selection);if(r){var o=_l.TableMap.get(r.node),i=e-1;if(t&&i>=0)return p(W(i)(n));if(e>=0&&e<=o.height)return p(_l.addRow(n,{map:o,tableStart:r.start,table:r.node},e))}return n}},t.cloneRowAt=W,t.removeColumnAt=V,t.removeRowAt=q,t.removeTable=H,t.removeSelectedColumns=function(e){var t=e.selection;if(z(t))return H(e);if(F(t)){var n=P(t);if(n){var r=_l.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.left&&o.right==r.width)return!1;for(var i=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),a=i.right-1;_l.removeColumn(e,i,a),a!==i.left;a--)i.table=i.tableStart?e.doc.nodeAt(i.tableStart-1):e.doc,i.map=_l.TableMap.get(i.table);return p(e)}}return e},t.removeSelectedRows=function(e){var t=e.selection;if(z(t))return H(e);if(F(t)){var n=P(t);if(n){var r=_l.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.top&&o.bottom==r.height)return!1;for(var i=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),a=i.bottom-1;_l.removeRow(e,i,a),a!==i.top;a--)i.table=i.tableStart?e.doc.nodeAt(i.tableStart-1):e.doc,i.map=_l.TableMap.get(i.table);return p(e)}}return e},t.removeColumnClosestToPos=function(e){return function(t){var n=U(e);return n?V(n.left)(o(e.pos)(t)):t}},t.removeRowClosestToPos=function(e){return function(t){var n=U(e);return n?q(n.top)(o(e.pos)(t)):t}},t.forEachCellInColumn=function(e,t,n){return function(r){var o=I(e)(r.selection);if(o){for(var i=o.length-1;i>=0;i--)r=t(o[i],r);if(n){var a=r.doc.resolve(r.mapping.map(o[o.length-1].pos));r.setSelection(ro.Selection.near(a))}return p(r)}return r}},t.forEachCellInRow=function(e,t,n){return function(r){var o=$(e)(r.selection);if(o){for(var i=o.length-1;i>=0;i--)r=t(o[i],r);if(n){var a=r.doc.resolve(r.mapping.map(o[o.length-1].pos));r.setSelection(ro.Selection.near(a))}}return r}},t.setCellAttrs=K,t.createTable=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=h(e),a=i.cell,s=i.header_cell,l=i.row,c=i.table,p=[],u=[],d=0;d<n;d++)p.push(g(a,o)),r&&u.push(g(s,o));for(var f=[],m=0;m<t;m++)f.push(l.createChecked(null,r&&0===m?u:p));return c.createChecked(null,f)},t.findCellClosestToPos=J,t.findCellRectClosestToPos=U,t.getSelectionRangeInColumn=Z,t.getSelectionRangeInRow=G,t.removeParentNodeOfType=function(e){return function(t){var n=A(e)(t.selection);return n?f(n.pos)(t):t}},t.replaceParentNodeOfType=n,t.removeSelectedNode=function(e){if(l(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return p(e.delete(t,n))}return e},t.replaceSelectedNode=r,t.setTextSelection=o,t.safeInsert=s,t.setParentNodeMarkup=function(e,t,n,r){return function(o){var i=A(e)(o.selection);return i?p(o.setNodeMarkup(i.pos,t,Object.assign({},i.node.attrs,n),r)):o}},t.selectParentNodeOfType=function(e){return function(t){if(!l(t.selection)){var n=A(e)(t.selection);if(n)return p(t.setSelection(ro.NodeSelection.create(t.doc,n.pos)))}return t}},t.removeNodeBefore=function(e){var t=T(e.selection);return"number"==typeof t?f(t)(e):e}}));H(Hc),Hc.isNodeSelection,Hc.canInsert,Hc.convertTableNodeToArrayOfRows,Hc.convertArrayOfRowsToTableNode,Hc.findParentNode,Hc.findParentNodeClosestToPos,Hc.findParentDomRef,Hc.hasParentNode;var Kc,Jc,Uc=Hc.findParentNodeOfType,Xc=(Hc.findParentNodeOfTypeClosestToPos,Hc.hasParentNodeOfType,Hc.findParentDomRefOfType,Hc.findSelectedNodeOfType),Zc=(Hc.findPositionOfNodeBefore,Hc.findDomRefAtPos,Hc.flatten,Hc.findChildren,Hc.findTextNodes,Hc.findInlineNodes,Hc.findBlockNodes,Hc.findChildrenByAttr,Hc.findChildrenByType,Hc.findChildrenByMark,Hc.contains,Hc.findTable,Hc.isCellSelection,Hc.getSelectionRect,Hc.isColumnSelected,Hc.isRowSelected,Hc.isTableSelected,Hc.getCellsInColumn,Hc.getCellsInRow,Hc.getCellsInTable,Hc.selectColumn,Hc.selectRow,Hc.selectTable,Hc.emptyCell,Hc.addColumnAt,Hc.moveRow,Hc.moveColumn,Hc.addRowAt,Hc.cloneRowAt,Hc.removeColumnAt,Hc.removeRowAt,Hc.removeTable,Hc.removeSelectedColumns,Hc.removeSelectedRows,Hc.removeColumnClosestToPos,Hc.removeRowClosestToPos,Hc.forEachCellInColumn,Hc.forEachCellInRow,Hc.setCellAttrs,Hc.createTable,Hc.findCellClosestToPos,Hc.findCellRectClosestToPos,Hc.getSelectionRangeInColumn,Hc.getSelectionRangeInRow,Hc.removeParentNodeOfType,Hc.replaceParentNodeOfType,Hc.removeSelectedNode,Hc.replaceSelectedNode,Hc.setTextSelection,Hc.safeInsert,Hc.setParentNodeMarkup,Hc.selectParentNodeOfType,Hc.removeNodeBefore,function(e){var t=e.selection,n=e.schema.nodes.blockquote;return Uc(n)(t)}),Gc=new no("blockquote"),Yc=new Qr({key:Gc,state:{init:function(e,t){return{blockquoteNode:Zc(t)}},apply:function(e,t,n,r){return{blockquoteNode:Zc(r)}}}}),Qc=function(e,t){return Gc.getState(e).blockquoteNode?function(e,t){var n=e.tr,r=Gc.getState(e).blockquoteNode,o=n.doc.resolve(r.start),i=n.doc.resolve(r.start+r.node.nodeSize-r.depth-1),a=o.blockRange(i);if(a){var s=dr(a);null!=s&&t(n.lift(a,s).scrollIntoView())}return!0}(e,t):function(e,t){var n=e.tr,r=e.selection,o=e.schema.nodes,i=o.blockquote,a=o.paragraph,s=r.$from,l=r.$to,c=s.blockRange(l);if(c){var p=c&&fr(c,i);p&&n.wrap(c,p).scrollIntoView()}else n.replaceRangeWith(l.pos+1,l.pos+1,i.createAndFill(a.create())),n.setSelection(Pr.near(n.doc.resolve(e.selection.to+1))).scrollIntoView();return t(n),!0}(e,t)},ep={insertBlockquote:{key:"Mod-'",label:"Blockquote"}},tp={KeymapInfo:ep,keymaps:function(){return{Enter:function(e,t){return function(e,t){var n=e.tr,r=e.selection;return!!Gc.getState(e).blockquoteNode&&(t(n.split(r.$to.pos)),!0)}(e,t)},"Mod-'":function(e,t){return Qc(e,t)}}},name:"blockquote",pmPlugin:Yc,schema:{nodes:{blockquote:ql.blockquote}},styles:function(){return"\n  .ProseMirror blockquote {\n    box-sizing: border-box;\n    padding-left: 16px;\n    border-left: 2px solid rgb(223, 225, 230);\n    margin: 1.143rem 0px 0px;\n  }\n"},toolbarComponent:function(){var e=qe().pmstate;if(!e)return null;var t=e.pmview;if(!t)return null;var n,r=(n=t.state,!!Gc.getState(n).blockquoteNode);return a.createElement(lc,{onClick:function(){var e=t.state,n=t.dispatch;Qc(e,n)},selected:r,title:jc(ep.insertBlockquote)},a.createElement(fc,{name:"blockquote",selected:r}))}},np=new no("common"),rp={name:"common",keymaps:function(){return{"Shift-Enter":function(e,t){return function(e,t){var n=e.schema.nodes.hardBreak;t(e.tr.replaceSelectionWith(n.create()))}(e,t)},"Mod-a":function(e,t){var n=new Ir(Pr.atStart(e.doc).$anchor,Pr.atEnd(e.doc).$head);return t(e.tr.setSelection(n)),!0}}},KeymapInfo:{help:{key:"Shift-Enter",label:"Soft newline"}},pmPlugin:new Qr({key:np,state:{init:function(){return{editorHasFocus:!1,hideInlineToolbar:!1}},apply:function(e,t){var n=c({},t),r=e.getMeta("editor-focused");return void 0!==r&&(n.editorHasFocus=r),n.hideInlineToolbar=e.getMeta("hide-all-popups"),n}},props:{handleDOMEvents:{focus:function(e){var t=e.state;return(0,e.dispatch)(t.tr.setMeta("editor-focused",!0)),!1},blur:function(e){var t=e.state;return(0,e.dispatch)(t.tr.setMeta("editor-focused",!1)),!1}},decorations:function(e){var t=np.getState(e),n=t.editorHasFocus,r=t.hideInlineToolbar;if(!e.selection.empty&&!r){var o;o=n?"nib-selection-focus-marker":"nib-selection-blur-marker";var i=e.selection,a=i.$from,s=i.$to;return ss.create(e.doc,[ns.inline(a.pos,s.pos,{class:o})])}},handleKeyDown:function(e,t){var n=e.state,r=e.dispatch;return"Escape"===t.key&&r(n.tr.setMeta("hide-all-popups",!0)),!1},handleClickOn:function(e){var t=e.state;return(0,e.dispatch)(t.tr.setMeta("editor-clicked",!0)),!1}}}),schema:{nodes:{doc:ql.doc,hardBreak:ql.hardBreak,paragraph:ql.paragraph,text:ql.text}},styles:function(e){return"\n  .nib-selection-blur-marker {\n    background-color: "+e.constants.color.blurMarker+";\n  }\n"}},op=new no("color"),ip=function(e){var t=e.selection,n=t.$from,r=t.$to,o=[];t.empty&&(o=p(e.storedMarks||r.marks()));var i=e.schema.marks,a=i.textColor,s=i.backgroundColor;return e.doc.nodesBetween(n.pos,r.pos,(function(e){e.marks&&(o=p(o,e.marks))})),o.filter((function(e){return e.type===a||e.type===s})).reduce((function(e,t){var n;return c(c({},e),((n={})[t.type.name]=t,n))}),{})},ap=new Qr({key:op,state:{init:function(e,t){return{activeColorMarks:ip(t)}},apply:function(e,t,n,r){var o=n.storedMarks&&n.storedMarks.length,i=r.storedMarks&&r.storedMarks.length;return e.docChanged||n.selection!==r.selection||o!==i?{activeColorMarks:ip(r)}:t}}}),sp={marks:{backgroundColor:wo.backgroundColor,textColor:wo.textColor}},lp=zt.div(Kc||(Kc=u(["\n  display: flex;\n"],["\n  display: flex;\n"]))),cp=zt(lc)(Jc||(Jc=u(["\n  background-color: ",";\n  border: ",";\n  box-shadow: ",";\n  height: 24px;\n  margin-right: 4px;\n  margin: 2px;\n  padding: 0;\n  width: 24px;\n"],["\n  background-color: ",";\n  border: ",";\n  box-shadow: ",";\n  height: 24px;\n  margin-right: 4px;\n  margin: 2px;\n  padding: 0;\n  width: 24px;\n"])),(function(e){return e.color}),(function(e){return e.selected?"0.5px solid white":"none"}),(function(e){var t=e.color;return e.selected?"0px 0px 0px 0.5px "+t:"none"})),pp={name:"color",pmPlugin:ap,schema:sp,toolbarComponent:function(e){var t=e.editorWrapper,n=a.useState(),r=n[0],o=n[1],i=a.useState(),s=i[0],l=i[1],c=a.useRef(),p=a.useRef(),u=je().config,d=qe().pmstate;if(!d)return null;var f=d.pmview;if(!f)return null;var h=function(){var e=f.state,t=op.getState(e);return t&&t.activeColorMarks},m=function(e){var t=e.currentTarget.getAttribute("name"),n=f.state,r=f.dispatch,o=n.schema,i=n.selection,a=n.tr,l=i.$from,c=i.$to,p=o.marks[s],u=h();if(u[s]&&u[s].attrs.color===t)a.removeMark(l.pos,c.pos,p).removeStoredMark(p);else{var d=p.create({color:t});a.addMark(l.pos,c.pos,d).setStoredMarks([d])}r(a),g(e)},v=function(e){var t=e.currentTarget.getAttribute("name");t&&s!==t?(o("textColor"===t?c:p),l(t)):(o(void 0),l(void 0))},g=function(e){c.current.contains(e.target)||p.current.contains(e.target)||(o(void 0),l(void 0))},y=r&&r.current,b=h(),w=b.textColor&&b.textColor.attrs.color,k=b.backgroundColor&&b.backgroundColor.attrs.color,C=u.plugins.color.colors;return a.createElement(a.Fragment,null,a.createElement(lc,{forwardRef:c,name:"textColor",onClick:v,selected:!!b.textColor,title:"Text Color"},a.createElement(fc,{name:"textColor",selected:!!b.textColor,selectedColor:w})),a.createElement(lc,{forwardRef:p,name:"backgroundColor",onClick:v,selected:!!b.backgroundColor,title:"Background Color"},a.createElement(fc,{name:"backgroundColor",selected:!!b.backgroundColor,selectedColor:k})),y&&a.createElement(Tc,{editorWrapper:t,marker:y,onClickInsideEditor:g,onClickOutsideEditor:g,onEscKeyPress:g,render:function(){return a.createElement(lp,null,C.map((function(e){return a.createElement(cp,{key:s+"-"+e,name:e,color:e,onClick:m,selected:"backgroundColor"===s&&k===e||"textColor"===s&&w===e})})))}}))}},up={help:{key:"Mod-/",label:"Help"}},dp=function(){};dp.prototype.append=function(e){return e.length?(e=dp.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},dp.prototype.prepend=function(e){return e.length?dp.from(e).append(this):this},dp.prototype.appendInner=function(e){return new hp(this,e)},dp.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?dp.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},dp.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},dp.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},dp.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},dp.from=function(e){return e instanceof dp?e:e&&e.length?new fp(e):dp.empty};var fp=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(dp);dp.empty=new fp([]);var hp=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(dp),mp=dp,vp=K((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=mp)&&"object"==typeof n&&"default"in n?n.default:n,o=function(e,t){this.items=e,this.eventCount=t};o.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,a,s=this.items.length;;s--)if(this.items.get(s-1).selection){--s;break}t&&(r=this.remapping(s,this.items.length),a=r.maps.length);var l,c,p=e.tr,u=[],d=[];return this.items.forEach((function(e,t){if(!e.step)return r||(r=n.remapping(s,t+1),a=r.maps.length),a--,void d.push(e);if(r){d.push(new i(e.map));var f,h=e.step.map(r.slice(a));h&&p.maybeStep(h).doc&&(f=p.mapping.maps[p.mapping.maps.length-1],u.push(new i(f,null,null,u.length+d.length))),a--,f&&r.appendMap(f,a)}else p.maybeStep(e.step);return e.selection?(l=r?e.selection.map(r.slice(a)):e.selection,c=new o(n.items.slice(0,s).append(d.reverse().concat(u)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:c,transform:p,selection:l}},o.prototype.addTransform=function(e,t,n,r){for(var a=[],l=this.eventCount,c=this.items,p=!r&&c.length?c.get(c.length-1):null,u=0;u<e.steps.length;u++){var d,f=e.steps[u].invert(e.docs[u]),h=new i(e.mapping.maps[u],f,t);(d=p&&p.merge(h))&&(h=d,u?a.pop():c=c.slice(0,c.length-1)),a.push(h),t&&(l++,t=null),r||(p=h)}var m=l-n.depth;return m>s&&(c=function(e,t){var n;return e.forEach((function(e,r){if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(c,m),l-=m),new o(c.append(a),l)},o.prototype.remapping=function(e,t){var n=new Rr.Mapping;return this.items.forEach((function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)}),e,t),n},o.prototype.addMaps=function(e){return 0==this.eventCount?this:new o(this.items.append(e.map((function(e){return new i(e)}))),this.eventCount)},o.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),a=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach((function(e){e.selection&&l--}),r);var c=t;this.items.forEach((function(t){var r=a.getMirror(--c);if(null!=r){s=Math.min(s,r);var o=a.maps[r];if(t.step){var p=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(a.slice(c+1,r));u&&l++,n.push(new i(o,p,u))}else n.push(new i(o))}}),r);for(var p=[],u=t;u<s;u++)p.push(new i(a.maps[u]));var d=this.items.slice(0,r).append(p).append(n),f=new o(d,l);return f.emptyItemCount()>500&&(f=f.compress(this.items.length-n.length)),f},o.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},o.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,a=[],s=0;return this.items.forEach((function(r,o){if(o>=e)a.push(r),r.selection&&s++;else if(r.step){var l=r.step.map(t.slice(n)),c=l&&l.getMap();if(n--,c&&t.appendMap(c,n),l){var p=r.selection&&r.selection.map(t.slice(n));p&&s++;var u,d=new i(c.invert(),l,p),f=a.length-1;(u=a.length&&a[f].merge(d))?a[f]=u:a.push(d)}}else r.map&&n--}),this.items.length,0),new o(r.from(a.reverse()),s)},o.empty=new o(r.empty,0);var i=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};i.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new i(t.getMap().invert(),t,this.selection)}};var a=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r},s=20;function l(e){var t=[];return e.forEach((function(e,n,r,o){return t.push(r,o)})),t}function c(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function p(e,t,n,r){var o=f(t),i=h.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,o);if(s){var l=s.selection.resolve(s.transform.doc),c=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,o),p=new a(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(l).setMeta(h,{redo:r,historyState:p}).scrollIntoView())}}var u=!1,d=null;function f(e){var t=e.plugins;if(d!=t){u=!1,d=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){u=!0;break}}return u}var h=new ro.PluginKey("history"),m=new ro.PluginKey("closeHistory");t.HistoryState=a,t.closeHistory=function(e){return e.setMeta(m,!0)},t.history=function(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new ro.Plugin({key:h,state:{init:function(){return new a(o.empty,o.empty,null,0)},apply:function(t,n,r){return function(e,t,n,r){var i,s=n.getMeta(h);if(s)return s.historyState;n.getMeta(m)&&(e=new a(e.done,e.undone,null,0));var p=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(p&&p.getMeta(h))return p.getMeta(h).redo?new a(e.done.addTransform(n,null,r,f(t)),e.undone,l(n.mapping.maps[n.steps.length-1]),e.prevTime):new a(e.done,e.undone.addTransform(n,null,r,f(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||p&&!1===p.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new a(e.done.rebased(n,i),e.undone.rebased(n,i),c(e.prevRanges,n.mapping),e.prevTime):new a(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),c(e.prevRanges,n.mapping),e.prevTime);var u=0==e.prevTime||!p&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),d=p?c(e.prevRanges,n.mapping):l(n.mapping.maps[n.steps.length-1]);return new a(e.done.addTransform(n,u?t.selection.getBookmark():null,r,f(t)),o.empty,d,n.time)}(n,r,t,e)}},config:e})},t.redo=function(e,t){var n=h.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&p(n,e,t,!0),!0)},t.redoDepth=function(e){var t=h.getState(e);return t?t.undone.eventCount:0},t.undo=function(e,t){var n=h.getState(e);return!(!n||0==n.done.eventCount)&&(t&&p(n,e,t,!1),!0)},t.undoDepth=function(e){var t=h.getState(e);return t?t.done.eventCount:0}}));H(vp),vp.HistoryState,vp.closeHistory;var gp,yp,bp=vp.history,wp=vp.redo,kp=(vp.redoDepth,vp.undo),Cp=(vp.undoDepth,{redo:{key:"Mod-Shift-Z",label:"Redo"},undo:{key:"Mod-Z",label:"Undo"}}),xp=bp(),Sp={KeymapInfo:Cp,keymaps:function(){return{"Mod-Shift-z":function(e,t){return wp(e,t)},"Mod-z":function(e,t){return kp(e,t)}}},name:"history",pmPlugin:xp,toolbarComponent:function(){var e=qe().pmstate;if(!e)return null;var t=e.pmview;return t?a.createElement(a.Fragment,null,a.createElement(lc,{onClick:function(){var e=t.state,n=t.dispatch;kp(e,n)},title:jc(Cp.undo)},a.createElement(fc,{name:"undo"})),a.createElement(lc,{onClick:function(){var e=t.state,n=t.dispatch;wp(e,n)},title:jc(Cp.redo)},a.createElement(fc,{name:"redo"}))):null}},Mp=function(e){var t=this;this.node=e,this.dom=void 0,this.imageWrapper=void 0,this.image=void 0,this.update=function(){return!0},this.selectNode=function(){t.image&&(t.image.style.outline="2px solid #2962ff")},this.deselectNode=function(){t.image&&(t.image.style.outline="")},this.destroy=function(){var e,n;null===(e=t.imageWrapper)||void 0===e||e.removeChild(t.image),null===(n=t.dom)||void 0===n||n.removeChild(t.imageWrapper)},this.dom=document.createElement("div"),this.dom.className="nib-image-outer-wrapper",this.dom.tabIndex=-1,this.imageWrapper=document.createElement("div"),this.imageWrapper.className="nib-image-wrapper",this.dom.appendChild(this.imageWrapper),this.image=document.createElement("img"),this.image.src=e.attrs.src,this.image.style.height=e.attrs.height,this.imageWrapper.appendChild(this.image)},Ep=new no("image"),Op=new Qr({key:Ep,state:{init:function(){return{showImageModal:!1}},apply:function(e,t,n,r){var o=r.selection,i=r.schema;if(!0===e.getMeta("show-image-modal"))return c(c({},t),{showImageModal:!0});if(!1===e.getMeta("show-image-modal"))return c(c({},t),{showImageModal:!1});var a=i.nodes.image;return Xc(a)(o)?c(c({},t),{isImageSelected:!0}):c(c({},t),{isImageSelected:!1})}},props:{nodeViews:{image:function(e){return new Mp(e)}}}}),Ap=function(e){return Ep.getState(e).isImageSelected},Tp=function(e,t){return!Ap(e)&&(t(e.tr.setMeta("show-image-modal",!0)),!0)},Np={image:{key:"Mod-P",label:"Image"}},Dp={nodes:{image:ql.image}},Rp=function(e){var t=qe().pmstate;if(!t)return null;var n=a.useState(""),r=n[0],o=n[1],i=a.useState(!1),s=i[0],l=i[1],c=function(){if(r){var n=e.hideModal,o=t.pmview,i=o.state,a=o.dispatch,s=i.selection,c=s.$from,p=s.$to,u=i.schema.nodes.image;a(i.tr.replaceRangeWith(c.pos,p.pos,u.create({src:r}))),n(),o.focus()}else l(!0)},p=e.hideModal;return a.createElement(yc,{hideModal:p,title:"Image",render:function(){return a.createElement(Lp,null,a.createElement(Fp,null,"Enter url or upload"),a.createElement(Pp,null,a.createElement(Ip,{placeholder:"Url",autoFocus:!0,value:r,onChange:function(e){return t=e.target.value,o(t),void l(s&&!t);var t},error:s}),a.createElement(zp,{src:r},r&&a.createElement(Bp,{src:r,alt:"uploaded_image"})),a.createElement($p,null,a.createElement(pc,{onClick:c},"Insert"),a.createElement(Dc,{size:16}),a.createElement(pc,{onClick:p},"Cancel"))))}})},Lp=zt.div({},(function(){return{padding:"0px 24px 10px",height:"100%"}})),Pp=zt.div({alignItems:"center",display:"flex",flexDirection:"column",height:"95%"}),Fp=zt.div({},(function(e){return{fontSize:e.theme.constants.fontSize.large}})),zp=zt.span({alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative",height:"55%",width:"35%",minWidth:200,margin:"28px auto 0 auto",padding:20,backgroundRepeat:"no-repeat",backgroundSize:"contain"},(function(e){var t=e.theme;return{border:e.src?"1px dashed "+t.constants.color.highlight.primary:"1px dashed "+t.constants.color.border.primary}})),Ip=zt(mc)({},(function(){return{width:"75%",maxWidth:400,"> input":{width:"100%",margin:"0 auto"}}})),$p=zt.div({display:"flex",marginTop:20}),Bp=zt.img({height:"auto",width:"auto",maxHeight:"100%",maxWidth:"100%"}),_p={KeymapInfo:Np,keymaps:function(){return{"Mod-p":Tp}},name:"image",schema:Dp,pmPlugin:Op,styles:function(e){var t=e.constants;return"\n  .nib-image-outer-wrapper {\n    display: inline-flex;\n    justify-content: center;\n    width: 100%;\n    &:focus {\n      outline: none;\n    }\n  }\n\n  .nib-image-wrapper {\n    position: relative;\n    display: inline-block;\n    margin: 0 auto;\n    > img {\n      width: auto;\n    }\n  }\n\n  .nib-image-resize-lt {\n    height: 10px;\n    width: 10px;\n\n    position: absolute;\n    left: -5px;\n    top: -5px;\n\n    background-color: "+t.color.highlight.primary+";\n    cursor: nwse-resize;\n  }\n\n  .nib-image-resize-rb {\n    background-color: "+t.color.highlight.primary+";\n    bottom: 0px;\n    cursor: nwse-resize;\n  \n    height: 10px;\n    position: absolute;\n    right: -5px;\n    width: 10px;\n  }\n\n  .nib-image-resize-lb {\n    background-color: "+t.color.highlight.primary+";\n    bottom: 0px;\n    cursor: nesw-resize;\n  \n    height: 10px;\n    left: -5px;\n    position: absolute;\n    width: 10px;\n  }\n\n  .nib-image-resize-rt {\n    background-color: "+t.color.highlight.primary+";\n    cursor: nesw-resize;\n\n    height: 10px;\n    position: absolute;\n    right: -5px;\n    top: -5px;\n    width: 10px;\n  }\n"},toolbarComponent:function(){var e=qe().pmstate;if(!e)return null;var t=e.pmview;if(!t)return null;var n=Ap(t.state);return a.createElement(a.Fragment,null,a.createElement(lc,{disabled:n,onClick:function(){var e=t.state;(0,t.dispatch)(e.tr.setMeta("show-image-modal",!0))},title:jc(Np.image)},a.createElement(fc,{name:"image",selected:n})),Ep.getState(t.state).showImageModal&&a.createElement(Rp,{hideModal:function(){var e=t.state;(0,t.dispatch)(e.tr.setMeta("show-image-modal",!1))}}))}},jp=function(e,t){return function(n,r){var o=n.schema.marks[e];return lo(o,t)(n,r)}},Wp={strong:{key:"Mod-B",label:"Bold"},em:{key:"Mod-I",label:"Italic"},underline:{key:"Mod-U",label:"Underline"},strike:{key:"Mod-Shift-S",label:"Strikethrough"},code:{key:"Mod-Shift-M",label:"Code"}},Vp=new no("inline"),qp=function(e){var t=e.selection,n=t.$from,r=t.$to,o=[];return t.empty&&(o=p(e.storedMarks||r.marks())),e.doc.nodesBetween(n.pos,r.pos,(function(e){e.marks&&(o=p(o,e.marks))})),o},Hp=new Qr({key:Vp,state:{init:function(e,t){return{activeMarks:qp(t)}},apply:function(e,t,n,r){var o=n.storedMarks&&n.storedMarks.length,i=r.storedMarks&&r.storedMarks.length;return e.docChanged||n.selection!==r.selection||o!==i?{activeMarks:qp(r)}:t}}}),Kp={strong:"bold",em:"italic",underline:"underline",strike:"strike",code:"code"},Jp={KeymapInfo:Wp,keymaps:function(){return{"Mod-b":function(e,t){return jp("strong")(e,t)},"Mod-i":function(e,t){return jp("em")(e,t)},"Mod-u":function(e,t){return jp("underline")(e,t)},"Mod-Shift-s":function(e,t){return jp("strike")(e,t)},"Mod-Shift-m":function(e,t){return jp("code")(e,t)}}},name:"inline",pmPlugin:Hp,schema:{marks:{em:wo.em,strike:wo.strike,strong:wo.strong,subsup:wo.subsup,underline:wo.underline,code:wo.code}},styles:function(e){var t=e.constants;return"\n  .ProseMirror code {\n    background-color: "+t.color.background.secondary+";\n    border-radius: "+t.borderRadius.small+";\n    border: "+t.border.light+";\n    color: "+t.color.text.secondary+";\n  }\n"},toolbarComponent:function(e){var t=e.config,n=qe().pmstate;if(!n)return null;var r=n.pmview;if(!r)return null;var o=function(){var e=r.state,t=Vp.getState(e);return t&&t.activeMarks},i=function(e,t){var n=r.state.schema.marks;return e.find((function(e){return e.type===n.subsup&&e.attrs.type===t}))},s=function(e){var t=e.currentTarget.getAttribute("name"),n=r.state,o=r.dispatch,i=n.schema.marks[t];lo(i)(n,o)},l=function(e,t){var n=r.state,a=r.dispatch,s=n.schema,l=n.selection,c=n.tr,p=l.$from,u=l.$to,d=s.marks.subsup;if(i(o(),e))a(c.removeMark(p.pos,u.pos,n.schema.marks.subsup).removeStoredMark(n.schema.marks.subsup));else{i(o(),t)&&c.removeMark(p.pos,u.pos,n.schema.marks.subsup).removeStoredMark(n.schema.marks.subsup);var f=d.create({type:e});c.addMark(p.pos,u.pos,f).setStoredMarks([f]),a(c)}},c=o(),p=i(c,"sup"),u=i(c,"sub"),d=r.state.schema.marks,f=t.options;return a.createElement(a.Fragment,null,["strong","em","underline","strike"].reduce((function(e,t){if(f.indexOf(t)>=0){var n=!!d[t].isInSet(c);e.push(a.createElement(a.Fragment,{key:"inlinestyle-"+t},a.createElement(lc,{name:t,onClick:s,selected:n,title:jc(Wp[t])},a.createElement(fc,{name:Kp[t],selected:n}))))}return e}),[]),f.indexOf("subsup")>=0&&a.createElement(a.Fragment,null,a.createElement(lc,{name:"sup",onClick:function(){l("sup","sub")},selected:p,title:"Superscript"},a.createElement(fc,{name:"sup",selected:p})),a.createElement(lc,{name:"sub",onClick:function(){l("sub","sup")},selected:u,title:"Subscript"},a.createElement(fc,{name:"sub",selected:u}))),f.indexOf("code")>=0&&a.createElement(lc,{name:"code",onClick:function(){var e=n.pmview,t=e.state,r=e.dispatch,i=t.schema,a=t.selection,s=t.tr,l=a.$from,c=a.$to,p=i.marks,u=p.code;if(u.isInSet(o()))s.removeMark(l.pos,c.pos,u).setStoredMarks([]);else{Object.values(p).forEach((function(e){s.removeMark(l.pos,c.pos,e)}));var d=u.create();s.addMark(l.pos,c.pos,d).setStoredMarks([d])}r(s)},selected:!!d.code.isInSet(c),title:jc(Wp.code)},a.createElement(fc,{name:"code",selected:!!d.code.isInSet(c)})))}},Up=new no("link"),Xp=function(e){var t,n=e.selection,r=n.$from,o=n.$to,i=e.schema.marks,a=e.doc,s=r.marks().find((function(e){return e.type===i.link})),l=o.marks().find((function(e){return e.type===i.link}));return a.nodesBetween(r.pos,o.pos,(function(e,n){if(e.marks){var r=e.marks.find((function(e){return e.type===i.link}));r&&(t={from:n,to:n+e.nodeSize,href:r.attrs.href,contained:!s||!l||s===l})}})),t},Zp=new Qr({key:Up,state:{init:function(e,t){return{link:Xp(t)}},apply:function(e,t,n,r){var o=Xp(r),i=e.getMeta("editor-focused");if(void 0!==i)return c(c({},t),{editorFocusState:i});if(e.getMeta("hide-all-popups"))return{link:o,editorFocusState:t.editorFocusState,createDecoration:void 0,showAddLinkToolbar:!1,editDecoration:void 0};if(!1===e.getMeta("show-add-link-toolbar"))return c(c({},t),{link:o,showAddLinkToolbar:!1,createDecoration:void 0});if(!1===e.getMeta("show-edit-link-toolbar"))return c(c({},t),{link:o,editDecoration:void 0});var a=t.createDecoration,s=t.editDecoration;if(!0===e.getMeta("show-add-link-toolbar")){var l=r.selection,p=l.$from,u=l.$to;if(p.pos===u.pos){var d=document.createElement("span");d.className="nib-link-marker",a=ss.create(r.doc,[ns.widget(p.pos,d)])}else a=ss.create(r.doc,[ns.inline(p.pos,u.pos,{class:"nib-link-marker"})]);return{link:o,editorFocusState:t.editorFocusState,createDecoration:a,showAddLinkToolbar:!0}}return o&&o.contained&&t.editorFocusState?(s&&(!t.link||t.link.from===o.from&&t.link.to===o.to)||(s=ss.create(r.doc,[ns.inline(o.from,o.to,{class:"nib-edit-link-marker"})])),{link:o,editDecoration:s,editorFocusState:t.editorFocusState}):o?c({},t):c(c({},t),{link:o,editDecoration:void 0})}},props:{decorations:function(e){var t=e&&Up.getState(e);return t.createDecoration||t.editDecoration},handleDOMEvents:{focus:function(e){var t=e.state;return(0,e.dispatch)(t.tr.setMeta("show-add-link-toolbar",!1)),!1}}}}),Gp=function(e){var t=Up.getState(e);return t&&!!t.link},Yp=function(e,t){return!Gp(e)&&(t(e.tr.setMeta("show-add-link-toolbar",!0)),!0)},Qp={link:{key:"Mod-K",label:"Link"}},eu={name:"create_link",getMarker:function(e){return e.current&&e.current.getElementsByClassName("nib-link-marker")[0]},condition:function(e){var t=e.state,n=Up.getState(t);return n&&n.showAddLinkToolbar},component:function(e){var t=e.editorWrapper,n=e.marker,r=qe().pmstate;if(!r)return null;var o=r.pmview;if(!o)return null;var i,s,l,c,p=a.useState((l=(s=(i=o.state).selection).$from,c=s.$to,i.doc.textBetween(l.pos,c.pos))),u=p[0],d=p[1],f=a.useState(""),h=f[0],m=f[1],v=a.useState(!1),g=v[0],y=v[1],b=function(e){var t=e.target,n=(t.name,t.value);d(n),n&&y(!1)},w=function(){if(u&&u.length){y(!1);var e=o.state,t=o.dispatch,n=e.tr,r=e.selection,i=r.$from,a=r.$to;t(n.setMeta("show-add-link-toolbar",!1).insertText(u,i.pos,a.pos).addMark(i.pos,i.pos+u.length,e.schema.marks.link.create({href:h}))),o.focus(),C()}else y(!0)},k=function(e){"Enter"===e.key&&w()},C=function(){var e=o.state;(0,o.dispatch)(e.tr.setMeta("show-add-link-toolbar",!1))};return a.createElement(Tc,{onEscKeyPress:C,onClickOutsideEditor:C,onClickInsideEditor:C,editorWrapper:t,marker:n,overlapToolbar:!0,render:function(){return a.createElement(tu,null,a.createElement(nu,null,a.createElement(mc,{placeholder:"Text",name:"linkText",onChange:b,onKeyPress:k,value:u,error:g}),a.createElement(mc,{placeholder:"Href",name:"href",onChange:function(e){return m(e.target.value)},onKeyPress:k,value:h})),a.createElement(pc,{onKeyPress:k,onClick:w},"Add"),a.createElement(pc,{onClick:C},"Cancel"))}})}},tu=zt.div(gp||(gp=u(["\n  align-items: center;\n  display: flex;\n  padding: 4;\n  ","\n"],["\n  align-items: center;\n  display: flex;\n  padding: 4;\n  ","\n"])),(function(e){var t=e.theme.constants;return"\n    border-radius: "+t.borderRadius+";\n    font-size: "+t.fontSize.medium+";\n  "})),nu=zt.div({"> div:first-of-type":{marginBottom:8}}),ru={name:"edit_link",getMarker:function(e){return e.current&&e.current.getElementsByClassName("nib-edit-link-marker")[0]},component:function(e){var t=e.editorWrapper,n=e.marker,r=qe().pmstate;if(!r)return null;var o=r.pmview;if(!o)return null;var i=function(){var e=o.state,t=Up.getState(e);return t&&t.link},s=i();if(!s)return null;var l=a.useState(i().href),c=l[0],p=l[1],u=function(){var e=i(),t=o.state;(0,o.dispatch)(t.tr.setSelection(Ir.create(t.tr.doc,e.to)).removeMark(e.from,e.to,t.schema.marks.link).addMark(e.from,e.to,t.schema.marks.link.create({href:c}))),f(),o.focus()},d=function(){var e=i(),t=o.state;(0,o.dispatch)(t.tr.removeMark(e.from,e.to,t.schema.marks.link)),o.focus(),f()},f=function(){var e=o.state;(0,o.dispatch)(e.tr.setMeta("show-edit-link-toolbar",!1))};return a.createElement(Tc,{onEscKeyPress:f,onClickOutsideEditor:f,editorWrapper:t,marker:n,render:function(){return a.createElement(ou,null,a.createElement(mc,{placeholder:"Url",name:"href",onChange:function(e){return p(e.target.value)},defaultValue:s.href}),a.createElement(pc,{onClick:u},"Update"),a.createElement(Dc,{size:8}),a.createElement(pc,{onClick:d},"Unlink"))}})}},ou=zt.div(yp||(yp=u(["\n  align-items: center;\n  display: flex;\n  padding: 4;\n  ","\n"],["\n  align-items: center;\n  display: flex;\n  padding: 4;\n  ","\n"])),(function(e){var t=e.theme.constants;return"\n    border-radius: "+t.borderRadius+";\n    font-size: "+t.fontSize.medium+";\n  "})),iu={KeymapInfo:Qp,keymaps:function(){return{"Mod-k":Yp}},name:"link",pmPlugin:Zp,popups:[eu,ru],schema:{marks:{link:wo.link}},toolbarComponent:function(){var e=qe().pmstate;if(!e)return null;var t=e.pmview;if(!t)return null;var n=Gp(t.state);return a.createElement("span",{className:"nib-link-marker"},a.createElement(lc,{name:"link",onClick:function(){t.hasFocus||t.focus();var e=t.state,n=t.dispatch;!0===Up.getState(e).showAddLinkToolbar?n(e.tr.setMeta("show-add-link-toolbar",!1)):n(e.tr.setMeta("show-add-link-toolbar",!0))},onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},disabled:n,title:jc(Qp.link)},a.createElement(fc,{name:"link",selected:n})))}},au=K((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["ol",0],r=["ul",0],o=["li",0],i={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1==e.attrs.order?n:["ol",{start:e.attrs.order},0]}},a={parseDOM:[{tag:"ul"}],toDOM:function(){return r}},s={parseDOM:[{tag:"li"}],toDOM:function(){return o},defining:!0};function l(e,t){var n={};for(var r in e)n[r]=e[r];for(var o in t)n[o]=t[o];return n}t.addListNodes=function(e,t,n){return e.append({ordered_list:l(i,{content:"list_item+",group:n}),bullet_list:l(a,{content:"list_item+",group:n}),list_item:l(s,{content:t})})},t.bulletList=a,t.liftListItem=function(e){return function(t,n){var r=t.selection,o=r.$from,i=r.$to,a=o.blockRange(i,(function(t){return t.childCount&&t.firstChild.type==e}));return!!a&&(!n||(o.node(a.depth-1).type==e?function(e,t,n,r){var o=e.tr,i=r.end,a=r.$to.end(r.depth);return i<a&&(o.step(new Rr.ReplaceAroundStep(i-1,a,i,a,new Un.Slice(Un.Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Un.NodeRange(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth)),t(o.lift(r,Rr.liftTarget(r)).scrollIntoView()),!0}(t,n,e,a):function(e,t,n){for(var r=e.tr,o=n.parent,i=n.end,a=n.endIndex-1,s=n.startIndex;a>s;a--)i-=o.child(a).nodeSize,r.delete(i-1,i+1);var l=r.doc.resolve(n.start),c=l.nodeAfter,p=0==n.startIndex,u=n.endIndex==o.childCount,d=l.node(-1),f=l.index(-1);if(!d.canReplace(f+(p?0:1),f+1,c.content.append(u?Un.Fragment.empty:Un.Fragment.from(o))))return!1;var h=l.pos,m=h+c.nodeSize;return r.step(new Rr.ReplaceAroundStep(h-(p?1:0),m+(u?1:0),h+1,m-1,new Un.Slice((p?Un.Fragment.empty:Un.Fragment.from(o.copy(Un.Fragment.empty))).append(u?Un.Fragment.empty:Un.Fragment.from(o.copy(Un.Fragment.empty))),p?0:1,u?0:1),p?0:1)),t(r.scrollIntoView()),!0}(t,n,a)))}},t.listItem=s,t.orderedList=i,t.sinkListItem=function(e){return function(t,n){var r=t.selection,o=r.$from,i=r.$to,a=o.blockRange(i,(function(t){return t.childCount&&t.firstChild.type==e}));if(!a)return!1;var s=a.startIndex;if(0==s)return!1;var l=a.parent,c=l.child(s-1);if(c.type!=e)return!1;if(n){var p=c.lastChild&&c.lastChild.type==l.type,u=Un.Fragment.from(p?e.create():null),d=new Un.Slice(Un.Fragment.from(e.create(null,Un.Fragment.from(l.type.create(null,u)))),p?3:1,0),f=a.start,h=a.end;n(t.tr.step(new Rr.ReplaceAroundStep(f-(p?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}},t.splitListItem=function(e){return function(t,n){var r=t.selection,o=r.$from,i=r.$to,a=r.node;if(a&&a.isBlock||o.depth<2||!o.sameParent(i))return!1;var s=o.node(-1);if(s.type!=e)return!1;if(0==o.parent.content.size){if(2==o.depth||o.node(-3).type!=e||o.index(-2)!=o.node(-2).childCount-1)return!1;if(n){for(var l=Un.Fragment.empty,c=o.index(-1)>0,p=o.depth-(c?1:2);p>=o.depth-3;p--)l=Un.Fragment.from(o.node(p).copy(l));l=l.append(Un.Fragment.from(e.createAndFill()));var u=t.tr.replace(o.before(c?null:-1),o.after(-3),new Un.Slice(l,c?3:2,2));u.setSelection(t.selection.constructor.near(u.doc.resolve(o.pos+(c?3:2)))),n(u.scrollIntoView())}return!0}var d=i.pos==o.end()?s.contentMatchAt(0).defaultType:null,f=t.tr.delete(o.pos,i.pos),h=d&&[null,{type:d}];return!!Rr.canSplit(f.doc,o.pos,2,h)&&(n&&n(f.split(o.pos,2,h).scrollIntoView()),!0)}},t.wrapInList=function(e,t){return function(n,r){var o=n.selection,i=o.$from,a=o.$to,s=i.blockRange(a),l=!1,c=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==i.index(s.depth-1))return!1;var p=n.doc.resolve(s.start-2);c=new Un.NodeRange(p,p,s.depth),s.endIndex<s.parent.childCount&&(s=new Un.NodeRange(i,n.doc.resolve(a.end(s.depth)),s.depth)),l=!0}var u=Rr.findWrapping(c,e,t,s);return!!u&&(r&&r(function(e,t,n,r,o){for(var i=Un.Fragment.empty,a=n.length-1;a>=0;a--)i=Un.Fragment.from(n[a].type.create(n[a].attrs,i));e.step(new Rr.ReplaceAroundStep(t.start-(r?2:0),t.end,t.start,t.end,new Un.Slice(i,0,0),n.length,!0));for(var s=0,l=0;l<n.length;l++)n[l].type==o&&(s=l+1);for(var c=n.length-s,p=t.start+n.length-(r?2:0),u=t.parent,d=t.startIndex,f=t.endIndex,h=!0;d<f;d++,h=!1)!h&&Rr.canSplit(e.doc,p,c)&&(e.split(p,c),p+=2*c),p+=u.child(d).nodeSize;return e}(n.tr,s,u,l,e).scrollIntoView()),!0)}}}));H(au),au.addListNodes,au.bulletList;var su=au.liftListItem,lu=(au.listItem,au.orderedList,au.sinkListItem),cu=au.splitListItem,pu=au.wrapInList,uu=function(e,t,n){return io(pu(n),(function(e,t){return e.type===t.type&&e.type===n}))(e,t)},du=function(e,t){return function(n,r){var o=n.selection.$anchor,i=n.schema.nodes,a=o.node(o.depth-2),s=a&&a.type.name,l=o.node(o.depth-1);return(l&&l.type.name)===i.listItem.name?s!==e?(su(i.listItem)(n,r),uu(t.state,r,i[e])):function(e,t,n){for(var r=e.selection.$from.depth;r>1;)su(n)(e,t),r-=2;return!0}(n,r,i.listItem):uu(n,r,i[e])}},fu={orderedList:{key:"Mod-Shift-7",label:"Numbered List"},bulletList:{key:"Mod-Shift-8",label:"Bullet List"}},hu=function(e){var t=e.schema.nodes,n=t.bulletList,r=t.orderedList,o=e.selection.$from.node(-2);if(o&&(o.type===n||o.type===r))return o.type},mu=new no("list"),vu=new Qr({key:mu,state:{init:function(e,t){return{selectedListType:hu(t)}},apply:function(e,t,n,r){return e.docChanged||n.selection!==r.selection?{selectedListType:hu(r)}:t}}}),gu={KeymapInfo:fu,keymaps:function(e){return{"Mod-Shift-7":function(t,n){return du("orderedList",e())(t,n)},"Mod-Shift-8":function(t,n){return du("bulletList",e())(t,n)},Enter:function(e,t){return function(e,t){var n=e.selection.$anchor,r=e.schema.nodes,o=n.node(n.depth-1);return o.type===r.listItem&&(o.textContent.length>0?cu(r.listItem)(e,t):su(r.listItem)(e,t))}(e,t)},Tab:function(e,t){return lu(e.schema.nodes.listItem)(e,t)},"Shift-Tab":function(e,t){return su(e.schema.nodes.listItem)(e,t)}}},name:"list",pmPlugin:vu,schema:{nodes:{heading:ql.heading,bulletList:ql.bulletList,listItem:ql.listItem,orderedList:ql.orderedList}},styles:function(){return'\n  .ProseMirror li {\n    position: relative;\n  }\n\n  /* Make sure li selections wrap around markers */\n\n  li.ProseMirror - selectednode {\n    outline: none;\n  }\n\n  li.ProseMirror - selectednode: after {\n    content: "";\n    position: absolute;\n    left: -32px;\n    right: -2px;\n    top: -2px;\n    bottom: -2px;\n    border: 2px solid #8cf;\n    pointer-events: none;\n  }\n'},toolbarComponent:function(){var e=qe().pmstate;if(!e)return null;var t=e.pmview;if(!t)return null;var n=function(e){var n=e.currentTarget.getAttribute("name"),r=t.state,o=t.dispatch;du(n,t)(r,o)},r=function(){var e=t.state,n=mu.getState(e),r=n&&n.selectedListType;return r&&r.name}(),o="bulletList"===r,i="orderedList"===r;return a.createElement(a.Fragment,null,a.createElement(lc,{name:"bulletList",onClick:n,selected:o,title:jc(fu.bulletList)},a.createElement(fc,{name:"listBulleted",selected:o})),a.createElement(lc,{name:"orderedList",onClick:n,selected:i,title:jc(fu.orderedList)},a.createElement(fc,{name:"listNumbered",selected:i})))}},yu={block:qc,blockquote:tp,common:rp,color:pp,history:Sp,image:_p,inline:Jp,link:iu,list:gu},bu=function(e){var t=e.keymap;return a.createElement(Eu,null,t.map((function(e){var t=e.key,n=e.label;return a.createElement(Cu,{key:"option-key-"+t},a.createElement("span",null,n),a.createElement(xu,null,function(e){var t="\u2318";"Windows"===_c()&&(t="^");var n=e.replace("Mod",t);return(n=(n=n.replace(/-/g," + ")).replace("Shift","\u21e7")).replace("Alt","\u2325")}(t)))})))},wu=function(e){var t=e.hideModal,n=e.addons,r=function(e,t){var n=function(e){return e.trim().split(" ").filter((function(e){return"help"!==e})).map((function(e){return yu[e]}))}(e).filter((function(e){return e.KeymapInfo})).map((function(e){return{name:e.name,keymaps:e.KeymapInfo&&Object.values(e.KeymapInfo)}}));return t&&t.forEach((function(e){var t=e.name,r=e.KeymapInfo;r&&n.push({name:t,keymaps:Object.values(r)})})),n.push({name:"help",keymaps:Object.values(up)}),n}(je().config.plugins.options,n).reduce((function(e,t){return t.keymaps?p(e,t.keymaps):p(e)}),[]),o=Math.ceil(r.length/2),i=r.slice(0,o),s=r.slice(o,r.length);return a.createElement(yc,{title:"Help",hideModal:t,render:function(){return a.createElement(Su,null,a.createElement(ku,null,"Keyboard Shortcuts"),a.createElement(Mu,null,a.createElement(bu,{keymap:i}),a.createElement(Dc,{size:4}),a.createElement(bu,{keymap:s})))}})},ku=zt.div({padding:"0px 0px 10px 20px"},(function(e){return{fontSize:e.theme.constants.fontSize.large}})),Cu=zt.div({padding:"4px 24px",display:"flex",justifyContent:"space-between"}),xu=zt.span({whiteSpace:"nowrap"}),Su=zt.div({height:"100%",overflow:"scroll"}),Mu=zt.div({display:"flex","@media(max-width: 700px)":{flexDirection:"column"}}),Eu=zt.span({width:"48%","@media(max-width: 700px)":{width:"100%"}}),Ou=new no("help"),Au=new Qr({key:Ou,state:{init:function(){return{}},apply:function(e){return{showHelpModal:e.getMeta("show-help-modal")}}}}),Tu=zt(lc)({marginLeft:8}),Nu={block:qc,blockquote:tp,common:rp,color:pp,help:{KeymapInfo:up,keymaps:function(){return{"Mod-/":function(e,t){return function(e,t){t(e.tr.setMeta("show-help-modal",!0))}(e,t)}}},pmPlugin:Au,name:"help",toolbarComponent:function(e){var t=e.addons,n=qe().pmstate;if(!n)return null;var r=n.pmview;if(!r)return null;var o=a.useState(!1),i=o[0],s=o[1];return a.useEffect((function(){var e=r.state,t=Ou.getState(e).showHelpModal;t&&s(t)})),a.createElement(a.Fragment,null,a.createElement(Tu,{onClick:function(){return s(!0)},title:jc(up.help)},a.createElement(fc,{name:"question"})),i&&a.createElement(wu,{hideModal:function(){var e=r.state,t=r.dispatch;s(!1),t(e.tr.setMeta("show-help-modal",!1))},addons:t}))}},history:Sp,image:_p,inline:Jp,link:iu,list:gu},Du=function(e){var t=[];return e.forEach((function(e){e&&(e.pmPlugins?t=p(t,e.pmPlugins):e.pmPlugin&&(t=p(t,[e.pmPlugin])))})),t},Ru=function(e){return e.trim().split(" ").reduce((function(e,t){return e&&e.indexOf(t)<0&&e.push(t),e}),[]).map((function(e){return Nu[e]}))},Lu=function(e,t,n,r){void 0===r&&(r=[]);var o=e.pmview;if(!o)return[];for(var i=p(r),a=function(e){var a=t[e],s=!1;if(!a.condition||a.condition(o)){var l=a.getMarker(n,o);if(l){s=!0;var c=i.findIndex((function(e){return e.name===a.name}));c<0&&(c=i.length),i[c]={marker:l,name:a.name,PopupComponent:a.component}}}!s&&r.find((function(e){return e.name===a.name}))&&(i=i.filter((function(e){return e.name!==a.name})))},s=0;s<t.length;s+=1)a(s);return i},Pu=function(e,t,n){void 0===n&&(n=[]);var r=e.trim().split(" ");return function(e,t){return e.map((function(e){return Nu[e]||t.find((function(t){return t.name===e}))}))}(t.trim().split(" ").filter((function(e){return r.indexOf(e)>=0||n.some((function(t){return t.name===e}))||"history"===e})),n).map((function(e){return{name:e.name,toolbarComponent:e.toolbarComponent}}))},Fu=zt.div({alignItems:"center",display:"flex",position:"relative",border:"none",userSelect:"none"},(function(e){var t=e.theme,n=t.constants,r=t.toolbar;return c({backgroundColor:n.color.background.primary,color:n.color.text.primary,fontSize:n.fontSize.medium,borderRadius:n.borderRadius.large},r.inline({theme:n}))})),zu=zt(Tc)({padding:"2px !important"}),Iu={name:"toolbar",getMarker:function(e){return e.current&&e.current.getElementsByClassName("nib-selection-focus-marker")[0]},component:Le((function(e){var t=e.editorWrapper,n=e.marker,r=e.theme;if(!n)return null;var o=a.useState(0),i=o[0],s=o[1],l=je().config,c=l.plugins,p=l.toolbar,u=qe().pmstate;if(!u)return null;var d=Pu(c.options,p.inline.options),f=function(){var e=u.pmview,t=e.state;(0,e.dispatch)(t.tr.setMeta("hide-all-popups",!0))};return a.useEffect((function(){s(i+1)}),[u]),a.createElement(zu,{onEscKeyPress:f,onClickOutsideEditor:f,editorWrapper:t,marker:n,changeCounter:i,render:function(){return a.createElement(Fu,{onMouseDown:function(e){return e.preventDefault()}},d.map((function(e,t){return e.toolbarComponent?a.createElement(a.Fragment,{key:"inline-toolbar-option-"+e.name},a.createElement(e.toolbarComponent,{config:p.inline[e.name],pmstate:u,theme:r}),t<d.length-1&&a.createElement(zc,null)):null})))}})}))},$u=Le((function(e){var t=e.addons,n=void 0===t?[]:t,r=e.editorWrapper,o=e.theme,i=qe().pmstate;if(!i)return null;if(!i.pmview)return null;var s,l,c,u=je().config,d=(s=u.plugins,l=u.toolbar,c=function(e,t){return e&&Ru(e).reduce((function(e,n){return n[t]?p(e,n[t]):e}),[])}(s.options,"popups"),n.forEach((function(e){e.popups&&(c=p(c,e.popups))})),l.options.indexOf("inline")>=0&&c.push(Iu),c),f=a.useState(Lu(i,d,r,[])),h=f[0],m=f[1];if(a.useEffect((function(){m(Lu(i,d,r,h||[]))}),[i]),!h.length)return null;var v=h[h.length-1],g=v.PopupComponent,y=v.marker,b=h.filter((function(e){return"table_menu"===e.name||"cell_menu"===e.name}));return a.createElement(a.Fragment,null,a.createElement(g,{pmstate:i,editorWrapper:r,marker:y,theme:o}),b.map((function(e){var t=e.PopupComponent,n=e.marker;return a.createElement(t,{key:"popup_"+e.name,pmstate:i,editorWrapper:r,marker:n,theme:o})})))})),Bu=Le((function(e){var t=e.editorWrapper,n=e.plugins,r=e.theme,o=qe().pmstate;return a.createElement(a.Fragment,null,n.map((function(e){return e.toolbar&&e.toolbar.map((function(n,i){return a.createElement(n,{key:"plugin-toolbar-"+e.name+"-"+i,editorWrapper:t,pmstate:o,theme:r})}))})))})),_u=zt.div({alignItems:"flex-start",display:"flex",flexWrap:"nowrap",justifyContent:"space-between",position:"relative",padding:4,borderLeft:"none",borderRight:"none",borderTop:"none",userSelect:"none"},(function(e){var t=e.theme,n=t.constants,r=t.toolbar;return c({backgroundColor:n.color.background.primary,color:n.color.text.primary,borderBottom:n.border.primary,fontSize:n.fontSize.medium},r.top({theme:n}))})),ju=zt.div({alignItems:"center",display:"flex",flexWrap:"wrap"}),Wu=Le((function(e){var t=e.editorWrapper,n=e.addons,r=void 0===n?[]:n,o=e.theme,i=qe().pmstate;if(!i)return null;if(!i.pmview)return null;var s=je().config,l=s.plugins,c=s.toolbar,p=Pu(l.options,c.top.options,r),u=p.filter((function(e){return"help"!==e.name})),d=p.filter((function(e){return"help"===e.name}))[0];return a.createElement(_u,{onMouseDown:function(e){return e.preventDefault()}},a.createElement(ju,null,u.map((function(e,n){return e.toolbarComponent?a.createElement(a.Fragment,{key:"top-toolbar-option-"+e.name},a.createElement(e.toolbarComponent,{config:c.top[e.name],editorWrapper:t,pmstate:i,theme:o}),n<u.length-1&&a.createElement(zc,null)):null}))),d&&d.toolbarComponent&&a.createElement(d.toolbarComponent,{addons:r}))})),Vu=function(e,t){var n=p(e.trim().split(" ").map((function(e){return e&&Nu[e]})),t).reduce((function(e,t){return t.styles&&e.push(t.styles),e}),[]);return n.push(Nu.common.styles),function(e){return n.reduce((function(t,n){return""+t+n(e)}),"")}},qu=K((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function r(e){var t,r,o,i,a=e.split(/-(?!$)/),s=a[a.length-1];"Space"==s&&(s=" ");for(var l=0;l<a.length-1;l++){var c=a[l];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))t=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))o=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);n?i=!0:r=!0}}return t&&(s="Alt-"+s),r&&(s="Ctrl-"+s),i&&(s="Meta-"+s),o&&(s="Shift-"+s),s}function o(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function i(e){var t=function(e){var t=Object.create(null);for(var n in e)t[r(n)]=e[n];return t}(e);return function(e,n){var r,i=Wo.keyName(n),a=1==i.length&&" "!=i,s=t[o(i,n,!a)];if(s&&s(e.state,e.dispatch,e))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(r=Wo.base[n.keyCode])&&r!=i){var l=t[o(r,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}else if(a&&n.shiftKey){var c=t[o(i,n,!0)];if(c&&c(e.state,e.dispatch,e))return!0}return!1}}t.keydownHandler=i,t.keymap=function(e){return new ro.Plugin({props:{handleKeyDown:i(e)}})}}));H(qu),qu.keydownHandler;var Hu,Ku,Ju,Uu=qu.keymap,Xu=function(e,t){var n=c({},e);return Object.keys(t).forEach((function(e){n[e]?n[e].push(t[e]):n[e]=[t[e]]})),n},Zu=function(e,t){var n={};return e.forEach((function(e){e&&e.keymaps&&(n=Xu(n,e.keymaps(t)))})),n=Xu(n,ao),Uu(function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=function(t,r){for(var o=!1,i=0;i<e[n].length;i+=1)if(e[n][i](t,r)){o=!0;break}return o}})),t}(n))},Gu=function(e){var t=e.map((function(e){return e&&e.schema})).reduce((function(e,t){var n=e;return t&&(n.nodes=c(c({},e.nodes),t.nodes||{}),n.marks=c(c({},e.marks),t.marks||{})),n}),{nodes:{paragraph:ql.paragraph},marks:{}});return new Rn(t)},Yu={doc:{type:"doc",content:[{type:"paragraph"}]},selection:{type:"text",anchor:1,head:1}},Qu=function(e,t,n){var r=t||Yu;return Zr.fromJSON({schema:Gu(e),plugins:p([Zu(e,n)],Du(e))},r)},ed=zt(zt.div({position:"relative",textAlign:"left"},(function(e){var t=e.theme,n=t.constants,r=t.wrapper;return{border:n.border.primary,borderRadius:n.borderRadius.small,backgroundColor:n.color.background.primary,color:n.color.text.primary,fontSize:n.fontSize.medium,...r({theme:n})}})))(Hu||(Hu=u(["\n  ","\n"],["\n  ","\n"])),(function(e){var t=e.theme;return qc.styles(t)})),td=zt(zt.div({border:"none",overflow:"auto",padding:4,position:"relative",textAlign:"left"},(function(e){var t=e.theme,n=t.constants,r=t.editor;return{backgroundColor:n.color.background.primary,color:n.color.text.primary,fontSize:n.fontSize.medium,...r({theme:n})}})))(Ku||(Ku=u(["\n  ","\n  ","\n"],["\n  ","\n  ","\n"])),(function(e){var t=e.theme;return(0,e.pluginStyles)(t)}),"\n  & .ProseMirror {\n    &:focus {\n      outline: none;\n    }\n  }\n\n  // Styles copied from https://github.com/ProseMirror/prosemirror-view/blob/master/style/prosemirror.css\n  .ProseMirror {\n    position: relative;\n  }\n\n  .ProseMirror {\n    word-wrap: break-word;\n    white-space: pre-wrap;\n    -webkit-font-variant-ligatures: none;\n    font-variant-ligatures: none;\n  }\n\n  .ProseMirror pre {\n    white-space: pre-wrap;\n  }\n\n  .ProseMirror-hideselection *::selection {\n    background: transparent;\n  }\n\n  .ProseMirror-hideselection *::-moz-selection {\n    background: transparent;\n  }\n\n  .ProseMirror-hideselection {\n    caret-color: transparent;\n  }\n"),nd=function(e){var t=e.addons,n=void 0===t?[]:t,r=e.autoFocus,o=void 0!==r&&r,i=e.defaultValue,s=e.licenseKey,l=e.onChange,c=void 0===l?function(){}:l,p=e.spellCheck,u=void 0!==p&&p,d=a.useRef(null),f=je(),h=f.config.plugins,m=f.dispatcher,v=a.useState()[0],g=function(){return v},y=function(){m.dispatch(v),n.forEach((function(e){e.viewUpdateCallback&&v&&e.viewUpdateCallback(v)}))};return a.useEffect((function(){var e=Ru(h.options+" history common");e=e.concat(n);var t=Qu(e,i,g);return v=new ws(d.current,{state:t,dispatchTransaction:function(e){var t=v.state.apply(e);n.forEach((function(n){n.dispatchTransactionCallback&&(t=n.dispatchTransactionCallback(t,e))})),function(e,t){e.updateState(t)}(v,t),y();var r=v.state.toJSON();n.forEach((function(e){var t=e.name,n=e.getSerializableState;n&&(r[t]=n())})),c&&c(r)}}),o&&v.focus(),n.forEach((function(t){t.createStateFromDoc&&t.createStateFromDoc((function(t){var n=Qu(e,t);v.updateState(n)}))})),y(),n.forEach((function(e){e.updateLicenseInfo&&e.updateLicenseInfo(d.current,s),i&&i[e.name]&&e.init&&e.init(i[e.name])})),function(){return v.destroy()}}),[]),a.createElement(td,{pluginStyles:Vu(h.options,n),ref:d,spellCheck:u,onClick:function(){return v&&v.focus()}})},rd=Le((function(e){var t=e.addons,n=void 0===t?[]:t,r=e.theme,o=qe().pmstate;if(!o)return null;if(!o.pmview)return null;var i=n?n.reduce((function(e,t){return p(e,t.portals||[])}),[]):[];return a.createElement(a.Fragment,null,i.map((function(e){return a.createElement(e,{theme:r,pmstate:o})})))})),od=function(e){var t=a.useState(!1),n=t[0],r=t[1],o=a.useRef(null),i=je().config.toolbar.options.indexOf("top")>=0,s=e.addons;return a.useEffect((function(){var t=e.licenseKey;s&&At.get("https://licencecheck.herokuapp.com/licenceCheck",{params:{licenseKey:t,plugins:s.map((function(e){return e.name}))}}).then((function(e){"FAIL"===e.data.status&&r(!0)}))}),[e.licenseKey]),a.createElement(ed,{ref:o},n&&a.createElement(id,null,"Please get license to use advance plugins !"),i&&a.createElement(Wu,{editorWrapper:o,addons:s}),a.createElement(nd,c({},e)),a.createElement($u,{editorWrapper:o,addons:s}),a.createElement(rd,{addons:s}),s&&a.createElement(Bu,{editorWrapper:o,plugins:s}))},id=zt.div(Ju||(Ju=u(["\n  width: 100% !important;\n  background-color: rgba(213, 0, 0, 0.8) !important;\n  height: 30px !important;\n  position: absolute !important;\n  top: 37px !important;\n  color: white !important;\n  text-align: center;\n  font-size: 18px !important;\n  line-height: 1.5;\n  z-index: 10;\n"],["\n  width: 100% !important;\n  background-color: rgba(213, 0, 0, 0.8) !important;\n  height: 30px !important;\n  position: absolute !important;\n  top: 37px !important;\n  color: white !important;\n  text-align: center;\n  font-size: 18px !important;\n  line-height: 1.5;\n  z-index: 10;\n"]))),ad=function(e){var t=e.licenseKey,n=void 0===t?"":t,r=e.theme,o=e.styleConfig,i=e.config,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["licenseKey","theme","styleConfig","config"]);return a.createElement(Ie,{theme:c({},r),styleConfig:c({},o)},a.createElement(_e,{config:i,licenseKey:n},a.createElement(Ve,null,a.createElement(od,c({},s,{licenseKey:n})))))};ad.propTypes={addons:o.array,autoFocus:o.bool,config:o.object,defaultValue:o.object,licenseKey:o.string,onChange:o.func,spellCheck:o.bool,styleConfig:o.any,theme:o.any},t.ClassNames=q,t.Editor=ad,t._extends=Zl,t._objectSpread2=Yl,t._objectWithoutProperties=tc,t.createCommonjsModule=K,t.createStyled=Ft,t.css=L,t.jsx=function(e,t){var n=arguments;if(null==t||!$.call(t,"css"))return a.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=_;var i={};for(var s in t)$.call(t,s)&&(i[s]=t[s]);i[I]=e,o[1]=i;for(var l=2;l<r;l++)o[l]=n[l];return a.createElement.apply(null,o)},t.keyframes=j,t.unwrapExports=H,t.withTheme=Le}).call(this,n("8oxB"))}}]);